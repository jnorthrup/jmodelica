<HTML>
<HEAD>
<TITLE>Modelica.Mechanics.Translational.Components</TITLE>
<META name="HTML-Generator" content="Dymola">
<META name="description" content="&quot;Components for 1D translational mechanical drive trains&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial,sans-serif; }
pre     { font-size:  9pt; font-family: Courier,monospace;}
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address {                  font-weight: normal} 
td      { solid #000; vertical-align:top; }
th      { solid #000; vertical-align:top; font-weight: bold; }
table   { solid #000; border-collapse: collapse;}
</style>
</HEAD>
<BODY><P>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Components<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Mechanics.Translational.Components"></A><A HREF="Modelica_Mechanics_Translational.html#Modelica.Mechanics.Translational"
>Modelica.Mechanics.Translational</A>.Components</H2>
<B>Components for 1D translational mechanical drive trains</B>
<P>
<H3>Information</H3>
<PRE></pre>
<p>
This package contains basic components 1D mechanical translational drive trains.
</p>
<pre></PRE><P>
Extends from <A HREF="Modelica_Icons_Library2.html#Modelica.Icons.Library2"
>Modelica.Icons.Library2</A> (Icon for library where additional icon elements shall be added).
<H3>Package Content</H3><p>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2 >
<TR><TH >Name</TH><TH>Description</TH></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.Translational.Components.FixedS.png" ALT="Modelica.Mechanics.Translational.Components.Fixed" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_Translational_Components.html#Modelica.Mechanics.Translational.Components.Fixed"
>Fixed</A>
</TD><TD>Fixed flange</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.Translational.Components.MassS.png" ALT="Modelica.Mechanics.Translational.Components.Mass" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_Translational_Components.html#Modelica.Mechanics.Translational.Components.Mass"
>Mass</A>
</TD><TD>Sliding mass with inertia</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.Translational.Components.RodS.png" ALT="Modelica.Mechanics.Translational.Components.Rod" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_Translational_Components.html#Modelica.Mechanics.Translational.Components.Rod"
>Rod</A>
</TD><TD>Rod without inertia</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.Translational.Components.SpringS.png" ALT="Modelica.Mechanics.Translational.Components.Spring" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_Translational_Components.html#Modelica.Mechanics.Translational.Components.Spring"
>Spring</A>
</TD><TD>Linear 1D translational spring</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.Translational.Components.DamperS.png" ALT="Modelica.Mechanics.Translational.Components.Damper" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_Translational_Components.html#Modelica.Mechanics.Translational.Components.Damper"
>Damper</A>
</TD><TD>Linear 1D translational damper</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.Translational.Components.SpringDamperS.png" ALT="Modelica.Mechanics.Translational.Components.SpringDamper" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_Translational_Components.html#Modelica.Mechanics.Translational.Components.SpringDamper"
>SpringDamper</A>
</TD><TD>Linear 1D translational spring and damper in parallel</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.Translational.Components.ElastoGapS.png" ALT="Modelica.Mechanics.Translational.Components.ElastoGap" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_Translational_Components.html#Modelica.Mechanics.Translational.Components.ElastoGap"
>ElastoGap</A>
</TD><TD>1D translational spring damper combination with gap</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.Translational.Components.SupportFrictionS.png" ALT="Modelica.Mechanics.Translational.Components.SupportFriction" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_Translational_Components.html#Modelica.Mechanics.Translational.Components.SupportFriction"
>SupportFriction</A>
</TD><TD>Coulomb friction in support</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.Translational.Components.BrakeS.png" ALT="Modelica.Mechanics.Translational.Components.Brake" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_Translational_Components.html#Modelica.Mechanics.Translational.Components.Brake"
>Brake</A>
</TD><TD>Brake basend on Coulomb friction</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.Translational.Components.IdealGearR2TS.png" ALT="Modelica.Mechanics.Translational.Components.IdealGearR2T" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_Translational_Components.html#Modelica.Mechanics.Translational.Components.IdealGearR2T"
>IdealGearR2T</A>
</TD><TD>Gearbox transforming rotational into translational motion&quot;</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.Translational.Components.IdealRollingWheelS.png" ALT="Modelica.Mechanics.Translational.Components.IdealRollingWheel" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_Translational_Components.html#Modelica.Mechanics.Translational.Components.IdealRollingWheel"
>IdealRollingWheel</A>
</TD><TD>Simple 1-dim. model of an ideal rolling wheel without inertia</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.Translational.Components.InitializeFlangeS.png" ALT="Modelica.Mechanics.Translational.Components.InitializeFlange" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_Translational_Components.html#Modelica.Mechanics.Translational.Components.InitializeFlange"
>InitializeFlange</A>
</TD><TD>Initializes a flange with pre-defined position, speed and acceleration (usually, this is reference data from a control bus)</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.Translational.Components.MassWithStopAndFrictionS.png" ALT="Modelica.Mechanics.Translational.Components.MassWithStopAndFriction" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_Translational_Components.html#Modelica.Mechanics.Translational.Components.MassWithStopAndFriction"
>MassWithStopAndFriction</A>
</TD><TD>Sliding mass with hard stop and Stribeck friction</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.Translational.Components.RelativeStatesS.png" ALT="Modelica.Mechanics.Translational.Components.RelativeStates" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_Translational_Components.html#Modelica.Mechanics.Translational.Components.RelativeStates"
>RelativeStates</A>
</TD><TD>Definition of relative state variables</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Fixed<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.Translational.Components.FixedI.png" ALT="Modelica.Mechanics.Translational.Components.Fixed" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.Translational.Components.Fixed"></A><A HREF="Modelica_Mechanics_Translational_Components.html#Modelica.Mechanics.Translational.Components"
>Modelica.Mechanics.Translational.Components</A>.Fixed</H2>
<B>Fixed flange</B><p>
<H3>Information</H3>
<PRE></pre>
<p>
The <i>flange</i> of a 1D translational mechanical system <i>fixed</i>
at an position s0 in the <i>housing</i>. May be used:
</p>
<ul>
<li> to connect a compliant element, such as a spring or a damper,
     between a sliding mass and the housing.
<li> to fix a rigid element, such as a sliding mass, at a specific
     position.
</ul>
 
<pre>
</PRE>

<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>s0</TD><TD>fixed offset position of housing [m]</TD></TR>
</TABLE>
<H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>flange</TD><TD>&nbsp;</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Mass<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.Translational.Components.MassI.png" ALT="Modelica.Mechanics.Translational.Components.Mass" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.Translational.Components.Mass"></A><A HREF="Modelica_Mechanics_Translational_Components.html#Modelica.Mechanics.Translational.Components"
>Modelica.Mechanics.Translational.Components</A>.Mass</H2>
<B>Sliding mass with inertia</B><p>
<H3>Information</H3>
<PRE></pre>
<p>
Sliding mass with <i>inertia, without friction</i> and two rigidly connected flanges.
</p>
<p>
The sliding mass has the length L, the position coordinate s is in the middle.
Sign convention: A positive force at flange flange_a moves the sliding mass in the positive direction.
A negative force at flange flange_a moves the sliding mass to the negative direction.
</p>
 
<pre>
</PRE>
Extends from <A HREF="Modelica_Mechanics_Translational_Interfaces.html#Modelica.Mechanics.Translational.Interfaces.PartialRigid"
>Translational.Interfaces.PartialRigid</A> (Rigid connection of two translational 1D flanges ).
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>m</TD><TD>mass of the sliding mass [kg]</TD></TR>
<TR><TD>L</TD><TD>Length of component, from left flange to right flange (= flange_b.s - flange_a.s) [m]</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=2><B>Advanced</B></TD></TR>
<TR><TD>stateSelect</TD><TD>Priority to use s and v as states</TD></TR>
</TABLE>
<H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>flange_a</TD><TD>Left flange of translational component</TD></TR>
<TR><TD>flange_b</TD><TD>Right flange of translational component</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Rod<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.Translational.Components.RodI.png" ALT="Modelica.Mechanics.Translational.Components.Rod" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.Translational.Components.Rod"></A><A HREF="Modelica_Mechanics_Translational_Components.html#Modelica.Mechanics.Translational.Components"
>Modelica.Mechanics.Translational.Components</A>.Rod</H2>
<B>Rod without inertia</B><p>
<H3>Information</H3>
<PRE></pre>
<p>
Rod <i>without inertia</i> and two rigidly connected flanges.
</p>
 
<pre>
</PRE>
Extends from <A HREF="Modelica_Mechanics_Translational_Interfaces.html#Modelica.Mechanics.Translational.Interfaces.PartialRigid"
>Translational.Interfaces.PartialRigid</A> (Rigid connection of two translational 1D flanges ).
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>L</TD><TD>Length of component, from left flange to right flange (= flange_b.s - flange_a.s) [m]</TD></TR>
</TABLE>
<H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>flange_a</TD><TD>Left flange of translational component</TD></TR>
<TR><TD>flange_b</TD><TD>Right flange of translational component</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Spring<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.Translational.Components.SpringI.png" ALT="Modelica.Mechanics.Translational.Components.Spring" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.Translational.Components.Spring"></A><A HREF="Modelica_Mechanics_Translational_Components.html#Modelica.Mechanics.Translational.Components"
>Modelica.Mechanics.Translational.Components</A>.Spring</H2>
<B>Linear 1D translational spring</B><p>
<H3>Information</H3>
<PRE></pre>
<p>
A <i>linear 1D translational spring</i>. The component can be connected either
between two sliding masses, or between
a sliding mass and the housing (model Fixed), to describe
a coupling of the sliding mass with the housing via a spring.
</p>
 
<pre>
</PRE>
Extends from <A HREF="Modelica_Mechanics_Translational_Interfaces.html#Modelica.Mechanics.Translational.Interfaces.PartialCompliant"
>Translational.Interfaces.PartialCompliant</A> (Compliant connection of two translational 1D flanges).
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>c</TD><TD>spring constant  [N/m]</TD></TR>
<TR><TD>s_rel0</TD><TD>unstretched spring length [m]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=2>Initialization</TD></TR>
<TR><TD>s_rel</TD><TD>relative distance (= flange_b.s - flange_a.s) [m]</TD></TR>
</TABLE>
<H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>flange_a</TD><TD>Left flange of compliant 1-dim. translational component</TD></TR>
<TR><TD>flange_b</TD><TD>Right flange of compliant 1-dim. translational component</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Damper<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.Translational.Components.DamperI.png" ALT="Modelica.Mechanics.Translational.Components.Damper" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.Translational.Components.Damper"></A><A HREF="Modelica_Mechanics_Translational_Components.html#Modelica.Mechanics.Translational.Components"
>Modelica.Mechanics.Translational.Components</A>.Damper</H2>
<B>Linear 1D translational damper</B><p>
<H3>Information</H3>
<PRE></pre>
<p>
<i>Linear, velocity dependent damper</i> element. It can be either connected
between a sliding mass and the housing (model Fixed), or
between two sliding masses.
</p>
 
<pre>
</PRE>
Extends from <A HREF="Modelica_Mechanics_Translational_Interfaces.html#Modelica.Mechanics.Translational.Interfaces.PartialCompliantWithRelativeStates"
>Translational.Interfaces.PartialCompliantWithRelativeStates</A> (Base model for the compliant connection of two translational 1-dim. shaft flanges where the relative position and relative velocities are used as states).
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>d</TD><TD>damping constant [N.s/m]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=2>Initialization</TD></TR>
<TR><TD>s_rel</TD><TD>Relative distance (= flange_b.s - flange_a.s) [m]</TD></TR>
<TR><TD>v_rel</TD><TD>Relative velocity (= der(s_rel)) [m/s]</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=2><B>Advanced</B></TD></TR>
<TR><TD>stateSelect</TD><TD>Priority to use phi_rel and w_rel as states</TD></TR>
<TR><TD>s_nominal</TD><TD>Nominal value of s_rel (used for scaling) [m]</TD></TR>
</TABLE>
<H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>flange_a</TD><TD>Left flange of compliant 1-dim. translational component</TD></TR>
<TR><TD>flange_b</TD><TD>Right flange of compliant 1-dim. transational component</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE SpringDamper<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.Translational.Components.SpringDamperI.png" ALT="Modelica.Mechanics.Translational.Components.SpringDamper" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.Translational.Components.SpringDamper"></A><A HREF="Modelica_Mechanics_Translational_Components.html#Modelica.Mechanics.Translational.Components"
>Modelica.Mechanics.Translational.Components</A>.SpringDamper</H2>
<B>Linear 1D translational spring and damper in parallel</B><p>
<H3>Information</H3>
<PRE></pre>
<p>
A <i>spring and damper element connected in parallel</i>.
The component can be
connected either between two sliding masses to describe the elasticity
and damping, or between a sliding mass and the housing (model Fixed),
to describe a coupling of the sliding mass with the housing via a spring/damper.
<p>
<pre>
</PRE>
Extends from <A HREF="Modelica_Mechanics_Translational_Interfaces.html#Modelica.Mechanics.Translational.Interfaces.PartialCompliantWithRelativeStates"
>Translational.Interfaces.PartialCompliantWithRelativeStates</A> (Base model for the compliant connection of two translational 1-dim. shaft flanges where the relative position and relative velocities are used as states).
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>c</TD><TD>spring constant [N/m]</TD></TR>
<TR><TD>d</TD><TD>damping constant [N.s/m]</TD></TR>
<TR><TD>s_rel0</TD><TD>unstretched spring length [m]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=2>Initialization</TD></TR>
<TR><TD>s_rel</TD><TD>Relative distance (= flange_b.s - flange_a.s) [m]</TD></TR>
<TR><TD>v_rel</TD><TD>Relative velocity (= der(s_rel)) [m/s]</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=2><B>Advanced</B></TD></TR>
<TR><TD>stateSelect</TD><TD>Priority to use phi_rel and w_rel as states</TD></TR>
<TR><TD>s_nominal</TD><TD>Nominal value of s_rel (used for scaling) [m]</TD></TR>
</TABLE>
<H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>flange_a</TD><TD>Left flange of compliant 1-dim. translational component</TD></TR>
<TR><TD>flange_b</TD><TD>Right flange of compliant 1-dim. transational component</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE ElastoGap<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.Translational.Components.ElastoGapI.png" ALT="Modelica.Mechanics.Translational.Components.ElastoGap" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.Translational.Components.ElastoGap"></A><A HREF="Modelica_Mechanics_Translational_Components.html#Modelica.Mechanics.Translational.Components"
>Modelica.Mechanics.Translational.Components</A>.ElastoGap</H2>
<B>1D translational spring damper combination with gap</B><p>
<H3>Information</H3>
<PRE></pre>
<p>
A linear spring damper combination that can lift off.
The component can be connected between a sliding mass and the housing (model 
<A HREF="Modelica_Mechanics_Translational_Components.html#Modelica.Mechanics.Translational.Components.Fixed"
>Fixed</a>), 
to describe the contact of a sliding mass with the housing.
</p>
 
<p>
As long as s_rel &gt; s_rel0, no force is exerted (s_rel = flange_b.s - flange_a.s).
If s_rel &le; s_rel0, the contact force is basically computed with a linear
spring/damper characteristic:
</p
 
<pre>
   desiredContactForce = c*(s_rel - s_rel0) + d*<b>der</b>(s_rel)
</pre>
 
<p>
This force law leads to the following difficulties:
</p>
 
<ol>
<li> If the damper force becomes larger as the spring force and with opposite sign,
     the contact force would be "pulling/sticking" which is unphysical, since during
     contact only pushing forces can occur.</li>
 
<li> When contact occurs with a non-zero relative speed (which is the usual 
     situation), the damping force has a non-zero value and therefore the contact
     force changes discontinuously at s_rel = s_rel0. Again, this is not physical
     because the force can only change continuously. (Note, this component is not an
     idealized model where a steep characteristic is approximated by a discontinuity,
     but it shall model the steep characteristic.)</li>
</ol>
 
<p>
In the literature there are several proposals to fix problem (2). However, there
seems to be no proposal to avoid sticking. For this reason, the most simple
approach is used in the ElastoGap model, to fix both problems by slight changes
to the linear spring/damper characteristic:
</p>
     
<pre>
    <b>if</b> s_rel &gt; s_rel0 <b>then</b>
       f_c = 0;          // spring force
       f_d = 0;          // damper force
       flange_b.f = 0;
    <b>else</b>
       f_c = c*(s_rel - s_rel0);    // spring force
       f_d = d*<b>der</b>(s_rel);          // damper force
       flange_b.f = <b>if</b> f_c + f_d &ge; 0 <b>then</b> 0 <b>else</b> f_c + <b>max</b>( f_c, f_d );
    <b>end if</b>;
</pre>
 
<p>
Note, when sticking would occur (f_c + f_d &ge; 0), then the contact force
is explicitly set to zero. The "max(f_c, f_d)" part in the if-expression,
limits the damping force when it is pushing. This means that at the start of
the contact (s_rel = s_rel0), the damping force is zero and is continuous.
The effect of both modifications is that the absolute value of the damping force
is always limited by the absolute value of the spring force: |f_d| &le; |f_c|.
</p>
 
<p>
In the next figure, a typical simulation with the ElastoGap model is shown
(<A HREF="Modelica_Mechanics_Translational_Examples.html#Modelica.Mechanics.Translational.Examples.ElastoGap"
>Examples.ElastoGap</a>)
where the different effects are visualized:
</p>

<ol>
<li> Curve 1 (elastoGap1.f) is the unmodified contact force, i.e., the linear spring/damper
     characteristic. A pulling/sticking force is present at the end of the contact.</li>
<li> Curve 2 (elastoGap2.f) is the contact force, where the force is explicitly set to
     zero when pulling/sticking occurs. The contact force is discontinuous at being of
     the contact.</li>
<li> Curve 3 (elastoGap3.f) is the ElastoGap model of this library. No discontinuity and no
     pulling/sticking occurs.</li>
</ol>
 
<p align="center">
<img src="../Images/Translational/ElastoGap1.png">
</p>
 
<pre>
</PRE>
Extends from <A HREF="Modelica_Mechanics_Translational_Interfaces.html#Modelica.Mechanics.Translational.Interfaces.PartialCompliantWithRelativeStates"
>Translational.Interfaces.PartialCompliantWithRelativeStates</A> (Base model for the compliant connection of two translational 1-dim. shaft flanges where the relative position and relative velocities are used as states).
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>c</TD><TD>Spring constant [N/m]</TD></TR>
<TR><TD>d</TD><TD>Damping constant [N.s/m]</TD></TR>
<TR><TD>s_rel0</TD><TD>Unstretched spring length [m]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=2>Initialization</TD></TR>
<TR><TD>s_rel</TD><TD>Relative distance (= flange_b.s - flange_a.s) [m]</TD></TR>
<TR><TD>v_rel</TD><TD>Relative velocity (= der(s_rel)) [m/s]</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=2><B>Advanced</B></TD></TR>
<TR><TD>stateSelect</TD><TD>Priority to use phi_rel and w_rel as states</TD></TR>
<TR><TD>s_nominal</TD><TD>Nominal value of s_rel (used for scaling) [m]</TD></TR>
</TABLE>
<H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>flange_a</TD><TD>Left flange of compliant 1-dim. translational component</TD></TR>
<TR><TD>flange_b</TD><TD>Right flange of compliant 1-dim. transational component</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE SupportFriction<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.Translational.Components.SupportFrictionI.png" ALT="Modelica.Mechanics.Translational.Components.SupportFriction" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.Translational.Components.SupportFriction"></A><A HREF="Modelica_Mechanics_Translational_Components.html#Modelica.Mechanics.Translational.Components"
>Modelica.Mechanics.Translational.Components</A>.SupportFriction</H2>
<B>Coulomb friction in support</B><p>
<H3>Information</H3>
<PRE></pre>
<p>
This element describes <b>Coulomb friction</b> in <b>support</b>,
i.e., a frictional force acting between a flange and the housing.
The positive sliding friction force "f" has to be defined
by table "f_pos" as function of the absolute velocity "v".
E.g.
<p>
<pre>
       v |   f
      ---+-----
       0 |   0
       1 |   2
       2 |   5
       3 |   8
</pre>
<p>
gives the following table:
</p>
<pre>
   f_pos = [0, 0; 1, 2; 2, 5; 3, 8];
</pre>
<p>
Currently, only linear interpolation in the table is supported.
Outside of the table, extrapolation through the last
two table entries is used. It is assumed that the negative
sliding friction force has the same characteristic with negative
values. Friction is modelled in the following way:
</p>
<p>
When the absolute velocity "v" is not zero, the friction force
is a function of v and of a constant normal force. This dependency
is defined via table f_pos and can be determined by measurements,
e.g. by driving the gear with constant velocity and measuring the
needed driving force (= friction force).
</p>
<p>
When the absolute velocity becomes zero, the elements
connected by the friction element become stuck, i.e., the absolute
position remains constant. In this phase the friction force is
calculated from a force balance due to the requirement, that
the absolute acceleration shall be zero.  The elements begin
to slide when the friction force exceeds a threshold value,
called the maximum static friction force, computed via:
</p>
<pre>
   maximum_static_friction = <b>peak</b> * sliding_friction(v=0)  (<b>peak</b> >= 1)
</pre>
<p>
This procedure is implemented in a "clean" way by state events and
leads to continuous/discrete systems of equations if friction elements
are dynamically coupled which have to be solved by appropriate
numerical methods. The method is described in:
</p>
<dl>
<dt>Otter M., Elmqvist H., and Mattsson S.E. (1999):
<dd><b>Hybrid Modeling in Modelica based on the Synchronous
    Data Flow Principle</b>. CACSD'99, Aug. 22.-26, Hawaii.
</dl>
<p>
More precise friction models take into account the elasticity of the
material when the two elements are "stuck", as well as other effects,
like hysteresis. This has the advantage that the friction element can
be completely described by a differential equation without events. The
drawback is that the system becomes stiff (about 10-20 times slower
simulation) and that more material constants have to be supplied which
requires more sophisticated identification. For more details, see the
following references, especially (Armstrong and Canudas de Witt 1996):
</p>
<dl>
<dt>Armstrong B. (1991):
<dd><b>Control of Machines with Friction</b>. Kluwer Academic
    Press, Boston MA.<br><br>
<dt>Armstrong B., and Canudas de Wit C. (1996):
<dd><b>Friction Modeling and Compensation.</b>
    The Control Handbook, edited by W.S.Levine, CRC Press,
    pp. 1369-1382.<br><br>
<dt>Canudas de Wit C., Olsson H., Astroem K.J., and Lischinsky P. (1995):
<dd><b>A new model for control of systems with friction.</b>
    IEEE Transactions on Automatic Control, Vol. 40, No. 3, pp. 419-425.<br><br>
</dl>
 
 
<pre>
</PRE>
Extends from <A HREF="Modelica_Mechanics_Translational_Interfaces.html#Modelica.Mechanics.Translational.Interfaces.PartialElementaryTwoFlangesAndSupport"
>Modelica.Mechanics.Translational.Interfaces.PartialElementaryTwoFlangesAndSupport</A> (Partial model for a component with one translational 1-dim. shaft flange and a support used for textual modeling, i.e., for elementary models), <A HREF="Modelica_Mechanics_Translational_Interfaces.html#Modelica.Mechanics.Translational.Interfaces.PartialFriction"
>Translational.Interfaces.PartialFriction</A> (Base model of Coulomb friction elements).
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>useSupport</TD><TD>= true, if support flange enabled, otherwise implicitly grounded</TD></TR>
<TR><TD>f_pos[:, 2]</TD><TD>[v, f] Positive sliding friction characteristic (v&gt;=0)</TD></TR>
<TR><TD>peak</TD><TD>peak*f_pos[1,2] = Maximum friction force for v==0</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=2>Initialization</TD></TR>
<TR><TD>startForward</TD><TD>true, if v_rel=0 and start of forward sliding</TD></TR>
<TR><TD>startBackward</TD><TD>true, if v_rel=0 and start of backward sliding</TD></TR>
<TR><TD>locked</TD><TD>true, if v_rel=0 and not sliding</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=2><B>Advanced</B></TD></TR>
<TR><TD>v_small</TD><TD>Relative velocity near to zero (see model info text) [m/s]</TD></TR>
</TABLE>
<H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>flange_a</TD><TD>Flange of left shaft</TD></TR>
<TR><TD>flange_b</TD><TD>Flange of right shaft</TD></TR>
<TR><TD>support</TD><TD>Support/housing of component</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Brake<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.Translational.Components.BrakeI.png" ALT="Modelica.Mechanics.Translational.Components.Brake" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.Translational.Components.Brake"></A><A HREF="Modelica_Mechanics_Translational_Components.html#Modelica.Mechanics.Translational.Components"
>Modelica.Mechanics.Translational.Components</A>.Brake</H2>
<B>Brake basend on Coulomb friction</B><p>
<H3>Information</H3>
<PRE></pre>
<p>
This component models a <b>brake</b>, i.e., a component where a frictional
force is acting between the housing and a flange and a controlled normal
force presses the flange to the housing in order to increase friction.
The normal force fn has to be provided as input signal f_normalized in a normalized form
(0 &le; f_normalized &le; 1),
fn = fn_max*f_normalized, where fn_max has to be provided as parameter.
Friction in the brake is modelled in the following way:
</p>
<p>
When the absolute velocity "v" is not zero, the friction force
is a function of the velocity dependent friction coefficient  mue(v) , of
the normal force "fn", and of a geometry constant "cgeo" which takes into
account the geometry of the device and the assumptions on the friction
distributions:
</p>
<pre>
        frictional_force = <b>cgeo</b> * <b>mue</b>(v) * <b>fn</b>
</pre>
<p>
   Typical values of coefficients of friction:
</p>
<pre>
      dry operation   :  <b>mue</b> = 0.2 .. 0.4
      operating in oil:  <b>mue</b> = 0.05 .. 0.1
</pre>
<p>
    The positive part of the friction characteristic <b>mue</b>(v),
    v >= 0, is defined via table mue_pos (first column = v,
    second column = mue). Currently, only linear interpolation in
    the table is supported.
</p>
<p>
   When the absolute velocity becomes zero, the elements
   connected by the friction element become stuck, i.e., the absolute
   position remains constant. In this phase the friction force is
   calculated from a force balance due to the requirement, that
   the absolute acceleration shall be zero.  The elements begin
   to slide when the friction force exceeds a threshold value,
   called the  maximum static friction force, computed via:
</p>
<pre>
       frictional_force = <b>peak</b> * <b>cgeo</b> * <b>mue</b>(w=0) * <b>fn</b>   (<b>peak</b> >= 1)
</pre>
<p>
This procedure is implemented in a "clean" way by state events and
leads to continuous/discrete systems of equations if friction elements
are dynamically coupled. The method is described in:
</p>
<dl>
<dt>Otter M., Elmqvist H., and Mattsson S.E. (1999):
<dd><b>Hybrid Modeling in Modelica based on the Synchronous
    Data Flow Principle</b>. CACSD'99, Aug. 22.-26, Hawaii.
</dl>
<p>
More precise friction models take into account the elasticity of the
material when the two elements are "stuck", as well as other effects,
like hysteresis. This has the advantage that the friction element can
be completely described by a differential equation without events. The
drawback is that the system becomes stiff (about 10-20 times slower
simulation) and that more material constants have to be supplied which
requires more sophisticated identification. For more details, see the
following references, especially (Armstrong and Canudas de Witt 1996):
</p>
<dl>
<dt>Armstrong B. (1991):
<dd><b>Control of Machines with Friction</b>. Kluwer Academic
    Press, Boston MA.<br><br>
<dt>Armstrong B., and Canudas de Wit C. (1996):
<dd><b>Friction Modeling and Compensation.</b>
    The Control Handbook, edited by W.S.Levine, CRC Press,
    pp. 1369-1382.<br><br>
<dt>Canudas de Wit C., Olsson H., Astroem K.J., and Lischinsky P. (1995):
<dd><b>A new model for control of systems with friction.</b>
    IEEE Transactions on Automatic Control, Vol. 40, No. 3, pp. 419-425.<br><br>
</dl>
<pre>
</PRE>
Extends from <A HREF="Modelica_Mechanics_Translational_Interfaces.html#Modelica.Mechanics.Translational.Interfaces.PartialElementaryTwoFlangesAndSupport"
>Modelica.Mechanics.Translational.Interfaces.PartialElementaryTwoFlangesAndSupport</A> (Partial model for a component with one translational 1-dim. shaft flange and a support used for textual modeling, i.e., for elementary models), <A HREF="Modelica_Mechanics_Translational_Interfaces.html#Modelica.Mechanics.Translational.Interfaces.PartialFriction"
>Translational.Interfaces.PartialFriction</A> (Base model of Coulomb friction elements).
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>useSupport</TD><TD>= true, if support flange enabled, otherwise implicitly grounded</TD></TR>
<TR><TD>mue_pos[:, 2]</TD><TD>[v, f] Positive sliding friction characteristic (v&gt;=0)</TD></TR>
<TR><TD>peak</TD><TD>peak*mue_pos[1,2] = Maximum friction force for v==0</TD></TR>
<TR><TD>cgeo</TD><TD>Geometry constant containing friction distribution assumption</TD></TR>
<TR><TD>fn_max</TD><TD>Maximum normal force [N]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=2>Initialization</TD></TR>
<TR><TD>startForward</TD><TD>true, if v_rel=0 and start of forward sliding</TD></TR>
<TR><TD>startBackward</TD><TD>true, if v_rel=0 and start of backward sliding</TD></TR>
<TR><TD>locked</TD><TD>true, if v_rel=0 and not sliding</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=2><B>Advanced</B></TD></TR>
<TR><TD>v_small</TD><TD>Relative velocity near to zero (see model info text) [m/s]</TD></TR>
</TABLE>
<H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>flange_a</TD><TD>Flange of left shaft</TD></TR>
<TR><TD>flange_b</TD><TD>Flange of right shaft</TD></TR>
<TR><TD>support</TD><TD>Support/housing of component</TD></TR>
<TR><TD>f_normalized</TD><TD>Normalized force signal 0..1 (normal force = fn_max*f_normalized; brake is active if &gt; 0)</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE IdealGearR2T<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.Translational.Components.IdealGearR2TI.png" ALT="Modelica.Mechanics.Translational.Components.IdealGearR2T" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.Translational.Components.IdealGearR2T"></A><A HREF="Modelica_Mechanics_Translational_Components.html#Modelica.Mechanics.Translational.Components"
>Modelica.Mechanics.Translational.Components</A>.IdealGearR2T</H2>
<B>Gearbox transforming rotational into translational motion&quot;</B><p>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>useSupportR</TD><TD>= true, if rotational support flange enabled, otherwise implicitly grounded</TD></TR>
<TR><TD>useSupportT</TD><TD>= true, if translational support flange enabled, otherwise implicitly grounded</TD></TR>
<TR><TD>ratio</TD><TD>Transmission ratio (flange_a.phi/flange_b.s) [rad/m]</TD></TR>
</TABLE>
<H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>flangeR</TD><TD>Flange of rotational shaft</TD></TR>
<TR><TD>flangeT</TD><TD>Flange of translational rod</TD></TR>
<TR><TD>supportR</TD><TD>Rotational support/housing of component</TD></TR>
<TR><TD>supportT</TD><TD>Translational support/housing of component</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE IdealRollingWheel<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.Translational.Components.IdealRollingWheelI.png" ALT="Modelica.Mechanics.Translational.Components.IdealRollingWheel" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.Translational.Components.IdealRollingWheel"></A><A HREF="Modelica_Mechanics_Translational_Components.html#Modelica.Mechanics.Translational.Components"
>Modelica.Mechanics.Translational.Components</A>.IdealRollingWheel</H2>
<B>Simple 1-dim. model of an ideal rolling wheel without inertia</B><p>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>useSupportR</TD><TD>= true, if rotational support flange enabled, otherwise implicitly grounded</TD></TR>
<TR><TD>useSupportT</TD><TD>= true, if translational support flange enabled, otherwise implicitly grounded</TD></TR>
<TR><TD>radius</TD><TD>Wheel radius [m]</TD></TR>
</TABLE>
<H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>flangeR</TD><TD>Flange of rotational shaft</TD></TR>
<TR><TD>flangeT</TD><TD>Flange of translational rod</TD></TR>
<TR><TD>supportR</TD><TD>Rotational support/housing of component</TD></TR>
<TR><TD>supportT</TD><TD>Translational support/housing of component</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE InitializeFlange<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.Translational.Components.InitializeFlangeI.png" ALT="Modelica.Mechanics.Translational.Components.InitializeFlange" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.Translational.Components.InitializeFlange"></A><A HREF="Modelica_Mechanics_Translational_Components.html#Modelica.Mechanics.Translational.Components"
>Modelica.Mechanics.Translational.Components</A>.InitializeFlange</H2>
<B>Initializes a flange with pre-defined position, speed and acceleration (usually, this is reference data from a control bus)</B><p>
<H3>Information</H3>
<PRE></pre>
<p>
This component is used to optionally initialize the position, speed,
and/or acceleration of the flange to which this component
is connected. Via parameters use_s_start, use_v_start, use_a_start
the corresponding input signals s_start, v_start, a_start are conditionally
activated. If an input is activated, the corresponding flange property
is initialized with the input value at start time.
</p>
 
<p>
For example, if "use_s_start = true", then flange.s is initialized
with the value of the input signal "s_start" at the start time.
</p>
 
<p>
Additionally, it is optionally possible to define the "StateSelect"
attribute of the flange position and the flange speed via paramater
"stateSelection".
</p>
 
<p>
This component is especially useful when the initial values of a flange
shall be set according to reference signals of a controller that are
provided via a signal bus.
</p>
 
<pre></PRE>
Extends from <A HREF="Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.BlockIcon"
>Modelica.Blocks.Interfaces.BlockIcon</A> (Basic graphical layout of input/output block).
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>use_s_start</TD><TD>= true, if initial position is defined by input s_start, otherwise not initialized</TD></TR>
<TR><TD>use_v_start</TD><TD>= true, if initial speed is defined by input v_start, otherwise not initialized</TD></TR>
<TR><TD>use_a_start</TD><TD>= true, if initial acceleration is defined by input a_start, otherwise not initialized</TD></TR>
<TR><TD>stateSelect</TD><TD>Priority to use flange angle and speed as states</TD></TR>
</TABLE>
<H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>s_start</TD><TD>Initial position of flange</TD></TR>
<TR><TD>v_start</TD><TD>Initial speed of flange</TD></TR>
<TR><TD>a_start</TD><TD>Initial angular acceleration of flange</TD></TR>
<TR><TD>flange</TD><TD>Flange that is initialized</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE MassWithStopAndFriction<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.Translational.Components.MassWithStopAndFrictionI.png" ALT="Modelica.Mechanics.Translational.Components.MassWithStopAndFriction" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.Translational.Components.MassWithStopAndFriction"></A><A HREF="Modelica_Mechanics_Translational_Components.html#Modelica.Mechanics.Translational.Components"
>Modelica.Mechanics.Translational.Components</A>.MassWithStopAndFriction</H2>
<B>Sliding mass with hard stop and Stribeck friction</B><p>
<H3>Information</H3>
<PRE>
</pre>
<P>This element describes the <i>Stribeck friction characteristics</i> of a sliding mass,
i. e. the frictional force acting between the sliding mass and the support. Included is a
<i>hard stop</i> for the position. <BR>
The surface is fixed and there is friction between sliding mass and surface.
The frictional force f is given for positive velocity v by:</P>
<i><uL>
f = F_Coulomb + F_prop * v + F_Stribeck * exp (-fexp * v)</i> </ul><br>
<IMG SRC=../Images/Translational/Stribeck.png>
<br><br>
The distance between the left and the right connector is given by parameter L.
The position of the center of gravity, coordinate s, is in the middle between
the two flanges. </p>
<p>
There are hard stops at smax and smin, i. e. if <i><uL>
flange_a.s &gt;= smin
<ul>    and </ul>
flange_b.s &lt;= xmax </ul></i>
the sliding mass can move freely.</p>
<p>When the absolute velocity becomes zero, the sliding mass becomes stuck, i.e., the absolute position remains constant. In this phase the
friction force is calculated from a force balance due to the requirement that the
absolute acceleration shall be zero. The elements begin to slide when the friction
force exceeds a threshold value, called the maximum static friction force, computed via: </P>
<i><uL>
   maximum_static_friction =  F_Coulomb + F_Stribeck
</i> </ul>
<font color="#ff0000"> <b>This requires the states Stop.s and Stop.v</b> </font>. If these states are eliminated during the index reduction
the model will not work. To avoid this any inertias should be connected via springs
to the Stop element, other sliding masses, dampers or hydraulic chambers must be avoided. </p>
<p>For more details of the used friction model see the following reference: <br> <br>
Beater P. (1999): <DD><a href="http://www.springer.de/cgi-bin/search_book.pl?isbn=3-540-65444-5">
Entwurf hydraulischer Maschinen</a>. Springer Verlag Berlin Heidelberg New York.</DL></P>
<P>The friction model is implemented in a "clean" way by state events and leads to
continuous/discrete systems of equations which have to be solved by appropriate
numerical methods. The method is described in: </P>
 
<dl>
Otter M., Elmqvist H., and Mattsson S.E. (1999):
<i><DD>Hybrid Modeling in Modelica based on the Synchronous Data Flow Principle</i>. CACSD'99, Aug. 22.-26, Hawaii. </DD>
</DL>
<P>More precise friction models take into account the elasticity of the material when
the two elements are "stuck", as well as other effects, like hysteresis. This has
the advantage that the friction element can be completely described by a differential
equation without events. The drawback is that the system becomes stiff (about 10-20 times
slower simulation) and that more material constants have to be supplied which requires more
sophisticated identification. For more details, see the following references, especially
(Armstrong and Canudas de Witt 1996): </P>
<dl>
<dt>
Armstrong B. (1991):</dt>
<DD><i>Control of Machines with Friction</i>. Kluwer Academic Press, Boston MA.<BR>
</DD>
<DT>Armstrong B., and Canudas de Wit C. (1996): </DT>
<DD><i>Friction Modeling and Compensation.</i> The Control Handbook, edited by W.S.Levine, CRC Press, pp. 1369-1382.<BR>
</DD>
<DT>Canudas de Wit C., Olsson H., Astroem K.J., and Lischinsky P. (1995): </DT>
<DD>A<i> new model for control of systems with friction.</i> IEEE Transactions on Automatic Control, Vol. 40, No. 3, pp. 419-425.<BR>
</DD>
</DL>
 
<pre>
</PRE>
Extends from <A HREF="Modelica_Mechanics_Translational_Components.html#Modelica.Mechanics.Translational.Components.MassWithStopAndFriction.PartialFrictionWithStop"
>PartialFrictionWithStop</A> (Base model of Coulomb friction elements with stop).
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>smax</TD><TD>Right stop for (right end of) sliding mass [m]</TD></TR>
<TR><TD>smin</TD><TD>Left stop for (left end of) sliding mass [m]</TD></TR>
<TR><TD>L</TD><TD>Length of component, from left flange to right flange (= flange_b.s - flange_a.s) [m]</TD></TR>
<TR><TD>m</TD><TD>mass [kg]</TD></TR>
<TR><TD>F_prop</TD><TD>Velocity dependent friction [N.s/m]</TD></TR>
<TR><TD>F_Coulomb</TD><TD>Constant friction: Coulomb force [N]</TD></TR>
<TR><TD>F_Stribeck</TD><TD>Stribeck effect [N]</TD></TR>
<TR><TD>fexp</TD><TD>Exponential decay [s/m]</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=2>Initialization</TD></TR>
<TR><TD>startForward</TD><TD>= true, if v_rel=0 and start of forward sliding or v_rel &gt; v_small</TD></TR>
<TR><TD>startBackward</TD><TD>= true, if v_rel=0 and start of backward sliding or v_rel &lt; -v_small</TD></TR>
<TR><TD>locked</TD><TD>true, if v_rel=0 and not sliding</TD></TR>
<TR><TD>s</TD><TD>Absolute position of center of component (s = flange_a.s + L/2 = flange_b.s - L/2) [m]</TD></TR>
<TR bgcolor="#c0c0c0"><TD colspan=2><B>Advanced</B></TD></TR>
<TR><TD>v_small</TD><TD>Relative velocity near to zero (see model info text) [m/s]</TD></TR>
</TABLE>
<H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>flange_a</TD><TD>Left flange of translational component</TD></TR>
<TR><TD>flange_b</TD><TD>Right flange of translational component</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE RelativeStates<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.Translational.Components.RelativeStatesI.png" ALT="Modelica.Mechanics.Translational.Components.RelativeStates" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.Translational.Components.RelativeStates"></A><A HREF="Modelica_Mechanics_Translational_Components.html#Modelica.Mechanics.Translational.Components"
>Modelica.Mechanics.Translational.Components</A>.RelativeStates</H2>
<B>Definition of relative state variables</B><p>
<H3>Information</H3>
<PRE></pre>
<p>
Usually, the absolute position and the absolute velocity of
Modelica.Mechanics.Translational.Inertia models are used as state variables.
In some circumstances, relative quantities are better suited, e.g.,
because it may be easier to supply initial values.
In such cases, model <b>RelativeStates</b> allows the definition of state variables
in the following way:
</p>
<ul>
<li> Connect an instance of this model between two flange connectors.</li>
<li> The <b>relative position</b> and the <b>relative velocity</b>
     between the two connectors are used as <b>state variables</b>.
</ul>
<p>
An example is given in the next figure
</p>
<IMG SRC="../Images/Translational/relativeStates2.png" ALT="relativeStates2">
<p>
Here, the relative position and the relative velocity between
the two masses are used as state variables. Additionally, the
simulator selects either the absolute position and absolute
velocity of model mass1 or of model mass2 as state variables.
</p>
 
<pre>
</PRE>
Extends from <A HREF="Modelica_Mechanics_Translational_Interfaces.html#Modelica.Mechanics.Translational.Interfaces.PartialTwoFlanges"
>Translational.Interfaces.PartialTwoFlanges</A> (Component with two translational 1D flanges ).
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>stateSelect</TD><TD>Priority to use the relative angle and relative speed as states</TD></TR>
</TABLE>
<H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>flange_a</TD><TD>(left) driving flange (flange axis directed in to cut plane, e. g. from left to right)</TD></TR>
<TR><TD>flange_b</TD><TD>(right) driven flange (flange axis directed out of cut plane)</TD></TR>
</TABLE>
<address>HTML-documentation generated by <a href="http://www.dynasim.se/">Dymola</a> Thu Jan 29 17:27:51 2009.
</address></BODY>
</HTML>
