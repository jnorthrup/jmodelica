<HTML>
<HEAD>
<TITLE>Modelica.Mechanics.MultiBody.Frames.Quaternions</TITLE>
<META name="HTML-Generator" content="Dymola">
<META name="description" content="&quot;Functions to transform rotational frame quantities based on quaternions (also called Euler parameters)&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial,sans-serif; }
pre     { font-size:  9pt; font-family: Courier,monospace;}
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address {                  font-weight: normal} 
td      { solid #000; vertical-align:top; }
th      { solid #000; vertical-align:top; font-weight: bold; }
table   { solid #000; border-collapse: collapse;}
</style>
</HEAD>
<BODY><P>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Quaternions<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Mechanics.MultiBody.Frames.Quaternions"></A><A HREF="Modelica_Mechanics_MultiBody_Frames.html#Modelica.Mechanics.MultiBody.Frames"
>Modelica.Mechanics.MultiBody.Frames</A>.Quaternions</H2>
<B>Functions to transform rotational frame quantities based on quaternions (also called Euler parameters)</B>
<P>
<H3>Information</H3>
<PRE></pre>
<p>
Package <b>Frames.Quaternions</b> contains type definitions and
functions to transform rotational frame quantities with quaternions.
Functions of this package are currently only utilized in 
MultiBody.Parts.Body components, when quaternions shall be used
as parts of the body states.
Some functions are also used in a new Modelica package for 
B-Spline interpolation that is able to interpolate paths consisting of
position vectors and orientation objects. 
</p>
<h4>Content</h4>
<p>In the table below an example is given for every function definition.
The used variables have the following declaration:
</p>
<pre>
   Quaternions.Orientation Q, Q1, Q2, Q_rel, Q_inv;
   Real[3,3]   T, T_inv;
   Real[3]     v1, v2, w1, w2, n_x, n_y, n_z, res_ori, phi;
   Real[6]     res_equal;
   Real        L, angle;
</pre>
<table border=1 cellspacing=0 cellpadding=2>
  <tr><th><b><i>Function/type</i></b></th><th><b><i>Description</i></b></th></tr>
  <tr><td valign="top"><b>Orientation Q;</b></td>
      <td valign="top">New type defining a quaternion object that describes<br>
          the rotation of frame 1 into frame 2.
      </td>
  </tr>
  <tr><td valign="top"><b>der_Orientation</b> der_Q;</td>
      <td valign="top">New type defining the first time derivative
         of Frames.Quaternions.Orientation.
      </td>
  </tr>
  <tr><td valign="top">res_ori = <b>orientationConstraint</b>(Q);</td>
      <td valign="top">Return the constraints between the variables of a quaternion object<br>
      (shall be zero).</td>
  </tr>
  <tr><td valign="top">w1 = <b>angularVelocity1</b>(Q, der_Q);</td>
      <td valign="top">Return angular velocity resolved in frame 1 from
          quaternion object Q<br> and its derivative der_Q.
     </td>
  </tr>
  <tr><td valign="top">w2 = <b>angularVelocity2</b>(Q, der_Q);</td>
      <td valign="top">Return angular velocity resolved in frame 2 from
          quaternion object Q<br> and its derivative der_Q.
     </td>
  </tr>
  <tr><td valign="top">v1 = <b>resolve1</b>(Q,v2);</td>
      <td valign="top">Transform vector v2 from frame 2 to frame 1.
      </td>
  </tr>
  <tr><td valign="top">v2 = <b>resolve2</b>(Q,v1);</td>
      <td valign="top">Transform vector v1 from frame 1 to frame 2.
     </td>
  </tr>
  <tr><td valign="top">[v1,w1] = <b>multipleResolve1</b>(Q, [v2,w2]);</td>
      <td valign="top">Transform several vectors from frame 2 to frame 1.
      </td>
  </tr>
  <tr><td valign="top">[v2,w2] = <b>multipleResolve2</b>(Q, [v1,w1]);</td>
      <td valign="top">Transform several vectors from frame 1 to frame 2.
      </td>
  </tr>
  <tr><td valign="top">Q = <b>nullRotation</b>()</td>
      <td valign="top">Return quaternion object R that does not rotate a frame.
  </tr>
  <tr><td valign="top">Q_inv = <b>inverseRotation</b>(Q);</td>
      <td valign="top">Return inverse quaternion object.
      </td>
  </tr>
  <tr><td valign="top">Q_rel = <b>relativeRotation</b>(Q1,Q2);</td>
      <td valign="top">Return relative quaternion object from two absolute
          quaternion objects.
      </td>
  </tr>
  <tr><td valign="top">Q2 = <b>absoluteRotation</b>(Q1,Q_rel);</td>
      <td valign="top">Return absolute quaternion object from another
          absolute<br> and a relative quaternion object.
      </td>
  </tr>
  <tr><td valign="top">Q = <b>planarRotation</b>(e, angle);</td>
      <td valign="top">Return quaternion object of a planar rotation.
      </td>
  </tr>
  <tr><td valign="top">phi = <b>smallRotation</b>(Q);</td>
      <td valign="top">Return rotation angles phi valid for a small rotation.
      </td>
  </tr>
  <tr><td valign="top">Q = <b>from_T</b>(T);</td>
      <td valign="top">Return quaternion object Q from transformation matrix T.
      </td>
  </tr>
  <tr><td valign="top">Q = <b>from_T_inv</b>(T_inv);</td>
      <td valign="top">Return quaternion object Q from inverse transformation matrix T_inv.
      </td>
  </tr>
  <tr><td valign="top">T = <b>to_T</b>(Q);</td>
      <td valign="top">Return transformation matrix T from quaternion object Q.
  </tr>
  <tr><td valign="top">T_inv = <b>to_T_inv</b>(Q);</td>
      <td valign="top">Return inverse transformation matrix T_inv from quaternion object Q.
      </td>
  </tr>
</table>
<pre></PRE><P>
Extends from <A HREF="Modelica_Icons_Library.html#Modelica.Icons.Library"
>Modelica.Icons.Library</A> (Icon for library).
<H3>Package Content</H3><p>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2 >
<TR><TH >Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Frames_Quaternions.html#Modelica.Mechanics.MultiBody.Frames.Quaternions.Orientation"
>Orientation</A>
</TD><TD>Orientation type defining rotation from a frame 1 into a frame 2 with quaternions {p1,p2,p3,p0}</TD></TR>
<TR><TD><A HREF="Modelica_Mechanics_MultiBody_Frames_Quaternions.html#Modelica.Mechanics.MultiBody.Frames.Quaternions.der_Orientation"
>der_Orientation</A>
</TD><TD>First time derivative of Quaternions.Orientation</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.MultiBody.Frames.Quaternions.orientationConstraintS.png" ALT="Modelica.Mechanics.MultiBody.Frames.Quaternions.orientationConstraint" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_MultiBody_Frames_Quaternions.html#Modelica.Mechanics.MultiBody.Frames.Quaternions.orientationConstraint"
>orientationConstraint</A>
</TD><TD>Return residues of orientation constraints (shall be zero)</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.MultiBody.Frames.Quaternions.orientationConstraintS.png" ALT="Modelica.Mechanics.MultiBody.Frames.Quaternions.angularVelocity1" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_MultiBody_Frames_Quaternions.html#Modelica.Mechanics.MultiBody.Frames.Quaternions.angularVelocity1"
>angularVelocity1</A>
</TD><TD>Compute angular velocity resolved in frame 1 from quaternion orientation object and its derivative</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.MultiBody.Frames.Quaternions.orientationConstraintS.png" ALT="Modelica.Mechanics.MultiBody.Frames.Quaternions.angularVelocity2" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_MultiBody_Frames_Quaternions.html#Modelica.Mechanics.MultiBody.Frames.Quaternions.angularVelocity2"
>angularVelocity2</A>
</TD><TD>Compute angular velocity resolved in frame 2 from quaternions orientation object and its derivative</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.MultiBody.Frames.Quaternions.orientationConstraintS.png" ALT="Modelica.Mechanics.MultiBody.Frames.Quaternions.resolve1" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_MultiBody_Frames_Quaternions.html#Modelica.Mechanics.MultiBody.Frames.Quaternions.resolve1"
>resolve1</A>
</TD><TD>Transform vector from frame 2 to frame 1</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.MultiBody.Frames.Quaternions.orientationConstraintS.png" ALT="Modelica.Mechanics.MultiBody.Frames.Quaternions.resolve2" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_MultiBody_Frames_Quaternions.html#Modelica.Mechanics.MultiBody.Frames.Quaternions.resolve2"
>resolve2</A>
</TD><TD>Transform vector from frame 1 to frame 2</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.MultiBody.Frames.Quaternions.orientationConstraintS.png" ALT="Modelica.Mechanics.MultiBody.Frames.Quaternions.multipleResolve1" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_MultiBody_Frames_Quaternions.html#Modelica.Mechanics.MultiBody.Frames.Quaternions.multipleResolve1"
>multipleResolve1</A>
</TD><TD>Transform several vectors from frame 2 to frame 1</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.MultiBody.Frames.Quaternions.orientationConstraintS.png" ALT="Modelica.Mechanics.MultiBody.Frames.Quaternions.multipleResolve2" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_MultiBody_Frames_Quaternions.html#Modelica.Mechanics.MultiBody.Frames.Quaternions.multipleResolve2"
>multipleResolve2</A>
</TD><TD>Transform several vectors from frame 1 to frame 2</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.MultiBody.Frames.Quaternions.orientationConstraintS.png" ALT="Modelica.Mechanics.MultiBody.Frames.Quaternions.nullRotation" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_MultiBody_Frames_Quaternions.html#Modelica.Mechanics.MultiBody.Frames.Quaternions.nullRotation"
>nullRotation</A>
</TD><TD>Return quaternions orientation object that does not rotate a frame</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.MultiBody.Frames.Quaternions.orientationConstraintS.png" ALT="Modelica.Mechanics.MultiBody.Frames.Quaternions.inverseRotation" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_MultiBody_Frames_Quaternions.html#Modelica.Mechanics.MultiBody.Frames.Quaternions.inverseRotation"
>inverseRotation</A>
</TD><TD>Return inverse quaternions orientation object</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.MultiBody.Frames.Quaternions.orientationConstraintS.png" ALT="Modelica.Mechanics.MultiBody.Frames.Quaternions.relativeRotation" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_MultiBody_Frames_Quaternions.html#Modelica.Mechanics.MultiBody.Frames.Quaternions.relativeRotation"
>relativeRotation</A>
</TD><TD>Return relative quaternions orientation object</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.MultiBody.Frames.Quaternions.orientationConstraintS.png" ALT="Modelica.Mechanics.MultiBody.Frames.Quaternions.absoluteRotation" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_MultiBody_Frames_Quaternions.html#Modelica.Mechanics.MultiBody.Frames.Quaternions.absoluteRotation"
>absoluteRotation</A>
</TD><TD>Return absolute quaternions orientation object from another absolute and a relative quaternions orientation object</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.MultiBody.Frames.Quaternions.orientationConstraintS.png" ALT="Modelica.Mechanics.MultiBody.Frames.Quaternions.planarRotation" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_MultiBody_Frames_Quaternions.html#Modelica.Mechanics.MultiBody.Frames.Quaternions.planarRotation"
>planarRotation</A>
</TD><TD>Return quaternions orientation object of a planar rotation</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.MultiBody.Frames.Quaternions.orientationConstraintS.png" ALT="Modelica.Mechanics.MultiBody.Frames.Quaternions.smallRotation" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_MultiBody_Frames_Quaternions.html#Modelica.Mechanics.MultiBody.Frames.Quaternions.smallRotation"
>smallRotation</A>
</TD><TD>Return rotation angles valid for a small rotation</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.MultiBody.Frames.Quaternions.orientationConstraintS.png" ALT="Modelica.Mechanics.MultiBody.Frames.Quaternions.from_T" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_MultiBody_Frames_Quaternions.html#Modelica.Mechanics.MultiBody.Frames.Quaternions.from_T"
>from_T</A>
</TD><TD>Return quaternions orientation object Q from transformation matrix T</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.MultiBody.Frames.Quaternions.orientationConstraintS.png" ALT="Modelica.Mechanics.MultiBody.Frames.Quaternions.from_T_inv" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_MultiBody_Frames_Quaternions.html#Modelica.Mechanics.MultiBody.Frames.Quaternions.from_T_inv"
>from_T_inv</A>
</TD><TD>Return quaternions orientation object Q from inverse transformation matrix T_inv</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.MultiBody.Frames.Quaternions.orientationConstraintS.png" ALT="Modelica.Mechanics.MultiBody.Frames.Quaternions.to_T" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_MultiBody_Frames_Quaternions.html#Modelica.Mechanics.MultiBody.Frames.Quaternions.to_T"
>to_T</A>
</TD><TD>Return transformation matrix T from quaternion orientation object Q</TD></TR>
<TR><TD><IMG SRC="Modelica.Mechanics.MultiBody.Frames.Quaternions.orientationConstraintS.png" ALT="Modelica.Mechanics.MultiBody.Frames.Quaternions.to_T_inv" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Mechanics_MultiBody_Frames_Quaternions.html#Modelica.Mechanics.MultiBody.Frames.Quaternions.to_T_inv"
>to_T_inv</A>
</TD><TD>Return inverse transformation matrix T_inv from quaternion orientation object Q</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Orientation<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Mechanics.MultiBody.Frames.Quaternions.Orientation"></A><A HREF="Modelica_Mechanics_MultiBody_Frames_Quaternions.html#Modelica.Mechanics.MultiBody.Frames.Quaternions"
>Modelica.Mechanics.MultiBody.Frames.Quaternions</A>.Orientation</H2>
<B>Orientation type defining rotation from a frame 1 into a frame 2 with quaternions {p1,p2,p3,p0}</B><p>
<H3>Information</H3>
<PRE></pre>
<p>
This type describes the <b>rotation</b> to rotate a frame 1 into
a frame 2 using quaternions (also called <b>Euler parameters</b>)
according to the following definition:
</p>
<pre>
   Quaternions.Orientation Q;
   Real  n[3];
   Real  phi(unit="rad");
   Q = [ n*sin(phi/2)
           cos(phi/2) ]
</pre>
<p>
where "n" is the <b>axis of rotation</b> to rotate frame 1 into
frame 2 and "phi" is the <b>rotation angle</b> for this rotation.
Vector "n" is either resolved in frame 1 or in frame 2
(the result is the same since the coordinates of "n" with respect to
frame 1 are identical to its coordinates with respect to frame 2).
<p>
<p>
The term "quaternions" is prefered over the historically
more reasonable "Euler parameters" in order to not get
confused with Modelica "parameters".
</p>
<pre>
</PRE>
Extends from Internal.QuaternionBase.
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE der_Orientation<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Mechanics.MultiBody.Frames.Quaternions.der_Orientation"></A><A HREF="Modelica_Mechanics_MultiBody_Frames_Quaternions.html#Modelica.Mechanics.MultiBody.Frames.Quaternions"
>Modelica.Mechanics.MultiBody.Frames.Quaternions</A>.der_Orientation</H2>
<B>First time derivative of Quaternions.Orientation</B><p>
<H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>unit</TD><TD>&nbsp;</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE orientationConstraint<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.MultiBody.Frames.Quaternions.orientationConstraintI.png" ALT="Modelica.Mechanics.MultiBody.Frames.Quaternions.orientationConstraint" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.MultiBody.Frames.Quaternions.orientationConstraint"></A><A HREF="Modelica_Mechanics_MultiBody_Frames_Quaternions.html#Modelica.Mechanics.MultiBody.Frames.Quaternions"
>Modelica.Mechanics.MultiBody.Frames.Quaternions</A>.orientationConstraint</H2>
<B>Return residues of orientation constraints (shall be zero)</B><p>
<H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Q</TD><TD>Quaternions orientation object to rotate frame 1 into frame 2</TD></TR>
</TABLE>
<H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>residue[1]</TD><TD>Residue constraint (shall be zero)</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE angularVelocity1<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.MultiBody.Frames.Quaternions.orientationConstraintI.png" ALT="Modelica.Mechanics.MultiBody.Frames.Quaternions.angularVelocity1" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.MultiBody.Frames.Quaternions.angularVelocity1"></A><A HREF="Modelica_Mechanics_MultiBody_Frames_Quaternions.html#Modelica.Mechanics.MultiBody.Frames.Quaternions"
>Modelica.Mechanics.MultiBody.Frames.Quaternions</A>.angularVelocity1</H2>
<B>Compute angular velocity resolved in frame 1 from quaternion orientation object and its derivative</B><p>
<H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Q</TD><TD>Quaternions orientation object to rotate frame 1 into frame 2</TD></TR>
<TR><TD>der_Q</TD><TD>Derivative of Q [1/s]</TD></TR>
</TABLE>
<H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>w[3]</TD><TD>Angular velocity resolved in frame 1 [rad/s]</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE angularVelocity2<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.MultiBody.Frames.Quaternions.orientationConstraintI.png" ALT="Modelica.Mechanics.MultiBody.Frames.Quaternions.angularVelocity2" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.MultiBody.Frames.Quaternions.angularVelocity2"></A><A HREF="Modelica_Mechanics_MultiBody_Frames_Quaternions.html#Modelica.Mechanics.MultiBody.Frames.Quaternions"
>Modelica.Mechanics.MultiBody.Frames.Quaternions</A>.angularVelocity2</H2>
<B>Compute angular velocity resolved in frame 2 from quaternions orientation object and its derivative</B><p>
<H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Q</TD><TD>Quaternions orientation object to rotate frame 1 into frame 2</TD></TR>
<TR><TD>der_Q</TD><TD>Derivative of Q [1/s]</TD></TR>
</TABLE>
<H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>w[3]</TD><TD>Angular velocity of frame 2 with respect to frame 1 resolved in frame 2 [rad/s]</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE resolve1<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.MultiBody.Frames.Quaternions.orientationConstraintI.png" ALT="Modelica.Mechanics.MultiBody.Frames.Quaternions.resolve1" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.MultiBody.Frames.Quaternions.resolve1"></A><A HREF="Modelica_Mechanics_MultiBody_Frames_Quaternions.html#Modelica.Mechanics.MultiBody.Frames.Quaternions"
>Modelica.Mechanics.MultiBody.Frames.Quaternions</A>.resolve1</H2>
<B>Transform vector from frame 2 to frame 1</B><p>
<H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Q</TD><TD>Quaternions orientation object to rotate frame 1 into frame 2</TD></TR>
<TR><TD>v2[3]</TD><TD>Vector in frame 2</TD></TR>
</TABLE>
<H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>v1[3]</TD><TD>Vector in frame 1</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE resolve2<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.MultiBody.Frames.Quaternions.orientationConstraintI.png" ALT="Modelica.Mechanics.MultiBody.Frames.Quaternions.resolve2" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.MultiBody.Frames.Quaternions.resolve2"></A><A HREF="Modelica_Mechanics_MultiBody_Frames_Quaternions.html#Modelica.Mechanics.MultiBody.Frames.Quaternions"
>Modelica.Mechanics.MultiBody.Frames.Quaternions</A>.resolve2</H2>
<B>Transform vector from frame 1 to frame 2</B><p>
<H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Q</TD><TD>Quaternions orientation object to rotate frame 1 into frame 2</TD></TR>
<TR><TD>v1[3]</TD><TD>Vector in frame 1</TD></TR>
</TABLE>
<H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>v2[3]</TD><TD>Vector in frame 2</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE multipleResolve1<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.MultiBody.Frames.Quaternions.orientationConstraintI.png" ALT="Modelica.Mechanics.MultiBody.Frames.Quaternions.multipleResolve1" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.MultiBody.Frames.Quaternions.multipleResolve1"></A><A HREF="Modelica_Mechanics_MultiBody_Frames_Quaternions.html#Modelica.Mechanics.MultiBody.Frames.Quaternions"
>Modelica.Mechanics.MultiBody.Frames.Quaternions</A>.multipleResolve1</H2>
<B>Transform several vectors from frame 2 to frame 1</B><p>
<H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Q</TD><TD>Quaternions orientation object to rotate frame 1 into frame 2</TD></TR>
<TR><TD>v2[3, :]</TD><TD>Vectors in frame 2</TD></TR>
</TABLE>
<H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>v1[3, size(v2, 2)]</TD><TD>Vectors in frame 1</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE multipleResolve2<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.MultiBody.Frames.Quaternions.orientationConstraintI.png" ALT="Modelica.Mechanics.MultiBody.Frames.Quaternions.multipleResolve2" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.MultiBody.Frames.Quaternions.multipleResolve2"></A><A HREF="Modelica_Mechanics_MultiBody_Frames_Quaternions.html#Modelica.Mechanics.MultiBody.Frames.Quaternions"
>Modelica.Mechanics.MultiBody.Frames.Quaternions</A>.multipleResolve2</H2>
<B>Transform several vectors from frame 1 to frame 2</B><p>
<H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Q</TD><TD>Quaternions orientation object to rotate frame 1 into frame 2</TD></TR>
<TR><TD>v1[3, :]</TD><TD>Vectors in frame 1</TD></TR>
</TABLE>
<H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>v2[3, size(v1, 2)]</TD><TD>Vectors in frame 2</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE nullRotation<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.MultiBody.Frames.Quaternions.orientationConstraintI.png" ALT="Modelica.Mechanics.MultiBody.Frames.Quaternions.nullRotation" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.MultiBody.Frames.Quaternions.nullRotation"></A><A HREF="Modelica_Mechanics_MultiBody_Frames_Quaternions.html#Modelica.Mechanics.MultiBody.Frames.Quaternions"
>Modelica.Mechanics.MultiBody.Frames.Quaternions</A>.nullRotation</H2>
<B>Return quaternions orientation object that does not rotate a frame</B><p>
<H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Q</TD><TD>Quaternions orientation object to rotate frame 1 into frame 2</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE inverseRotation<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.MultiBody.Frames.Quaternions.orientationConstraintI.png" ALT="Modelica.Mechanics.MultiBody.Frames.Quaternions.inverseRotation" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.MultiBody.Frames.Quaternions.inverseRotation"></A><A HREF="Modelica_Mechanics_MultiBody_Frames_Quaternions.html#Modelica.Mechanics.MultiBody.Frames.Quaternions"
>Modelica.Mechanics.MultiBody.Frames.Quaternions</A>.inverseRotation</H2>
<B>Return inverse quaternions orientation object</B><p>
<H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Q</TD><TD>Quaternions orientation object to rotate frame 1 into frame 2</TD></TR>
</TABLE>
<H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Q_inv</TD><TD>Quaternions orientation object to rotate frame 2 into frame 1</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE relativeRotation<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.MultiBody.Frames.Quaternions.orientationConstraintI.png" ALT="Modelica.Mechanics.MultiBody.Frames.Quaternions.relativeRotation" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.MultiBody.Frames.Quaternions.relativeRotation"></A><A HREF="Modelica_Mechanics_MultiBody_Frames_Quaternions.html#Modelica.Mechanics.MultiBody.Frames.Quaternions"
>Modelica.Mechanics.MultiBody.Frames.Quaternions</A>.relativeRotation</H2>
<B>Return relative quaternions orientation object</B><p>
<H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Q1</TD><TD>Quaternions orientation object to rotate frame 0 into frame 1</TD></TR>
<TR><TD>Q2</TD><TD>Quaternions orientation object to rotate frame 0 into frame 2</TD></TR>
</TABLE>
<H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Q_rel</TD><TD>Quaternions orientation object to rotate frame 1 into frame 2</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE absoluteRotation<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.MultiBody.Frames.Quaternions.orientationConstraintI.png" ALT="Modelica.Mechanics.MultiBody.Frames.Quaternions.absoluteRotation" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.MultiBody.Frames.Quaternions.absoluteRotation"></A><A HREF="Modelica_Mechanics_MultiBody_Frames_Quaternions.html#Modelica.Mechanics.MultiBody.Frames.Quaternions"
>Modelica.Mechanics.MultiBody.Frames.Quaternions</A>.absoluteRotation</H2>
<B>Return absolute quaternions orientation object from another absolute and a relative quaternions orientation object</B><p>
<H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Q1</TD><TD>Quaternions orientation object to rotate frame 0 into frame 1</TD></TR>
<TR><TD>Q_rel</TD><TD>Quaternions orientation object to rotate frame 1 into frame 2</TD></TR>
</TABLE>
<H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Q2</TD><TD>Quaternions orientation object to rotate frame 0 into frame 2</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE planarRotation<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.MultiBody.Frames.Quaternions.orientationConstraintI.png" ALT="Modelica.Mechanics.MultiBody.Frames.Quaternions.planarRotation" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.MultiBody.Frames.Quaternions.planarRotation"></A><A HREF="Modelica_Mechanics_MultiBody_Frames_Quaternions.html#Modelica.Mechanics.MultiBody.Frames.Quaternions"
>Modelica.Mechanics.MultiBody.Frames.Quaternions</A>.planarRotation</H2>
<B>Return quaternions orientation object of a planar rotation</B><p>
<H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>e[3]</TD><TD>Normalized axis of rotation (must have length=1) [1]</TD></TR>
<TR><TD>angle</TD><TD>Rotation angle to rotate frame 1 into frame 2 along axis e [rad]</TD></TR>
</TABLE>
<H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Q</TD><TD>Quaternions orientation object to rotate frame 1 into frame 2 along axis e</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE smallRotation<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.MultiBody.Frames.Quaternions.orientationConstraintI.png" ALT="Modelica.Mechanics.MultiBody.Frames.Quaternions.smallRotation" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.MultiBody.Frames.Quaternions.smallRotation"></A><A HREF="Modelica_Mechanics_MultiBody_Frames_Quaternions.html#Modelica.Mechanics.MultiBody.Frames.Quaternions"
>Modelica.Mechanics.MultiBody.Frames.Quaternions</A>.smallRotation</H2>
<B>Return rotation angles valid for a small rotation</B><p>
<H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Q</TD><TD>Quaternions orientation object to rotate frame 1 into frame 2</TD></TR>
</TABLE>
<H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>phi[3]</TD><TD>The rotation angles around x-, y-, and z-axis of frame 1 to rotate frame 1 into frame 2 for a small relative rotation [rad]</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE from_T<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.MultiBody.Frames.Quaternions.orientationConstraintI.png" ALT="Modelica.Mechanics.MultiBody.Frames.Quaternions.from_T" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.MultiBody.Frames.Quaternions.from_T"></A><A HREF="Modelica_Mechanics_MultiBody_Frames_Quaternions.html#Modelica.Mechanics.MultiBody.Frames.Quaternions"
>Modelica.Mechanics.MultiBody.Frames.Quaternions</A>.from_T</H2>
<B>Return quaternions orientation object Q from transformation matrix T</B><p>
<H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>T[3, 3]</TD><TD>Transformation matrix to transform vector from frame 1 to frame 2 (v2=T*v1)</TD></TR>
<TR><TD>Q_guess</TD><TD>Guess value for Q (there are 2 solutions; the one close to Q_guess is used</TD></TR>
</TABLE>
<H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Q</TD><TD>Quaternions orientation object to rotate frame 1 into frame 2 (Q and -Q have same transformation matrix)</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE from_T_inv<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.MultiBody.Frames.Quaternions.orientationConstraintI.png" ALT="Modelica.Mechanics.MultiBody.Frames.Quaternions.from_T_inv" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.MultiBody.Frames.Quaternions.from_T_inv"></A><A HREF="Modelica_Mechanics_MultiBody_Frames_Quaternions.html#Modelica.Mechanics.MultiBody.Frames.Quaternions"
>Modelica.Mechanics.MultiBody.Frames.Quaternions</A>.from_T_inv</H2>
<B>Return quaternions orientation object Q from inverse transformation matrix T_inv</B><p>
<H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>T_inv[3, 3]</TD><TD>Inverse transformation matrix to transform vector from frame 2 to frame 1 (v1=T_inv*v2)</TD></TR>
<TR><TD>Q_guess</TD><TD>Guess value for output Q (there are 2 solutions; the one closer to Q_guess is used</TD></TR>
</TABLE>
<H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Q</TD><TD>Quaternions orientation object to rotate frame 1 into frame 2 (Q and -Q have same transformation matrix)</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE to_T<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.MultiBody.Frames.Quaternions.orientationConstraintI.png" ALT="Modelica.Mechanics.MultiBody.Frames.Quaternions.to_T" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.MultiBody.Frames.Quaternions.to_T"></A><A HREF="Modelica_Mechanics_MultiBody_Frames_Quaternions.html#Modelica.Mechanics.MultiBody.Frames.Quaternions"
>Modelica.Mechanics.MultiBody.Frames.Quaternions</A>.to_T</H2>
<B>Return transformation matrix T from quaternion orientation object Q</B><p>
<H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Q</TD><TD>Quaternions orientation object to rotate frame 1 into frame 2</TD></TR>
</TABLE>
<H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>T[3, 3]</TD><TD>Transformation matrix to transform vector from frame 1 to frame 2 (v2=T*v1)</TD></TR>
</TABLE>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE to_T_inv<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Mechanics.MultiBody.Frames.Quaternions.orientationConstraintI.png" ALT="Modelica.Mechanics.MultiBody.Frames.Quaternions.to_T_inv" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Mechanics.MultiBody.Frames.Quaternions.to_T_inv"></A><A HREF="Modelica_Mechanics_MultiBody_Frames_Quaternions.html#Modelica.Mechanics.MultiBody.Frames.Quaternions"
>Modelica.Mechanics.MultiBody.Frames.Quaternions</A>.to_T_inv</H2>
<B>Return inverse transformation matrix T_inv from quaternion orientation object Q</B><p>
<H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Q</TD><TD>Quaternions orientation object to rotate frame 1 into frame 2</TD></TR>
</TABLE>
<H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>T_inv[3, 3]</TD><TD>Transformation matrix to transform vector from frame 2 to frame 1 (v1=T*v2)</TD></TR>
</TABLE>
<address>HTML-documentation generated by <a href="http://www.dynasim.se/">Dymola</a> Thu Jan 29 17:27:14 2009.
</address></BODY>
</HTML>
