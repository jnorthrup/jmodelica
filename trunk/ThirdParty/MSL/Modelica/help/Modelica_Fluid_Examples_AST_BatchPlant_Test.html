<HTML>
<HEAD>
<TITLE>Modelica.Fluid.Examples.AST_BatchPlant.Test</TITLE>
<META name="HTML-Generator" content="Dymola">
<META name="description" content="&quot;Test of used tank models&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial,sans-serif; }
pre     { font-size:  9pt; font-family: Courier,monospace;}
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address {                  font-weight: normal} 
td      { solid #000; vertical-align:top; }
th      { solid #000; vertical-align:top; font-weight: bold; }
table   { solid #000; border-collapse: collapse;}
</style>
</HEAD>
<BODY><P>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Test<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Fluid.Examples.AST_BatchPlant.Test"></A><A HREF="Modelica_Fluid_Examples_AST_BatchPlant.html#Modelica.Fluid.Examples.AST_BatchPlant"
>Modelica.Fluid.Examples.AST_BatchPlant</A>.Test</H2>
<B>Test of used tank models</B>
<P>
<P><H3>Package Content</H3><p>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2 >
<TR><TH >Name</TH><TH>Description</TH></TR>
<TR><TD><IMG SRC="Modelica.Fluid.Examples.AST_BatchPlant.Test.OneTankS.png" ALT="Modelica.Fluid.Examples.AST_BatchPlant.Test.OneTank" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Fluid_Examples_AST_BatchPlant_Test.html#Modelica.Fluid.Examples.AST_BatchPlant.Test.OneTank"
>OneTank</A>
</TD><TD>Tank with one time-varying top inlet mass flow rate and a bottom outlet into the ambient</TD></TR>
<TR><TD><IMG SRC="Modelica.Fluid.Examples.AST_BatchPlant.Test.OneTankS.png" ALT="Modelica.Fluid.Examples.AST_BatchPlant.Test.TwoTanks" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Fluid_Examples_AST_BatchPlant_Test.html#Modelica.Fluid.Examples.AST_BatchPlant.Test.TwoTanks"
>TwoTanks</A>
</TD><TD>&nbsp;</TD></TR>
<TR><TD><IMG SRC="Modelica.Fluid.Examples.AST_BatchPlant.Test.OneTankS.png" ALT="Modelica.Fluid.Examples.AST_BatchPlant.Test.TankWithEmptyingPipe1" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Fluid_Examples_AST_BatchPlant_Test.html#Modelica.Fluid.Examples.AST_BatchPlant.Test.TankWithEmptyingPipe1"
>TankWithEmptyingPipe1</A>
</TD><TD>Demonstrates a tank with one constant top inlet mass flow rate and a bottom outlet into the ambient</TD></TR>
<TR><TD><IMG SRC="Modelica.Fluid.Examples.AST_BatchPlant.Test.OneTankS.png" ALT="Modelica.Fluid.Examples.AST_BatchPlant.Test.TankWithEmptyingPipe2" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Fluid_Examples_AST_BatchPlant_Test.html#Modelica.Fluid.Examples.AST_BatchPlant.Test.TankWithEmptyingPipe2"
>TankWithEmptyingPipe2</A>
</TD><TD>Demonstrates a tank with one constant top inlet mass flow rate and a bottom outlet into the ambient</TD></TR>
<TR><TD><IMG SRC="Modelica.Fluid.Examples.AST_BatchPlant.Test.OneTankS.png" ALT="Modelica.Fluid.Examples.AST_BatchPlant.Test.TanksWithEmptyingPipe1" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Fluid_Examples_AST_BatchPlant_Test.html#Modelica.Fluid.Examples.AST_BatchPlant.Test.TanksWithEmptyingPipe1"
>TanksWithEmptyingPipe1</A>
</TD><TD>Demonstrates a tank with one constant top inlet mass flow rate and a bottom outlet into the ambient</TD></TR>
<TR><TD><IMG SRC="Modelica.Fluid.Examples.AST_BatchPlant.Test.OneTankS.png" ALT="Modelica.Fluid.Examples.AST_BatchPlant.Test.TanksWithEmptyingPipe2" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Fluid_Examples_AST_BatchPlant_Test.html#Modelica.Fluid.Examples.AST_BatchPlant.Test.TanksWithEmptyingPipe2"
>TanksWithEmptyingPipe2</A>
</TD><TD>Demonstrates a tank with one constant top inlet mass flow rate and a bottom outlet into the ambient</TD></TR>
</TABLE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE OneTank<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Fluid.Examples.AST_BatchPlant.Test.OneTankI.png" ALT="Modelica.Fluid.Examples.AST_BatchPlant.Test.OneTank" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Fluid.Examples.AST_BatchPlant.Test.OneTank"></A><A HREF="Modelica_Fluid_Examples_AST_BatchPlant_Test.html#Modelica.Fluid.Examples.AST_BatchPlant.Test"
>Modelica.Fluid.Examples.AST_BatchPlant.Test</A>.OneTank</H2>
<B>Tank with one time-varying top inlet mass flow rate and a bottom outlet into the ambient</B><p>
<IMG SRC="Modelica.Fluid.Examples.AST_BatchPlant.Test.OneTankD.png" ALT="Modelica.Fluid.Examples.AST_BatchPlant.Test.OneTank">
<P><H3>Information</H3></P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for an example model).
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> OneTank <font color="darkgreen">
  &quot;Tank with one time-varying top inlet mass flow rate and a bottom outlet into the ambient&quot;</font>
  <font color="blue">import </font><A HREF="Modelica_SIunits_Conversions.html#Modelica.SIunits.Conversions.from_bar"
>Modelica.SIunits.Conversions.from_bar</A>;
  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BaseClasses.html#Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.TankWithTopPorts"
>Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.TankWithTopPorts</A> tank(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = 
        <A HREF="Modelica_Media_Water_ConstantPropertyLiquidWater.html#Modelica.Media.Water.ConstantPropertyLiquidWater"
>Modelica.Media.Water.ConstantPropertyLiquidWater</A>,
    crossArea=1,
    height=1,
    portsData={<font color="red">Modelica.Fluid.Vessels.BaseClasses.VesselPortsData</font>(
        diameter=0.1, height=0)},
    V0=0.1,
    nTopPorts=1,
    nPorts=1,
    level_start=0);</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Fluid_Sources.html#Modelica.Fluid.Sources.MassFlowSource_T"
>Sources.MassFlowSource_T</A> flowSource(nPorts=1,
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = 
        <A HREF="Modelica_Media_Water_ConstantPropertyLiquidWater.html#Modelica.Media.Water.ConstantPropertyLiquidWater"
>Modelica.Media.Water.ConstantPropertyLiquidWater</A>,
    m_flow=20,
    T=system.T_ambient,
    use_m_flow_in=true);
  <font color="blue">inner </font><A HREF="Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system;
  <A HREF="Modelica_Fluid_Sources.html#Modelica.Fluid.Sources.Boundary_pT"
>Modelica.Fluid.Sources.Boundary_pT</A> ambient_fixed(nPorts=1,
                                         <font color="blue">redeclare </font><font color="blue">package</font> Medium = 
        <A HREF="Modelica_Media_Water_ConstantPropertyLiquidWater.html#Modelica.Media.Water.ConstantPropertyLiquidWater"
>Modelica.Media.Water.ConstantPropertyLiquidWater</A>,
    p=system.p_ambient,
    T=system.T_ambient);
  <A HREF="Modelica_Fluid_Pipes.html#Modelica.Fluid.Pipes.StaticPipe"
>Modelica.Fluid.Pipes.StaticPipe</A> pipe(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = 
        <A HREF="Modelica_Media_Water_ConstantPropertyLiquidWater.html#Modelica.Media.Water.ConstantPropertyLiquidWater"
>Modelica.Media.Water.ConstantPropertyLiquidWater</A>,
    length=1,
    diameter=0.1,
    height_ab=-1);
  <A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.TimeTable"
>Modelica.Blocks.Sources.TimeTable</A> timeTable(table=[0,0; 10,0; 10,40; 20,40;
        20,10; 50,10; 50,0; 60,0; 60,20; 70,20; 80,55; 80,0; 100,0]);</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(flowSource.ports[1], tank.topPorts[1]);
  <font color="red">connect</font>(tank.ports[1], pipe.port_a);
  <font color="red">connect</font>(pipe.port_b, ambient_fixed.ports[1]);
  <font color="red">connect</font>(timeTable.y, flowSource.m_flow_in);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>OneTank;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE TwoTanks<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Fluid.Examples.AST_BatchPlant.Test.OneTankI.png" ALT="Modelica.Fluid.Examples.AST_BatchPlant.Test.TwoTanks" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Fluid.Examples.AST_BatchPlant.Test.TwoTanks"></A><A HREF="Modelica_Fluid_Examples_AST_BatchPlant_Test.html#Modelica.Fluid.Examples.AST_BatchPlant.Test"
>Modelica.Fluid.Examples.AST_BatchPlant.Test</A>.TwoTanks</H2>
<IMG SRC="Modelica.Fluid.Examples.AST_BatchPlant.Test.TwoTanksD.png" ALT="Modelica.Fluid.Examples.AST_BatchPlant.Test.TwoTanks">
<P><H3>Information</H3></P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for an example model).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Boolean</TD><TD>stiffCharacteristicForEmptyPort</TD><TD>true</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> TwoTanks
  <font color="blue">import </font><A HREF="Modelica_SIunits_Conversions.html#Modelica.SIunits.Conversions.from_bar"
>Modelica.SIunits.Conversions.from_bar</A>;
  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;
  <font color="blue">parameter </font>Boolean stiffCharacteristicForEmptyPort=true;

<textblock type="annotcomp" expanded="false">  <font color="blue">inner </font><A HREF="Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system;
  <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BaseClasses.html#Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.TankWithTopPorts"
>Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.TankWithTopPorts</A> tank1(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = 
        <A HREF="Modelica_Media_Water_ConstantPropertyLiquidWater.html#Modelica.Media.Water.ConstantPropertyLiquidWater"
>Modelica.Media.Water.ConstantPropertyLiquidWater</A>,
    stiffCharacteristicForEmptyPort = stiffCharacteristicForEmptyPort,
    crossArea=1,
    height=4,
    level_start=3,
    T_start=<font color="red">Modelica.SIunits.Conversions.from_degC</font>(50),
    nPorts=1,
    portsData={<font color="red">Modelica.Fluid.Vessels.BaseClasses.VesselPortsData</font>(
        diameter=0.1, height=0)});
  <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BaseClasses.html#Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.TankWithTopPorts"
>Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.TankWithTopPorts</A> tank2(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = 
        <A HREF="Modelica_Media_Water_ConstantPropertyLiquidWater.html#Modelica.Media.Water.ConstantPropertyLiquidWater"
>Modelica.Media.Water.ConstantPropertyLiquidWater</A>,
    stiffCharacteristicForEmptyPort = stiffCharacteristicForEmptyPort,
    crossArea=1,
    height=4,
    level_start=1,
    T_start=<font color="red">Modelica.SIunits.Conversions.from_degC</font>(100),
    nPorts=1,
    portsData={<font color="red">Modelica.Fluid.Vessels.BaseClasses.VesselPortsData</font>(
        diameter=0.1, height=0)});
  <A HREF="Modelica_Fluid_Pipes.html#Modelica.Fluid.Pipes.StaticPipe"
>Modelica.Fluid.Pipes.StaticPipe</A> pipe(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = 
        <A HREF="Modelica_Media_Water_ConstantPropertyLiquidWater.html#Modelica.Media.Water.ConstantPropertyLiquidWater"
>Modelica.Media.Water.ConstantPropertyLiquidWater</A>,
    length=1,
    diameter=0.1);</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(tank1.ports[1], pipe.port_a);
  <font color="red">connect</font>(pipe.port_b, tank2.ports[1]);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>TwoTanks;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE TankWithEmptyingPipe1<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Fluid.Examples.AST_BatchPlant.Test.OneTankI.png" ALT="Modelica.Fluid.Examples.AST_BatchPlant.Test.TankWithEmptyingPipe1" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Fluid.Examples.AST_BatchPlant.Test.TankWithEmptyingPipe1"></A><A HREF="Modelica_Fluid_Examples_AST_BatchPlant_Test.html#Modelica.Fluid.Examples.AST_BatchPlant.Test"
>Modelica.Fluid.Examples.AST_BatchPlant.Test</A>.TankWithEmptyingPipe1</H2>
<B>Demonstrates a tank with one constant top inlet mass flow rate and a bottom outlet into the ambient</B><p>
<IMG SRC="Modelica.Fluid.Examples.AST_BatchPlant.Test.TankWithEmptyingPipe1D.png" ALT="Modelica.Fluid.Examples.AST_BatchPlant.Test.TankWithEmptyingPipe1">
<P><H3>Information</H3></P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for an example model).
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> TankWithEmptyingPipe1 <font color="darkgreen">
  &quot;Demonstrates a tank with one constant top inlet mass flow rate and a bottom outlet into the ambient&quot;</font>
  <font color="blue">import </font><A HREF="Modelica_SIunits_Conversions.html#Modelica.SIunits.Conversions.from_bar"
>Modelica.SIunits.Conversions.from_bar</A>;
  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Fluid_Sources.html#Modelica.Fluid.Sources.MassFlowSource_T"
>Sources.MassFlowSource_T</A> flowSource(
    nPorts=1,
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = 
        <A HREF="Modelica_Media_Water_ConstantPropertyLiquidWater.html#Modelica.Media.Water.ConstantPropertyLiquidWater"
>Modelica.Media.Water.ConstantPropertyLiquidWater</A>,
    m_flow=50,
    T=system.T_ambient);
  <font color="blue">inner </font><A HREF="Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system;
  <A HREF="Modelica_Fluid_Sources.html#Modelica.Fluid.Sources.Boundary_pT"
>Modelica.Fluid.Sources.Boundary_pT</A> ambient_fixed(nPorts=1,
                                         <font color="blue">redeclare </font><font color="blue">package</font> Medium = 
        <A HREF="Modelica_Media_Water_ConstantPropertyLiquidWater.html#Modelica.Media.Water.ConstantPropertyLiquidWater"
>Modelica.Media.Water.ConstantPropertyLiquidWater</A>,
    p=system.p_ambient,
    T=system.T_ambient);
  <A HREF="Modelica_Fluid_Valves.html#Modelica.Fluid.Valves.ValveDiscrete"
>Modelica.Fluid.Valves.ValveDiscrete</A> valveDiscrete(
                                            <font color="blue">redeclare </font><font color="blue">package</font> Medium = 
        <A HREF="Modelica_Media_Water_ConstantPropertyLiquidWater.html#Modelica.Media.Water.ConstantPropertyLiquidWater"
>Modelica.Media.Water.ConstantPropertyLiquidWater</A>,
    dp_nominal(displayUnit=&quot;Pa&quot;) = 1,
    m_flow_nominal=100);
  <A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.BooleanConstant"
>Modelica.Blocks.Sources.BooleanConstant</A> open(k=false);
  <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BaseClasses.html#Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.TankWithTopPorts"
>Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.TankWithTopPorts</A> tank1(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = 
        <A HREF="Modelica_Media_Water_ConstantPropertyLiquidWater.html#Modelica.Media.Water.ConstantPropertyLiquidWater"
>Modelica.Media.Water.ConstantPropertyLiquidWater</A>,
    crossArea=1,
    V0=0.1,
    height=2,
    level_start=0.1,
    nPorts=2,
    portsData={<font color="red">Modelica.Fluid.Vessels.BaseClasses.VesselPortsData</font>(
        diameter=0.05, height=0),
        <font color="red">Modelica.Fluid.Vessels.BaseClasses.VesselPortsData</font>(
                                                        diameter=0.1,
        height=1)},
    stiffCharacteristicForEmptyPort=true,
    nTopPorts=1);
  <A HREF="Modelica_Fluid_Pipes.html#Modelica.Fluid.Pipes.StaticPipe"
>Modelica.Fluid.Pipes.StaticPipe</A> pipe(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = 
        <A HREF="Modelica_Media_Water_ConstantPropertyLiquidWater.html#Modelica.Media.Water.ConstantPropertyLiquidWater"
>Modelica.Media.Water.ConstantPropertyLiquidWater</A>,
    length=1,
    diameter=0.1,
    height_ab=1);</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(ambient_fixed.ports[1], valveDiscrete.port_a);
  <font color="red">connect</font>(open.y, valveDiscrete.open);
  <font color="red">connect</font>(flowSource.ports[1], pipe.port_b);
  <font color="red">connect</font>(valveDiscrete.port_b, tank1.ports[1]);
  <font color="red">connect</font>(pipe.port_a, tank1.ports[2]);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>TankWithEmptyingPipe1;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE TankWithEmptyingPipe2<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Fluid.Examples.AST_BatchPlant.Test.OneTankI.png" ALT="Modelica.Fluid.Examples.AST_BatchPlant.Test.TankWithEmptyingPipe2" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Fluid.Examples.AST_BatchPlant.Test.TankWithEmptyingPipe2"></A><A HREF="Modelica_Fluid_Examples_AST_BatchPlant_Test.html#Modelica.Fluid.Examples.AST_BatchPlant.Test"
>Modelica.Fluid.Examples.AST_BatchPlant.Test</A>.TankWithEmptyingPipe2</H2>
<B>Demonstrates a tank with one constant top inlet mass flow rate and a bottom outlet into the ambient</B><p>
<IMG SRC="Modelica.Fluid.Examples.AST_BatchPlant.Test.TankWithEmptyingPipe2D.png" ALT="Modelica.Fluid.Examples.AST_BatchPlant.Test.TankWithEmptyingPipe2">
<P><H3>Information</H3></P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for an example model).
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> TankWithEmptyingPipe2 <font color="darkgreen">
  &quot;Demonstrates a tank with one constant top inlet mass flow rate and a bottom outlet into the ambient&quot;</font>
  <font color="blue">import </font><A HREF="Modelica_SIunits_Conversions.html#Modelica.SIunits.Conversions.from_bar"
>Modelica.SIunits.Conversions.from_bar</A>;
  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;

<textblock type="annotcomp" expanded="false">  <font color="blue">inner </font><A HREF="Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system;
  <A HREF="Modelica_Fluid_Sources.html#Modelica.Fluid.Sources.Boundary_pT"
>Modelica.Fluid.Sources.Boundary_pT</A> ambient_fixed(nPorts=1,
                                         <font color="blue">redeclare </font><font color="blue">package</font> Medium = 
        <A HREF="Modelica_Media_Water_ConstantPropertyLiquidWater.html#Modelica.Media.Water.ConstantPropertyLiquidWater"
>Modelica.Media.Water.ConstantPropertyLiquidWater</A>,
    p=system.p_ambient,
    T=system.T_ambient);
  <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BaseClasses.html#Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.TankWithTopPorts"
>Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.TankWithTopPorts</A> tank1(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = 
        <A HREF="Modelica_Media_Water_ConstantPropertyLiquidWater.html#Modelica.Media.Water.ConstantPropertyLiquidWater"
>Modelica.Media.Water.ConstantPropertyLiquidWater</A>,
    crossArea=1,
    V0=0.1,
    height=2,
    nPorts=2,
    portsData={<font color="red">Modelica.Fluid.Vessels.BaseClasses.VesselPortsData</font>(
        diameter=0.05, height=0),
        <font color="red">Modelica.Fluid.Vessels.BaseClasses.VesselPortsData</font>(
                                                        diameter=0.1,
        height=1)},
    level_start=2,
    stiffCharacteristicForEmptyPort=true);
  <A HREF="Modelica_Fluid_Pipes.html#Modelica.Fluid.Pipes.StaticPipe"
>Modelica.Fluid.Pipes.StaticPipe</A> pipe1(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = 
        <A HREF="Modelica_Media_Water_ConstantPropertyLiquidWater.html#Modelica.Media.Water.ConstantPropertyLiquidWater"
>Modelica.Media.Water.ConstantPropertyLiquidWater</A>,
    length=1,
    diameter=0.1,
    height_ab=1);</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Fluid_Pipes.html#Modelica.Fluid.Pipes.StaticPipe"
>Modelica.Fluid.Pipes.StaticPipe</A> pipe2(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = 
        <A HREF="Modelica_Media_Water_ConstantPropertyLiquidWater.html#Modelica.Media.Water.ConstantPropertyLiquidWater"
>Modelica.Media.Water.ConstantPropertyLiquidWater</A>,
    length=1,
    diameter=0.1,
    height_ab=1);
  <A HREF="Modelica_Fluid_Sources.html#Modelica.Fluid.Sources.Boundary_pT"
>Modelica.Fluid.Sources.Boundary_pT</A> ambient_fixed1(nPorts=1,
                                         <font color="blue">redeclare </font><font color="blue">package</font> Medium = 
        <A HREF="Modelica_Media_Water_ConstantPropertyLiquidWater.html#Modelica.Media.Water.ConstantPropertyLiquidWater"
>Modelica.Media.Water.ConstantPropertyLiquidWater</A>,
    p=system.p_ambient,
    T=system.T_ambient);</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(tank1.ports[1], pipe1.port_b);
  <font color="red">connect</font>(ambient_fixed.ports[1], pipe1.port_a);
  <font color="red">connect</font>(tank1.ports[2], pipe2.port_b);
  <font color="red">connect</font>(ambient_fixed1.ports[1], pipe2.port_a);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>TankWithEmptyingPipe2;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE TanksWithEmptyingPipe1<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Fluid.Examples.AST_BatchPlant.Test.OneTankI.png" ALT="Modelica.Fluid.Examples.AST_BatchPlant.Test.TanksWithEmptyingPipe1" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Fluid.Examples.AST_BatchPlant.Test.TanksWithEmptyingPipe1"></A><A HREF="Modelica_Fluid_Examples_AST_BatchPlant_Test.html#Modelica.Fluid.Examples.AST_BatchPlant.Test"
>Modelica.Fluid.Examples.AST_BatchPlant.Test</A>.TanksWithEmptyingPipe1</H2>
<B>Demonstrates a tank with one constant top inlet mass flow rate and a bottom outlet into the ambient</B><p>
<IMG SRC="Modelica.Fluid.Examples.AST_BatchPlant.Test.TanksWithEmptyingPipe1D.png" ALT="Modelica.Fluid.Examples.AST_BatchPlant.Test.TanksWithEmptyingPipe1">
<P><H3>Information</H3></P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for an example model).
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> TanksWithEmptyingPipe1 <font color="darkgreen">
  &quot;Demonstrates a tank with one constant top inlet mass flow rate and a bottom outlet into the ambient&quot;</font>
  <font color="blue">import </font><A HREF="Modelica_SIunits_Conversions.html#Modelica.SIunits.Conversions.from_bar"
>Modelica.SIunits.Conversions.from_bar</A>;
  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;

<textblock type="annotcomp" expanded="false">  <font color="blue">inner </font><A HREF="Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system;
  <A HREF="Modelica_Fluid_Sources.html#Modelica.Fluid.Sources.Boundary_pT"
>Modelica.Fluid.Sources.Boundary_pT</A> ambient_fixed1(nPorts=1,
                                          <font color="blue">redeclare </font><font color="blue">package</font> Medium = 
        <A HREF="Modelica_Media_Water_ConstantPropertyLiquidWater.html#Modelica.Media.Water.ConstantPropertyLiquidWater"
>Modelica.Media.Water.ConstantPropertyLiquidWater</A>,
    p=system.p_ambient,
    T=system.T_ambient);
  <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BaseClasses.html#Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.TankWithTopPorts"
>Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.TankWithTopPorts</A> tank1(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = 
        <A HREF="Modelica_Media_Water_ConstantPropertyLiquidWater.html#Modelica.Media.Water.ConstantPropertyLiquidWater"
>Modelica.Media.Water.ConstantPropertyLiquidWater</A>,
    crossArea=1,
    V0=0.1,
    height=2,
    nPorts=2,
    portsData={<font color="red">Modelica.Fluid.Vessels.BaseClasses.VesselPortsData</font>(
        diameter=0.05, height=0),
        <font color="red">Modelica.Fluid.Vessels.BaseClasses.VesselPortsData</font>(
                                                        diameter=0.1,
        height=1)},
    level_start=2,
    stiffCharacteristicForEmptyPort=true);
  <A HREF="Modelica_Fluid_Pipes.html#Modelica.Fluid.Pipes.StaticPipe"
>Modelica.Fluid.Pipes.StaticPipe</A> pipe1(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = 
        <A HREF="Modelica_Media_Water_ConstantPropertyLiquidWater.html#Modelica.Media.Water.ConstantPropertyLiquidWater"
>Modelica.Media.Water.ConstantPropertyLiquidWater</A>,
    length=1,
    diameter=0.1,
    height_ab=1);</textblock>

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Fluid_Pipes.html#Modelica.Fluid.Pipes.StaticPipe"
>Modelica.Fluid.Pipes.StaticPipe</A> pipe2(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = 
        <A HREF="Modelica_Media_Water_ConstantPropertyLiquidWater.html#Modelica.Media.Water.ConstantPropertyLiquidWater"
>Modelica.Media.Water.ConstantPropertyLiquidWater</A>,
    length=1,
    diameter=0.1,
    height_ab=1);
  <A HREF="Modelica_Fluid_Sources.html#Modelica.Fluid.Sources.Boundary_pT"
>Modelica.Fluid.Sources.Boundary_pT</A> ambient_fixed2(nPorts=1,
                                         <font color="blue">redeclare </font><font color="blue">package</font> Medium = 
        <A HREF="Modelica_Media_Water_ConstantPropertyLiquidWater.html#Modelica.Media.Water.ConstantPropertyLiquidWater"
>Modelica.Media.Water.ConstantPropertyLiquidWater</A>,
    p=system.p_ambient,
    T=system.T_ambient);
  <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BaseClasses.html#Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.TankWithTopPorts"
>Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.TankWithTopPorts</A> tank2(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = 
        <A HREF="Modelica_Media_Water_ConstantPropertyLiquidWater.html#Modelica.Media.Water.ConstantPropertyLiquidWater"
>Modelica.Media.Water.ConstantPropertyLiquidWater</A>,
    crossArea=1,
    V0=0.1,
    height=2,
    nPorts=2,
    portsData={<font color="red">Modelica.Fluid.Vessels.BaseClasses.VesselPortsData</font>(
        diameter=0.05, height=0),
        <font color="red">Modelica.Fluid.Vessels.BaseClasses.VesselPortsData</font>(
                                                        diameter=0.1,
        height=0.5)},
    level_start=0.1,
    stiffCharacteristicForEmptyPort=true);
  <A HREF="Modelica_Fluid_Pipes.html#Modelica.Fluid.Pipes.StaticPipe"
>Modelica.Fluid.Pipes.StaticPipe</A> pipe3(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = 
        <A HREF="Modelica_Media_Water_ConstantPropertyLiquidWater.html#Modelica.Media.Water.ConstantPropertyLiquidWater"
>Modelica.Media.Water.ConstantPropertyLiquidWater</A>,
    length=1,
    diameter=0.1,
    height_ab=-0.5);</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(tank1.ports[1], pipe1.port_b);
  <font color="red">connect</font>(ambient_fixed1.ports[1], pipe1.port_a);
  <font color="red">connect</font>(ambient_fixed2.ports[1], pipe2.port_a);
  <font color="red">connect</font>(tank2.ports[1], pipe2.port_b);
  <font color="red">connect</font>(pipe3.port_a, tank1.ports[2]);
  <font color="red">connect</font>(pipe3.port_b, tank2.ports[2]);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>TanksWithEmptyingPipe1;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE TanksWithEmptyingPipe2<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Fluid.Examples.AST_BatchPlant.Test.OneTankI.png" ALT="Modelica.Fluid.Examples.AST_BatchPlant.Test.TanksWithEmptyingPipe2" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Fluid.Examples.AST_BatchPlant.Test.TanksWithEmptyingPipe2"></A><A HREF="Modelica_Fluid_Examples_AST_BatchPlant_Test.html#Modelica.Fluid.Examples.AST_BatchPlant.Test"
>Modelica.Fluid.Examples.AST_BatchPlant.Test</A>.TanksWithEmptyingPipe2</H2>
<B>Demonstrates a tank with one constant top inlet mass flow rate and a bottom outlet into the ambient</B><p>
<IMG SRC="Modelica.Fluid.Examples.AST_BatchPlant.Test.TanksWithEmptyingPipe2D.png" ALT="Modelica.Fluid.Examples.AST_BatchPlant.Test.TanksWithEmptyingPipe2">
<P><H3>Information</H3></P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for an example model).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Boolean</TD><TD>stiffCharacteristicForEmptyPort</TD><TD>true</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> TanksWithEmptyingPipe2 <font color="darkgreen">
  &quot;Demonstrates a tank with one constant top inlet mass flow rate and a bottom outlet into the ambient&quot;</font>
  <font color="blue">parameter </font>Boolean stiffCharacteristicForEmptyPort=true;
  <font color="blue">import </font><A HREF="Modelica_SIunits_Conversions.html#Modelica.SIunits.Conversions.from_bar"
>Modelica.SIunits.Conversions.from_bar</A>;
  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;
  <font color="blue">replaceable </font><font color="blue">package</font> Medium = 
     <A HREF="Modelica_Media_Water_ConstantPropertyLiquidWater.html#Modelica.Media.Water.ConstantPropertyLiquidWater"
>Modelica.Media.Water.ConstantPropertyLiquidWater</A>                    <font color="blue">constrainedby </font>
    Modelica.Media.Interfaces.PartialMedium <font color="darkgreen">&quot;Medium in the component&quot;</font>;

<textblock type="annotcomp" expanded="false">  <font color="blue">inner </font><A HREF="Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</A> system;
  <A HREF="Modelica_Fluid_Sources.html#Modelica.Fluid.Sources.Boundary_pT"
>Modelica.Fluid.Sources.Boundary_pT</A> ambient_fixed(nPorts=1,
                                         <font color="blue">redeclare </font><font color="blue">package</font> Medium = 
        <A HREF="Modelica_Media_Water_ConstantPropertyLiquidWater.html#Modelica.Media.Water.ConstantPropertyLiquidWater"
>Modelica.Media.Water.ConstantPropertyLiquidWater</A>,
    p=system.p_ambient,
    T=system.T_ambient);
  <A HREF="Modelica_Fluid_Valves.html#Modelica.Fluid.Valves.ValveDiscrete"
>Modelica.Fluid.Valves.ValveDiscrete</A> valveDiscrete(
                                            <font color="blue">redeclare </font><font color="blue">package</font> Medium = 
        <A HREF="Modelica_Media_Water_ConstantPropertyLiquidWater.html#Modelica.Media.Water.ConstantPropertyLiquidWater"
>Modelica.Media.Water.ConstantPropertyLiquidWater</A>,
    dp_nominal(displayUnit=&quot;Pa&quot;) = 1,
    m_flow_nominal=100);
  <A HREF="Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.BooleanConstant"
>Modelica.Blocks.Sources.BooleanConstant</A> open(k=false);
  <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BaseClasses.html#Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.TankWithTopPorts"
>Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.TankWithTopPorts</A> tank3(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    crossArea=1,
    V0=0.1,
    height=20,
    nPorts=2,
    portsData={<font color="red">Modelica.Fluid.Vessels.BaseClasses.VesselPortsData</font>(
        diameter=0.05, height=0),
        <font color="red">Modelica.Fluid.Vessels.BaseClasses.VesselPortsData</font>(
                                                        diameter=0.05,
        height=6.5)},
    level_start=6,
    nTopPorts=1,
    stiffCharacteristicForEmptyPort = stiffCharacteristicForEmptyPort);
  <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BaseClasses.html#Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.TankWithTopPorts"
>Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.TankWithTopPorts</A> tank1(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    crossArea=1,
    V0=0.1,
    height=10,
    nPorts=1,
    portsData={<font color="red">Modelica.Fluid.Vessels.BaseClasses.VesselPortsData</font>(
        diameter=0.1, height=0)},
    level_start=9,
    stiffCharacteristicForEmptyPort = stiffCharacteristicForEmptyPort);
  <A HREF="Modelica_Fluid_Examples_AST_BatchPlant_BaseClasses.html#Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.TankWithTopPorts"
>Modelica.Fluid.Examples.AST_BatchPlant.BaseClasses.TankWithTopPorts</A> tank2(
    <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
    crossArea=1,
    V0=0.1,
    height=10,
    nPorts=3,
    portsData={<font color="red">Modelica.Fluid.Vessels.BaseClasses.VesselPortsData</font>(
        diameter=0.05, height=0),
        <font color="red">Modelica.Fluid.Vessels.BaseClasses.VesselPortsData</font>(
                                                        diameter=0.05,
        height=2),<font color="red">Modelica.Fluid.Vessels.BaseClasses.VesselPortsData</font>(
        diameter=0.1, height=3)},
    level_start=1,
    stiffCharacteristicForEmptyPort = stiffCharacteristicForEmptyPort);
  <A HREF="Modelica_Fluid_Pipes.html#Modelica.Fluid.Pipes.StaticPipe"
>Pipes.StaticPipe</A> pipe1(         <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
      height_ab=2,
    length=2,
    diameter=0.1);
  <A HREF="Modelica_Fluid_Pipes.html#Modelica.Fluid.Pipes.StaticPipe"
>Pipes.StaticPipe</A> pipe2(         <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
      height_ab=2,
    length=2,
    diameter=0.1);
  <A HREF="Modelica_Fluid_Pipes.html#Modelica.Fluid.Pipes.StaticPipe"
>Pipes.StaticPipe</A> pipe3(         <font color="blue">redeclare </font><font color="blue">package</font> Medium = Medium,
      height_ab=2,
    length=2,
    diameter=0.1);</textblock>
<font color="blue">equation </font>
<textblock type="annotconnect" expanded="false">  <font color="red">connect</font>(ambient_fixed.ports[1], valveDiscrete.port_a);
  <font color="red">connect</font>(open.y, valveDiscrete.open);
  <font color="red">connect</font>(valveDiscrete.port_b,tank3. ports[1]);
  <font color="red">connect</font>(pipe1.port_b, tank1.ports[1]);
  <font color="red">connect</font>(pipe2.port_a, tank3.ports[2]);
  <font color="red">connect</font>(pipe3.port_a, tank3.topPorts[1]);
  <font color="red">connect</font>(pipe3.port_b, tank2.ports[1]);
  <font color="red">connect</font>(pipe1.port_a, tank2.ports[3]);
  <font color="red">connect</font>(pipe2.port_b, tank2.ports[2]);</textblock>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>TanksWithEmptyingPipe2;
</PRE>
<HR>
<address>HTML-documentation generated by <a href="http://www.Dymola.com/">Dymola</a> Sun Jan 17 21:12:09 2010.
</address></BODY>
</HTML>
