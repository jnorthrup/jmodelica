<HTML>
<HEAD>
<TITLE>Modelica.Media.Air.MoistAir</TITLE>
<META name="HTML-Generator" content="Dymola">
<META name="description" content="&quot;Air: Moist air model (240 ... 400 K)&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial,sans-serif; }
pre     { font-size:  9pt; font-family: Courier,monospace;}
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address {                  font-weight: normal} 
td      { solid #000; vertical-align:top; }
th      { solid #000; vertical-align:top; font-weight: bold; }
table   { solid #000; border-collapse: collapse;}
</style>
</HEAD>
<BODY><P>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE MoistAir<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Media.Air.MoistAir"></A><A HREF="Modelica_Media_Air.html#Modelica.Media.Air"
>Modelica.Media.Air</A>.MoistAir</H2>
<B>Air: Moist air model (240 ... 400 K)</B>
<P>
<P><H3>Information</H3></P>
<PRE></pre>
<h4>Thermodynamic Model</h4>
<p>This package provides a full thermodynamic model of moist air including the fog region and temperatures below zero degC.
The governing assumptions in this model are:</p>
<ul>
<li>the perfect gas law applies</li>
<li>water volume other than that of steam is neglected</li></ul>
<p>All extensive properties are expressed in terms of the total mass in order to comply with other media in this libary. However, for moist air it is rather common to express the absolute humidity in terms of mass of dry air only, which has advantages when working with charts. In addition, care must be taken, when working with mass fractions with respect to total mass, that all properties refer to the same water content when being used in mathematical operations (which is always the case if based on dry air only). Therefore two absolute humidities are computed in the <b>BaseProperties</b> model: <b>X</b> denotes the absolute humidity in terms of the total mass while <b>x</b> denotes the absolute humitity per unit mass of dry air. In addition, the relative humidity <b>phi</b> is also computed.</p>
<p>At the triple point temperature of water of 0.01°C or 273.16 K and a relative humidity greater than 1 fog may be present as liquid and as ice resulting in a specific enthalpy somewhere between those of the two isotherms for solid and liquid fog, respectively. For numerical reasons a coexisting mixture of 50% solid and 50% liquid fog is assumed in the fog region at the triple point in this model.

<h4>Range of validity</h4>
<p>From the assumptions mentioned above it follows that the <b>pressure</b> should be in the region around <b>atmospheric</b> conditions or below (a few bars may still be fine though). Additionally a very high water content at low temperatures would yield incorrect densities, because the volume of the liquid or solid phase would not be negligible anymore. The model does not provide information on limits for water drop size in the fog region or transport information for the actual condensation or evaporation process in combination with surfaces. All excess water which is not in its vapour state is assumed to be still present in the air regarding its energy but not in terms of its spatial extent.<br><br>
The thermodynamic model may be used for <b>temperatures</b> ranging from <b>240 - 400 K</b>. This holds for all functions unless otherwise stated in their description. However, although the model works at temperatures above the saturation temperature it is questionable to use the term "relative humidity" in this region. Please note, that although several functions compute pure water properties, they are designed to be used within the moist air medium model where properties are dominated by air and steam in their vapor states, and not for pure liquid water applications.</p>

<h4>Transport Properties</h4>
<p>Several additional functions that are not needed to describe the thermodynamic system, but are required to model transport processes, like heat and mass transfer, may be called. They usually neglect the moisture influence unless otherwise stated.</p>

<h4>Application</h4>
<p>The model's main area of application is all processes that involve moist air cooling under near atmospheric pressure with possible moisture condensation. This is the case in all domestic and industrial air conditioning applications. Another large domain of moist air applications covers all processes that deal with dehydration of bulk material using air as a transport medium. Engineering tasks involving moist air are often performed (or at least visualized) by using charts that contain all relevant thermodynamic data for a moist air system. These so called psychrometric charts can be generated from the medium properties in this package. The model <A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.PsychrometricData"
>PsychrometricData</a> may be used for this purpose in order to obtain data for figures like those below (the plotting itself is not part of the model though).</p>

<p><img src="../../Modelica/Images/Media/Air/Mollier.png">
<img src="../../Modelica/Images/Media/Air/PsycroChart.png"></p>
<p>
<b>Legend:</b> blue - constant specific enthalpy, red - constant temperature, black - constant relative humidity</p>

<pre></PRE><P>
Extends from <A HREF="Modelica_Media_Interfaces_PartialCondensingGases.html#Modelica.Media.Interfaces.PartialCondensingGases"
>Interfaces.PartialCondensingGases</A> (Base class for mixtures of condensing and non-condensing gases).
<P><H3>Package Content</H3><p>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2 >
<TR><TH >Name</TH><TH>Description</TH></TR>
<TR><TD>Water=1</TD><TD>Index of water (in substanceNames, massFractions X, etc.)</TD></TR>
<TR><TD>Air=2</TD><TD>Index of air (in substanceNames, massFractions X, etc.)</TD></TR>
<TR><TD>k_mair=steam.MM/dryair.MM</TD><TD>ratio of molar weights</TD></TR>
<TR><TD>dryair=IdealGases.Common.SingleGasesData.Air</TD><TD>&nbsp;</TD></TR>
<TR><TD>steam=IdealGases.Common.SingleGasesData.H2O</TD><TD>&nbsp;</TD></TR>
<TR><TD>MMX={steam.MM,dryair.MM}</TD><TD>Molar masses of components</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.ThermodynamicStateS.png" ALT="Modelica.Media.Air.MoistAir.ThermodynamicState" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.ThermodynamicState"
>ThermodynamicState</A>
</TD><TD>ThermodynamicState record for moist air</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.BasePropertiesS.png" ALT="Modelica.Media.Air.MoistAir.BaseProperties" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.BaseProperties"
>BaseProperties</A>
</TD><TD>Moist air base properties record</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.setState_pTXS.png" ALT="Modelica.Media.Air.MoistAir.setState_pTX" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.setState_pTX"
>setState_pTX</A>
</TD><TD>Return thermodynamic state as function of pressure p, temperature T and composition X</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.setState_pTXS.png" ALT="Modelica.Media.Air.MoistAir.setState_phX" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.setState_phX"
>setState_phX</A>
</TD><TD>Return thermodynamic state as function of pressure p, specific enthalpy h and composition X</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.setState_pTXS.png" ALT="Modelica.Media.Air.MoistAir.setState_dTX" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.setState_dTX"
>setState_dTX</A>
</TD><TD>Return thermodynamic state as function of density d, temperature T and composition X</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.setState_pTXS.png" ALT="Modelica.Media.Air.MoistAir.setSmoothState" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.setSmoothState"
>setSmoothState</A>
</TD><TD>Return thermodynamic state so that it smoothly approximates: if x &gt; 0 then state_a else state_b</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.XsaturationS.png" ALT="Modelica.Media.Air.MoistAir.Xsaturation" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.Xsaturation"
>Xsaturation</A>
</TD><TD>Return absolute humitity per unit mass of moist air at saturation as a function of the thermodynamic state record</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.XsaturationS.png" ALT="Modelica.Media.Air.MoistAir.xsaturation" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.xsaturation"
>xsaturation</A>
</TD><TD>Return absolute humitity per unit mass of dry air at saturation as a function of the thermodynamic state record</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.XsaturationS.png" ALT="Modelica.Media.Air.MoistAir.xsaturation_pT" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.xsaturation_pT"
>xsaturation_pT</A>
</TD><TD>Return absolute humitity per unit mass of dry air at saturation as a function of pressure p and temperature T</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.XsaturationS.png" ALT="Modelica.Media.Air.MoistAir.massFraction_pTphi" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.massFraction_pTphi"
>massFraction_pTphi</A>
</TD><TD>Return steam mass fraction as a function of relative humidity phi and temperature T</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.XsaturationS.png" ALT="Modelica.Media.Air.MoistAir.relativeHumidity_pTX" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.relativeHumidity_pTX"
>relativeHumidity_pTX</A>
</TD><TD>Return relative humidity as a function of pressure p, temperature T and composition X</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.XsaturationS.png" ALT="Modelica.Media.Air.MoistAir.relativeHumidity" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.relativeHumidity"
>relativeHumidity</A>
</TD><TD>Return relative humidity as a function of the thermodynamic state record</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.gasConstantS.png" ALT="Modelica.Media.Air.MoistAir.gasConstant" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.gasConstant"
>gasConstant</A>
</TD><TD>Return ideal gas constant as a function from thermodynamic state, only valid for phi&lt;1</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.gasConstant_XS.png" ALT="Modelica.Media.Air.MoistAir.gasConstant_X" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.gasConstant_X"
>gasConstant_X</A>
</TD><TD>Return ideal gas constant as a function from composition X</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.saturationPressureLiquidS.png" ALT="Modelica.Media.Air.MoistAir.saturationPressureLiquid" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.saturationPressureLiquid"
>saturationPressureLiquid</A>
</TD><TD>Return saturation pressure of water as a function of temperature T in the range of 273.16 to 373.16 K</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.saturationPressureLiquidS.png" ALT="Modelica.Media.Air.MoistAir.saturationPressureLiquid_der" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.saturationPressureLiquid_der"
>saturationPressureLiquid_der</A>
</TD><TD>Time derivative of saturationPressureLiquid</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.saturationPressureLiquidS.png" ALT="Modelica.Media.Air.MoistAir.sublimationPressureIce" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.sublimationPressureIce"
>sublimationPressureIce</A>
</TD><TD>Return sublimation pressure of water as a function of temperature T between 223.16 and 273.16 K</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.saturationPressureLiquidS.png" ALT="Modelica.Media.Air.MoistAir.sublimationPressureIce_der" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.sublimationPressureIce_der"
>sublimationPressureIce_der</A>
</TD><TD>Derivative function for &#39;sublimationPressureIce&#39;</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.saturationPressureLiquidS.png" ALT="Modelica.Media.Air.MoistAir.saturationPressure" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.saturationPressure"
>saturationPressure</A>
</TD><TD>Return saturation pressure of water as a function of temperature T between 223.16 and 373.16 K</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.saturationPressure_derS.png" ALT="Modelica.Media.Air.MoistAir.saturationPressure_der" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.saturationPressure_der"
>saturationPressure_der</A>
</TD><TD>Derivative function for &#39;saturationPressure&#39;</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.saturationPressure_derS.png" ALT="Modelica.Media.Air.MoistAir.saturationTemperature" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.saturationTemperature"
>saturationTemperature</A>
</TD><TD>Return saturation temperature of water as a function of (partial) pressure p</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.enthalpyOfVaporizationS.png" ALT="Modelica.Media.Air.MoistAir.enthalpyOfVaporization" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.enthalpyOfVaporization"
>enthalpyOfVaporization</A>
</TD><TD>Return enthalpy of vaporization of water as a function of temperature T, 0 - 130 degC</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.enthalpyOfVaporizationS.png" ALT="Modelica.Media.Air.MoistAir.HeatCapacityOfWater" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.HeatCapacityOfWater"
>HeatCapacityOfWater</A>
</TD><TD>Return specific heat capacity of water (liquid only) as a function of temperature T</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.enthalpyOfVaporizationS.png" ALT="Modelica.Media.Air.MoistAir.enthalpyOfLiquid" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.enthalpyOfLiquid"
>enthalpyOfLiquid</A>
</TD><TD>Return enthalpy of liquid water as a function of temperature T(use enthalpyOfWater instead)</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.enthalpyOfVaporizationS.png" ALT="Modelica.Media.Air.MoistAir.enthalpyOfGas" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.enthalpyOfGas"
>enthalpyOfGas</A>
</TD><TD>Return specific enthalpy of gas (air and steam) as a function of temperature T and composition X</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.enthalpyOfVaporizationS.png" ALT="Modelica.Media.Air.MoistAir.enthalpyOfCondensingGas" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.enthalpyOfCondensingGas"
>enthalpyOfCondensingGas</A>
</TD><TD>Return specific enthalpy of steam as a function of temperature T</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.enthalpyOfVaporizationS.png" ALT="Modelica.Media.Air.MoistAir.enthalpyOfNonCondensingGas" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.enthalpyOfNonCondensingGas"
>enthalpyOfNonCondensingGas</A>
</TD><TD>Return specific enthalpy of dry air as a function of temperature T</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.enthalpyOfWaterS.png" ALT="Modelica.Media.Air.MoistAir.enthalpyOfWater" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.enthalpyOfWater"
>enthalpyOfWater</A>
</TD><TD>Computes specific enthalpy of water (solid/liquid) near atmospheric pressure from temperature T</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.enthalpyOfWaterS.png" ALT="Modelica.Media.Air.MoistAir.enthalpyOfWater_der" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.enthalpyOfWater_der"
>enthalpyOfWater_der</A>
</TD><TD>Derivative function of enthalpyOfWater</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.pressureS.png" ALT="Modelica.Media.Air.MoistAir.pressure" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.pressure"
>pressure</A>
</TD><TD>Returns pressure of ideal gas as a function of the thermodynamic state record</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.pressureS.png" ALT="Modelica.Media.Air.MoistAir.temperature" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.temperature"
>temperature</A>
</TD><TD>Return temperature of ideal gas as a function of the thermodynamic state record</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.T_phXS.png" ALT="Modelica.Media.Air.MoistAir.T_phX" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.T_phX"
>T_phX</A>
</TD><TD>Return temperature as a function of pressure p, specific enthalpy h and composition X</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.densityS.png" ALT="Modelica.Media.Air.MoistAir.density" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.density"
>density</A>
</TD><TD>Returns density of ideal gas as a function of the thermodynamic state record</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.densityS.png" ALT="Modelica.Media.Air.MoistAir.specificEnthalpy" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.specificEnthalpy"
>specificEnthalpy</A>
</TD><TD>Return specific enthalpy of moist air as a function of the thermodynamic state record</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.densityS.png" ALT="Modelica.Media.Air.MoistAir.h_pTX" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.h_pTX"
>h_pTX</A>
</TD><TD>Return specific enthalpy of moist air as a function of pressure p, temperature T and composition X</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.densityS.png" ALT="Modelica.Media.Air.MoistAir.h_pTX_der" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.h_pTX_der"
>h_pTX_der</A>
</TD><TD>Derivative function of h_pTX</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.densityS.png" ALT="Modelica.Media.Air.MoistAir.isentropicExponent" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.isentropicExponent"
>isentropicExponent</A>
</TD><TD>Return isentropic exponent (only for gas fraction!)</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.densityS.png" ALT="Modelica.Media.Air.MoistAir.isentropicEnthalpyApproximation" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.isentropicEnthalpyApproximation"
>isentropicEnthalpyApproximation</A>
</TD><TD>Approximate calculation of h_is from upstream properties, downstream pressure, gas part only</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.densityS.png" ALT="Modelica.Media.Air.MoistAir.specificInternalEnergy" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.specificInternalEnergy"
>specificInternalEnergy</A>
</TD><TD>Return specific internal energy of moist air as a function of the thermodynamic state record</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.specificInternalEnergy_pTXS.png" ALT="Modelica.Media.Air.MoistAir.specificInternalEnergy_pTX" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.specificInternalEnergy_pTX"
>specificInternalEnergy_pTX</A>
</TD><TD>Return specific internal energy of moist air as a function of pressure p, temperature T and composition X</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.specificInternalEnergy_pTXS.png" ALT="Modelica.Media.Air.MoistAir.specificInternalEnergy_pTX_der" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.specificInternalEnergy_pTX_der"
>specificInternalEnergy_pTX_der</A>
</TD><TD>Derivative function for specificInternalEnergy_pTX</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.specificEntropyS.png" ALT="Modelica.Media.Air.MoistAir.specificEntropy" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.specificEntropy"
>specificEntropy</A>
</TD><TD>Return specific entropy from thermodynamic state record, only valid for phi&lt;1</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.specificEntropyS.png" ALT="Modelica.Media.Air.MoistAir.specificGibbsEnergy" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.specificGibbsEnergy"
>specificGibbsEnergy</A>
</TD><TD>Return specific Gibbs energy as a function of the thermodynamic state record, only valid for phi&lt;1</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.specificEntropyS.png" ALT="Modelica.Media.Air.MoistAir.specificHelmholtzEnergy" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.specificHelmholtzEnergy"
>specificHelmholtzEnergy</A>
</TD><TD>Return specific Helmholtz energy as a function of the thermodynamic state record, only valid for phi&lt;1</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.specificEntropyS.png" ALT="Modelica.Media.Air.MoistAir.specificHeatCapacityCp" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.specificHeatCapacityCp"
>specificHeatCapacityCp</A>
</TD><TD>Return specific heat capacity at constant pressure as a function of the thermodynamic state record</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.specificEntropyS.png" ALT="Modelica.Media.Air.MoistAir.specificHeatCapacityCv" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.specificHeatCapacityCv"
>specificHeatCapacityCv</A>
</TD><TD>Return specific heat capacity at constant volume as a function of the thermodynamic state record</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.specificEntropyS.png" ALT="Modelica.Media.Air.MoistAir.dynamicViscosity" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.dynamicViscosity"
>dynamicViscosity</A>
</TD><TD>Return dynamic viscosity as a function of the thermodynamic state record, valid from 73.15 K to 373.15 K</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.specificEntropyS.png" ALT="Modelica.Media.Air.MoistAir.thermalConductivity" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.thermalConductivity"
>thermalConductivity</A>
</TD><TD>Return thermal conductivity as a function of the thermodynamic state record, valid from 73.15 K to 373.15 K</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.UtilitiesS.png" ALT="Modelica.Media.Air.MoistAir.Utilities" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir_Utilities.html#Modelica.Media.Air.MoistAir.Utilities"
>Utilities</A>
</TD><TD>utility functions</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Air.MoistAir.PsychrometricDataS.png" ALT="Modelica.Media.Air.MoistAir.PsychrometricData" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.PsychrometricData"
>PsychrometricData</A>
</TD><TD>Produces plot data for psychrometric charts</TD></TR>
<TR><TH COLSPAN="2">Inherited</TH></TR>
<TR><TD><IMG SRC="Modelica.Media.Interfaces.PartialMixtureMedium.ThermodynamicStateS.png" ALT="Modelica.Media.Interfaces.PartialMixtureMedium.FluidConstants" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Interfaces_PartialMixtureMedium.html#Modelica.Media.Interfaces.PartialMixtureMedium.FluidConstants"
>FluidConstants</A>
</TD><TD>extended fluid constants</TD></TR>
<TR><TD>fluidConstants</TD><TD>constant data for the fluid</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Interfaces.PartialMixtureMedium.gasConstantS.png" ALT="Modelica.Media.Interfaces.PartialMixtureMedium.moleToMassFractions" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Interfaces_PartialMixtureMedium.html#Modelica.Media.Interfaces.PartialMixtureMedium.moleToMassFractions"
>moleToMassFractions</A>
</TD><TD>Return mass fractions X from mole fractions</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Interfaces.PartialMixtureMedium.gasConstantS.png" ALT="Modelica.Media.Interfaces.PartialMixtureMedium.massToMoleFractions" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Interfaces_PartialMixtureMedium.html#Modelica.Media.Interfaces.PartialMixtureMedium.massToMoleFractions"
>massToMoleFractions</A>
</TD><TD>Return mole fractions from mass fractions X</TD></TR>
<TR><TD>ThermoStates</TD><TD>Enumeration type for independent variables</TD></TR>
<TR><TD>mediumName=&quot;unusablePartialMedium&quot;</TD><TD>Name of the medium</TD></TR>
<TR><TD>substanceNames={mediumName}</TD><TD>Names of the mixture substances. Set substanceNames={mediumName} if only one substance.</TD></TR>
<TR><TD>extraPropertiesNames=fill(&quot;&quot;, 0)</TD><TD>Names of the additional (extra) transported properties. Set extraPropertiesNames=fill(&quot;&quot;,0) if unused</TD></TR>
<TR><TD>singleState</TD><TD>= true, if u and d are not a function of pressure</TD></TR>
<TR><TD>reducedX=true</TD><TD>= true if medium contains the equation sum(X) = 1.0; set reducedX=true if only one substance (see docu for details)</TD></TR>
<TR><TD>fixedX=false</TD><TD>= true if medium contains the equation X = reference_X</TD></TR>
<TR><TD>reference_p=101325</TD><TD>Reference pressure of Medium: default 1 atmosphere</TD></TR>
<TR><TD>reference_T=298.15</TD><TD>Reference temperature of Medium: default 25 deg Celsius</TD></TR>
<TR><TD>reference_X=fill(1/nX, nX)</TD><TD>Default mass fractions of medium</TD></TR>
<TR><TD>p_default=101325</TD><TD>Default value for pressure of medium (for initialization)</TD></TR>
<TR><TD>T_default=Modelica.SIunits.Conversions.from_degC(20)</TD><TD>Default value for temperature of medium (for initialization)</TD></TR>
<TR><TD>h_default=specificEnthalpy_pTX(p_default, T_default, X_default)</TD><TD>Default value for specific enthalpy of medium (for initialization)</TD></TR>
<TR><TD>X_default=reference_X</TD><TD>Default value for mass fractions of medium (for initialization)</TD></TR>
<TR><TD>nS=size(substanceNames, 1)</TD><TD>Number of substances</TD></TR>
<TR><TD>nX=nS</TD><TD>Number of mass fractions</TD></TR>
<TR><TD>nXi=if fixedX then 0 else if reducedX then nS - 1 else nS</TD><TD>Number of structurally independent mass fractions (see docu for details)</TD></TR>
<TR><TD>nC=size(extraPropertiesNames, 1)</TD><TD>Number of extra (outside of standard mass-balance) transported properties</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Interfaces.PartialMedium.setState_pTXS.png" ALT="Modelica.Media.Interfaces.PartialMedium.setState_psX" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.setState_psX"
>setState_psX</A>
</TD><TD>Return thermodynamic state as function of p, s and composition X or Xi</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Interfaces.PartialSimpleIdealGasMedium.setState_pTXS.png" ALT="Modelica.Media.Interfaces.PartialMedium.prandtlNumber" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.prandtlNumber"
>prandtlNumber</A>
</TD><TD>Return the Prandtl number</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Interfaces.PartialMedium.prandtlNumberS.png" ALT="Modelica.Media.Interfaces.PartialMedium.heatCapacity_cp" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.heatCapacity_cp"
>heatCapacity_cp</A>
</TD><TD>alias for deprecated name</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Interfaces.PartialMedium.prandtlNumberS.png" ALT="Modelica.Media.Interfaces.PartialMedium.heatCapacity_cv" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.heatCapacity_cv"
>heatCapacity_cv</A>
</TD><TD>alias for deprecated name</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Interfaces.PartialMedium.setState_pTXS.png" ALT="Modelica.Media.Interfaces.PartialMedium.isentropicEnthalpy" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.isentropicEnthalpy"
>isentropicEnthalpy</A>
</TD><TD>Return isentropic enthalpy</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Interfaces.PartialMedium.setState_pTXS.png" ALT="Modelica.Media.Interfaces.PartialMedium.velocityOfSound" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.velocityOfSound"
>velocityOfSound</A>
</TD><TD>Return velocity of sound</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Interfaces.PartialMedium.setState_pTXS.png" ALT="Modelica.Media.Interfaces.PartialMedium.isobaricExpansionCoefficient" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.isobaricExpansionCoefficient"
>isobaricExpansionCoefficient</A>
</TD><TD>Return overall the isobaric expansion coefficient beta</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Interfaces.PartialMedium.prandtlNumberS.png" ALT="Modelica.Media.Interfaces.PartialMedium.beta" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.beta"
>beta</A>
</TD><TD>alias for isobaricExpansionCoefficient for user convenience</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Interfaces.PartialMedium.setState_pTXS.png" ALT="Modelica.Media.Interfaces.PartialMedium.isothermalCompressibility" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.isothermalCompressibility"
>isothermalCompressibility</A>
</TD><TD>Return overall the isothermal compressibility factor</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Interfaces.PartialMedium.prandtlNumberS.png" ALT="Modelica.Media.Interfaces.PartialMedium.kappa" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.kappa"
>kappa</A>
</TD><TD>alias of isothermalCompressibility for user convenience</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Interfaces.PartialMedium.setState_pTXS.png" ALT="Modelica.Media.Interfaces.PartialMedium.density_derp_h" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.density_derp_h"
>density_derp_h</A>
</TD><TD>Return density derivative wrt pressure at const specific enthalpy</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Interfaces.PartialMedium.setState_pTXS.png" ALT="Modelica.Media.Interfaces.PartialMedium.density_derh_p" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.density_derh_p"
>density_derh_p</A>
</TD><TD>Return density derivative wrt specific enthalpy at constant pressure</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Interfaces.PartialMedium.prandtlNumberS.png" ALT="Modelica.Media.Interfaces.PartialMedium.density_derp_T" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.density_derp_T"
>density_derp_T</A>
</TD><TD>Return density derivative wrt pressure at const temperature</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Interfaces.PartialMedium.prandtlNumberS.png" ALT="Modelica.Media.Interfaces.PartialMedium.density_derT_p" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.density_derT_p"
>density_derT_p</A>
</TD><TD>Return density derivative wrt temperature at constant pressure</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Interfaces.PartialMedium.prandtlNumberS.png" ALT="Modelica.Media.Interfaces.PartialMedium.density_derX" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.density_derX"
>density_derX</A>
</TD><TD>Return density derivative wrt mass fraction</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Interfaces.PartialMedium.setState_pTXS.png" ALT="Modelica.Media.Interfaces.PartialMedium.molarMass" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.molarMass"
>molarMass</A>
</TD><TD>Return the molar mass of the medium</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Interfaces.PartialMedium.setState_pTXS.png" ALT="Modelica.Media.Interfaces.PartialMedium.specificEnthalpy_pTX" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.specificEnthalpy_pTX"
>specificEnthalpy_pTX</A>
</TD><TD>Return specific enthalpy from p, T, and X or Xi</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Interfaces.PartialMedium.prandtlNumberS.png" ALT="Modelica.Media.Interfaces.PartialMedium.density_pTX" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.density_pTX"
>density_pTX</A>
</TD><TD>Return density from p, T, and X or Xi</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Interfaces.PartialMedium.setState_pTXS.png" ALT="Modelica.Media.Interfaces.PartialMedium.temperature_phX" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.temperature_phX"
>temperature_phX</A>
</TD><TD>Return temperature from p, h, and X or Xi</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Interfaces.PartialMedium.setState_pTXS.png" ALT="Modelica.Media.Interfaces.PartialMedium.density_phX" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.density_phX"
>density_phX</A>
</TD><TD>Return density from p, h, and X or Xi</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Interfaces.PartialMedium.setState_pTXS.png" ALT="Modelica.Media.Interfaces.PartialMedium.temperature_psX" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.temperature_psX"
>temperature_psX</A>
</TD><TD>Return temperature from p,s, and X or Xi</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Interfaces.PartialMedium.setState_pTXS.png" ALT="Modelica.Media.Interfaces.PartialMedium.density_psX" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.density_psX"
>density_psX</A>
</TD><TD>Return density from p, s, and X or Xi</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Interfaces.PartialMedium.setState_pTXS.png" ALT="Modelica.Media.Interfaces.PartialMedium.specificEnthalpy_psX" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.specificEnthalpy_psX"
>specificEnthalpy_psX</A>
</TD><TD>Return specific enthalpy from p, s, and X or Xi</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.AbsolutePressure"
>AbsolutePressure</A>
</TD><TD>Type for absolute pressure with medium specific attributes</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.Density"
>Density</A>
</TD><TD>Type for density with medium specific attributes</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.DynamicViscosity"
>DynamicViscosity</A>
</TD><TD>Type for dynamic viscosity with medium specific attributes</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.EnthalpyFlowRate"
>EnthalpyFlowRate</A>
</TD><TD>Type for enthalpy flow rate with medium specific attributes</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</A>
</TD><TD>Type for mass flow rate with medium specific attributes</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFraction"
>MassFraction</A>
</TD><TD>Type for mass fraction with medium specific attributes</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MoleFraction"
>MoleFraction</A>
</TD><TD>Type for mole fraction with medium specific attributes</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MolarMass"
>MolarMass</A>
</TD><TD>Type for molar mass with medium specific attributes</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MolarVolume"
>MolarVolume</A>
</TD><TD>Type for molar volume with medium specific attributes</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.IsentropicExponent"
>IsentropicExponent</A>
</TD><TD>Type for isentropic exponent with medium specific attributes</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.SpecificEnergy"
>SpecificEnergy</A>
</TD><TD>Type for specific energy with medium specific attributes</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.SpecificInternalEnergy"
>SpecificInternalEnergy</A>
</TD><TD>Type for specific internal energy with medium specific attributes</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.SpecificEnthalpy"
>SpecificEnthalpy</A>
</TD><TD>Type for specific enthalpy with medium specific attributes</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.SpecificEntropy"
>SpecificEntropy</A>
</TD><TD>Type for specific entropy with medium specific attributes</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.SpecificHeatCapacity"
>SpecificHeatCapacity</A>
</TD><TD>Type for specific heat capacity with medium specific attributes</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.SurfaceTension"
>SurfaceTension</A>
</TD><TD>Type for surface tension with medium specific attributes</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.Temperature"
>Temperature</A>
</TD><TD>Type for temperature with medium specific attributes</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ThermalConductivity"
>ThermalConductivity</A>
</TD><TD>Type for thermal conductivity with medium specific attributes</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.PrandtlNumber"
>PrandtlNumber</A>
</TD><TD>Type for Prandtl number with medium specific attributes</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.VelocityOfSound"
>VelocityOfSound</A>
</TD><TD>Type for velocity of sound with medium specific attributes</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ExtraProperty"
>ExtraProperty</A>
</TD><TD>Type for unspecified, mass-specific property transported by flow</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.CumulativeExtraProperty"
>CumulativeExtraProperty</A>
</TD><TD>Type for conserved integral of unspecified, mass specific property</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ExtraPropertyFlowRate"
>ExtraPropertyFlowRate</A>
</TD><TD>Type for flow rate of unspecified, mass-specific property</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.IsobaricExpansionCoefficient"
>IsobaricExpansionCoefficient</A>
</TD><TD>Type for isobaric expansion coefficient with medium specific attributes</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.DipoleMoment"
>DipoleMoment</A>
</TD><TD>Type for dipole moment with medium specific attributes</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.DerDensityByPressure"
>DerDensityByPressure</A>
</TD><TD>Type for partial derivative of density with resect to pressure with medium specific attributes</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.DerDensityByEnthalpy"
>DerDensityByEnthalpy</A>
</TD><TD>Type for partial derivative of density with resect to enthalpy with medium specific attributes</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.DerEnthalpyByPressure"
>DerEnthalpyByPressure</A>
</TD><TD>Type for partial derivative of enthalpy with resect to pressure with medium specific attributes</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.DerDensityByTemperature"
>DerDensityByTemperature</A>
</TD><TD>Type for partial derivative of density with resect to temperature with medium specific attributes</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Interfaces.PartialMedium.ChoicesS.png" ALT="Modelica.Media.Interfaces.PartialMedium.Choices" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Interfaces_PartialMedium_Choices.html#Modelica.Media.Interfaces.PartialMedium.Choices"
>Choices</A>
</TD><TD>Types, constants to define menu choices</TD></TR>
</TABLE>
<P><H3>Types and constants</H3>
<PRE>  <font color="blue">constant </font>Integer Water=1 <font color="darkgreen">
  &quot;Index of water (in substanceNames, massFractions X, etc.)&quot;</font>;</PRE><p>
<PRE>  <font color="blue">constant </font>Integer Air=2 <font color="darkgreen">
  &quot;Index of air (in substanceNames, massFractions X, etc.)&quot;</font>;</PRE><p>
<PRE>  <font color="blue">constant </font>Real k_mair =  steam.MM/dryair.MM <font color="darkgreen">&quot;ratio of molar weights&quot;</font>;</PRE><p>
<PRE>  <font color="blue">constant </font><A HREF="Modelica_Media_IdealGases_Common.html#Modelica.Media.IdealGases.Common.DataRecord"
>IdealGases.Common.DataRecord</A> dryair = IdealGases.Common.SingleGasesData.Air;</PRE><p>
<PRE>  <font color="blue">constant </font><A HREF="Modelica_Media_IdealGases_Common.html#Modelica.Media.IdealGases.Common.DataRecord"
>IdealGases.Common.DataRecord</A> steam = IdealGases.Common.SingleGasesData.H2O;</PRE><p>
<PRE>  <font color="blue">constant </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.MolarMass"
>SI.MolarMass</A>[2] MMX = {steam.MM,dryair.MM} <font color="darkgreen">
  &quot;Molar masses of components&quot;</font>;</PRE><p>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE ThermodynamicState<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Air.MoistAir.ThermodynamicStateI.png" ALT="Modelica.Media.Air.MoistAir.ThermodynamicState" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Air.MoistAir.ThermodynamicState"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.ThermodynamicState</H2>
<B>ThermodynamicState record for moist air</B><p>
<P><H3>Information</H3></P>
Extends from <A HREF="Modelica_Media_Interfaces_PartialMixtureMedium.html#Modelica.Media.Interfaces.PartialMixtureMedium.ThermodynamicState"
></A> (thermodynamic state variables).
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">redeclare </font><font color="blue">record</font> <font color="blue">extends </font>ThermodynamicState <font color="darkgreen">
  &quot;ThermodynamicState record for moist air&quot;</font>
<font color="blue">end </font>ThermodynamicState;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE BaseProperties<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Air.MoistAir.BasePropertiesI.png" ALT="Modelica.Media.Air.MoistAir.BaseProperties" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Air.MoistAir.BaseProperties"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.BaseProperties</H2>
<B>Moist air base properties record</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
This model computes thermodynamic properties of moist air from three independent (thermodynamic or/and numerical) state variables. Preferred numerical states are temperature T, pressure p and the reduced composition vector Xi, which contains the water mass fraction only. As an EOS the <b>ideal gas law</b> is used and associated restrictions apply. The model can also be used in the <b>fog region</b>, when moisture is present in its liquid state. However, it is assumed that the liquid water volume is negligible compared to that of the gas phase. Computation of thermal properties is based on property data of <a href=Modelica://Modelica.Media.Air.DryAirNasa> dry air</a> and water (source: VDI-W&auml;rmeatlas), respectively. Besides the standard thermodynamic variables <b>absolute and relative humidity</b>, x_water and phi, respectively, are given by the model. Upper case X denotes absolute humidity with respect to mass of moist air while absolute humidity with respect to mass of dry air only is denoted by a lower case x throughout the model. See <a href=Modelica://Modelica.Media.Air.MoistAir>package description</a> for further information.
<pre></PRE><P>
Extends from <A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.BaseProperties"
></A> (Base properties (p, d, T, h, u, R, MM and, if applicable, X and Xi) of a medium).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR bgcolor="#c0c0c0"><TD colspan=4><B>Advanced</B></TD></TR>
<TR><TD>Boolean</TD><TD>preferredMediumStates</TD><TD>false</TD><TD>= true if StateSelect.prefer shall be used for the independent property variables of the medium</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">redeclare </font><font color="blue">replaceable </font><font color="blue">model</font> <font color="blue">extends </font>BaseProperties(
  T(stateSelect=<font color="blue">if </font>preferredMediumStates<font color="blue"> then </font>StateSelect.prefer<font color="blue"> else </font>StateSelect.default),
  p(stateSelect=<font color="blue">if </font>preferredMediumStates<font color="blue"> then </font>StateSelect.prefer<font color="blue"> else </font>StateSelect.default),
  Xi(stateSelect=<font color="blue">if </font>preferredMediumStates<font color="blue"> then </font>StateSelect.prefer<font color="blue"> else </font>StateSelect.default),
  <font color="blue">redeclare </font><font color="blue">final </font><font color="blue">constant </font>Boolean standardOrderComponents=true) <font color="darkgreen">
  &quot;Moist air base properties record&quot;</font>

  <font color="darkgreen">/* p, T, X = X[Water] are used as preferred states, since only then all
     other quantities can be computed in a recursive sequence.
     If other variables are selected as states, static state selection
     is no longer possible and non-linear algebraic equations occur.
      */</font>
  <A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFraction"
>MassFraction</A> x_water <font color="darkgreen">&quot;Mass of total water/mass of dry air&quot;</font>;
  Real phi <font color="darkgreen">&quot;Relative humidity&quot;</font>;

<font color="blue">protected </font>
  <A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFraction"
>MassFraction</A> X_liquid <font color="darkgreen">&quot;Mass fraction of liquid or solid water&quot;</font>;
  <A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFraction"
>MassFraction</A> X_steam <font color="darkgreen">&quot;Mass fraction of steam water&quot;</font>;
  <A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFraction"
>MassFraction</A> X_air <font color="darkgreen">&quot;Mass fraction of air&quot;</font>;
  <A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFraction"
>MassFraction</A> X_sat <font color="darkgreen">
    &quot;Steam water mass fraction of saturation boundary in kg_water/kg_moistair&quot;</font>;
  <A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFraction"
>MassFraction</A> x_sat <font color="darkgreen">
    &quot;Steam water mass content of saturation boundary in kg_water/kg_dryair&quot;</font>;
  <A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.AbsolutePressure"
>AbsolutePressure</A> p_steam_sat <font color="darkgreen">&quot;Partial saturation pressure of steam&quot;</font>;
<font color="blue">equation </font>
  <font color="red">assert</font>(T &gt;= 200.0<font color="blue"> and </font>T &lt;= 423.15, &quot;
Temperature T is not in the allowed range
200.0 K &lt;= (T =&quot;
             +<font color="red"> String</font>(T) + &quot; K) &lt;= 423.15 K
required from medium model \&quot;&quot;   + mediumName + &quot;\&quot;.&quot;);
  MM = 1/(Xi[Water]/MMX[Water]+(1.0-Xi[Water])/MMX[Air]);

  p_steam_sat =<font color="red"> min</font>(<font color="red">saturationPressure</font>(T),0.999*p);
  X_sat =<font color="red"> min</font>(p_steam_sat * k_mair/<font color="red">max</font>(100*Constants.eps, p - p_steam_sat)*(1 - Xi[Water]), 1.0) <font color="darkgreen">
    &quot;Water content at saturation with respect to actual water content&quot;</font>;
  X_liquid =<font color="red"> max</font>(Xi[Water] - X_sat, 0.0);
  X_steam  = Xi[Water]-X_liquid;
  X_air    = 1-Xi[Water];

  h =<font color="red"> specificEnthalpy_pTX</font>(p,T,Xi);
  R = dryair.R*(X_air/(1 - X_liquid)) + steam.R*X_steam/(1 - X_liquid);
  <font color="darkgreen">//</font>
  u = h - R*T;
  d = p/(R*T);
  <font color="darkgreen">/* Note, u and d are computed under the assumption that the volume of the liquid
         water is neglible with respect to the volume of air and of steam
      */</font>
  state.p = p;
  state.T = T;
  state.X = X;

  <font color="darkgreen">// these x are per unit mass of DRY air!</font>
  x_sat    = k_mair*p_steam_sat/<font color="red">max</font>(100*Constants.eps,p - p_steam_sat);
  x_water = Xi[Water]/<font color="red">max</font>(X_air,100*Constants.eps);
  phi = p/p_steam_sat*Xi[Water]/(Xi[Water] + k_mair*X_air);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>BaseProperties;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE setState_pTX<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Air.MoistAir.setState_pTXI.png" ALT="Modelica.Media.Air.MoistAir.setState_pTX" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Air.MoistAir.setState_pTX"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.setState_pTX</H2>
<B>Return thermodynamic state as function of pressure p, temperature T and composition X</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
The <a href=Modelica://Modelica.Media.Air.MoistAir.ThermodynamicState>thermodynamic state record</a> is computed from pressure p, temperature T and composition X.
<pre></PRE><P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A> (Icon for a function).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.AbsolutePressure"
>AbsolutePressure</A></TD><TD>p</TD><TD>&nbsp;</TD><TD>Pressure [Pa]</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.Temperature"
>Temperature</A></TD><TD>T</TD><TD>&nbsp;</TD><TD>Temperature [K]</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFraction"
>MassFraction</A></TD><TD>X[:]</TD><TD>reference_X</TD><TD>Mass fractions [kg/kg]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.ThermodynamicState"
>ThermodynamicState</A></TD><TD>state</TD><TD>Thermodynamic state</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">redeclare </font><font color="blue">function</font> setState_pTX <font color="darkgreen">
  &quot;Return thermodynamic state as function of pressure p, temperature T and composition X&quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
  <font color="blue">input </font><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.AbsolutePressure"
>AbsolutePressure</A> p <font color="darkgreen">&quot;Pressure&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.Temperature"
>Temperature</A> T <font color="darkgreen">&quot;Temperature&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFraction"
>MassFraction</A> X[:]=reference_X <font color="darkgreen">&quot;Mass fractions&quot;</font>;
  <font color="blue">output </font><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.ThermodynamicState"
>ThermodynamicState</A> state <font color="darkgreen">&quot;Thermodynamic state&quot;</font>;
<font color="blue">algorithm </font>
  state := <font color="blue">if </font><font color="red">size</font>(X,1) == nX<font color="blue"> then </font><font color="red">ThermodynamicState</font>(p=p,T=T, X=X)<font color="blue"> else </font>
         <font color="red">ThermodynamicState</font>(p=p,T=T, X=<font color="red">cat</font>(1,X,{1-<font color="red">sum</font>(X)}));
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>setState_pTX;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE setState_phX<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Air.MoistAir.setState_pTXI.png" ALT="Modelica.Media.Air.MoistAir.setState_phX" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Air.MoistAir.setState_phX"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.setState_phX</H2>
<B>Return thermodynamic state as function of pressure p, specific enthalpy h and composition X</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
The <a href=Modelica://Modelica.Media.Air.MoistAir.ThermodynamicState>thermodynamic state record</a> is computed from pressure p, specific enthalpy h and composition X.
<pre></PRE><P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A> (Icon for a function).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.AbsolutePressure"
>AbsolutePressure</A></TD><TD>p</TD><TD>&nbsp;</TD><TD>Pressure [Pa]</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.SpecificEnthalpy"
>SpecificEnthalpy</A></TD><TD>h</TD><TD>&nbsp;</TD><TD>Specific enthalpy [J/kg]</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFraction"
>MassFraction</A></TD><TD>X[:]</TD><TD>reference_X</TD><TD>Mass fractions [kg/kg]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.ThermodynamicState"
>ThermodynamicState</A></TD><TD>state</TD><TD>Thermodynamic state</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">redeclare </font><font color="blue">function</font> setState_phX <font color="darkgreen">
  &quot;Return thermodynamic state as function of pressure p, specific enthalpy h and composition X&quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
  <font color="blue">input </font><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.AbsolutePressure"
>AbsolutePressure</A> p <font color="darkgreen">&quot;Pressure&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.SpecificEnthalpy"
>SpecificEnthalpy</A> h <font color="darkgreen">&quot;Specific enthalpy&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFraction"
>MassFraction</A> X[:]=reference_X <font color="darkgreen">&quot;Mass fractions&quot;</font>;
  <font color="blue">output </font><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.ThermodynamicState"
>ThermodynamicState</A> state <font color="darkgreen">&quot;Thermodynamic state&quot;</font>;
<font color="blue">algorithm </font>
  state := <font color="blue">if </font><font color="red">size</font>(X,1) == nX<font color="blue"> then </font><font color="red">ThermodynamicState</font>(p=p,T=<font color="red">T_phX</font>(p,h,X),X=X)<font color="blue"> else </font>
         <font color="red">ThermodynamicState</font>(p=p,T=<font color="red">T_phX</font>(p,h,X), X=<font color="red">cat</font>(1,X,{1-<font color="red">sum</font>(X)}));
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>setState_phX;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE setState_dTX<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Air.MoistAir.setState_pTXI.png" ALT="Modelica.Media.Air.MoistAir.setState_dTX" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Air.MoistAir.setState_dTX"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.setState_dTX</H2>
<B>Return thermodynamic state as function of density d, temperature T and composition X</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
The <a href=Modelica://Modelica.Media.Air.MoistAir.ThermodynamicState>thermodynamic state record</a> is computed from density d, temperature T and composition X.
<pre></PRE><P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A> (Icon for a function).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.Density"
>Density</A></TD><TD>d</TD><TD>&nbsp;</TD><TD>density [kg/m3]</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.Temperature"
>Temperature</A></TD><TD>T</TD><TD>&nbsp;</TD><TD>Temperature [K]</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFraction"
>MassFraction</A></TD><TD>X[:]</TD><TD>reference_X</TD><TD>Mass fractions [kg/kg]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.ThermodynamicState"
>ThermodynamicState</A></TD><TD>state</TD><TD>Thermodynamic state</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">redeclare </font><font color="blue">function</font> setState_dTX <font color="darkgreen">
  &quot;Return thermodynamic state as function of density d, temperature T and composition X&quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
  <font color="blue">input </font><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.Density"
>Density</A> d <font color="darkgreen">&quot;density&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.Temperature"
>Temperature</A> T <font color="darkgreen">&quot;Temperature&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFraction"
>MassFraction</A> X[:]=reference_X <font color="darkgreen">&quot;Mass fractions&quot;</font>;
  <font color="blue">output </font><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.ThermodynamicState"
>ThermodynamicState</A> state <font color="darkgreen">&quot;Thermodynamic state&quot;</font>;
<font color="blue">algorithm </font>
  state := <font color="blue">if </font><font color="red">size</font>(X,1) == nX<font color="blue"> then </font><font color="red">ThermodynamicState</font>(p=d*({steam.R,dryair.R}*X)*T,T=T,X=X)<font color="blue"> else </font>
         <font color="red">ThermodynamicState</font>(p=d*({steam.R,dryair.R}*<font color="red">cat</font>(1,X,{1-<font color="red">sum</font>(X)}))*T,T=T, X=<font color="red">cat</font>(1,X,{1-<font color="red">sum</font>(X)}));
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>setState_dTX;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE setSmoothState<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Air.MoistAir.setState_pTXI.png" ALT="Modelica.Media.Air.MoistAir.setSmoothState" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Air.MoistAir.setSmoothState"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.setSmoothState</H2>
<B>Return thermodynamic state so that it smoothly approximates: if x &gt; 0 then state_a else state_b</B><p>
<P><H3>Information</H3></P>
Extends from <A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.setSmoothState"
></A> (Return thermodynamic state so that it smoothly approximates: if x &gt; 0 then state_a else state_b).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>x</TD><TD>&nbsp;</TD><TD>m_flow or dp</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ThermodynamicState"
>ThermodynamicState</A></TD><TD>state_a</TD><TD>&nbsp;</TD><TD>Thermodynamic state if x &gt; 0</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ThermodynamicState"
>ThermodynamicState</A></TD><TD>state_b</TD><TD>&nbsp;</TD><TD>Thermodynamic state if x &lt; 0</TD></TR>
<TR><TD>Real</TD><TD>x_small</TD><TD>&nbsp;</TD><TD>Smooth transition in the region -x_small &lt; x &lt; x_small</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ThermodynamicState"
>ThermodynamicState</A></TD><TD>state</TD><TD>Smooth thermodynamic state for all x (continuous and differentiable)</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">redeclare </font><font color="blue">function</font> <font color="blue">extends </font>setSmoothState <font color="darkgreen">
  &quot;Return thermodynamic state so that it smoothly approximates: if x &gt; 0 then state_a else state_b&quot;</font>
<font color="blue">algorithm </font>
  state :=<font color="red"> ThermodynamicState</font>(p=<font color="red">Media.Common.smoothStep</font>(x, state_a.p, state_b.p, x_small),
                              T=<font color="red">Media.Common.smoothStep</font>(x, state_a.T, state_b.T, x_small),
                              X=<font color="red">Media.Common.smoothStep</font>(x, state_a.X, state_b.X, x_small));
<font color="blue">end </font>setSmoothState;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Xsaturation<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Media.Air.MoistAir.Xsaturation"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.Xsaturation</H2>
<B>Return absolute humitity per unit mass of moist air at saturation as a function of the thermodynamic state record</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
Absolute humidity per unit mass of moist air at saturation is computed from pressure and temperature in the state record. Note, that unlike X_sat in the BaseProperties model this mass fraction refers to mass of moist air at saturation.
<pre></PRE><P>

<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.ThermodynamicState"
>ThermodynamicState</A></TD><TD>state</TD><TD>&nbsp;</TD><TD>Thermodynamic state record</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFraction"
>MassFraction</A></TD><TD>X_sat</TD><TD>Steam mass fraction of sat. boundary [kg/kg]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> Xsaturation <font color="darkgreen">
  &quot;Return absolute humitity per unit mass of moist air at saturation as a function of the thermodynamic state record&quot;</font>
  <font color="blue">input </font><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.ThermodynamicState"
>ThermodynamicState</A> state <font color="darkgreen">&quot;Thermodynamic state record&quot;</font>;
  <font color="blue">output </font><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFraction"
>MassFraction</A> X_sat <font color="darkgreen">&quot;Steam mass fraction of sat. boundary&quot;</font>;
<font color="blue">algorithm </font>
  X_sat := k_mair/(state.p/<font color="red">min</font>(<font color="red">saturationPressure</font>(state.T),0.999*state.p) - 1 + k_mair);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>Xsaturation;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE xsaturation<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Media.Air.MoistAir.xsaturation"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.xsaturation</H2>
<B>Return absolute humitity per unit mass of dry air at saturation as a function of the thermodynamic state record</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
Absolute humidity per unit mass of dry air at saturation is computed from pressure and temperature in the thermodynamic state record.
<pre></PRE><P>

<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.ThermodynamicState"
>ThermodynamicState</A></TD><TD>state</TD><TD>&nbsp;</TD><TD>Thermodynamic state record</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFraction"
>MassFraction</A></TD><TD>x_sat</TD><TD>Absolute humidity per unit mass of dry air [kg/kg]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> xsaturation <font color="darkgreen">
  &quot;Return absolute humitity per unit mass of dry air at saturation as a function of the thermodynamic state record&quot;</font>
  <font color="blue">input </font><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.ThermodynamicState"
>ThermodynamicState</A> state <font color="darkgreen">&quot;Thermodynamic state record&quot;</font>;
  <font color="blue">output </font><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFraction"
>MassFraction</A> x_sat <font color="darkgreen">&quot;Absolute humidity per unit mass of dry air&quot;</font>;
<font color="blue">algorithm </font>
  x_sat:=k_mair*<font color="red">saturationPressure</font>(state.T)/<font color="red">max</font>(100*Constants.eps,state.p -<font color="red"> saturationPressure</font>(state.T));
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>xsaturation;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE xsaturation_pT<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Media.Air.MoistAir.xsaturation_pT"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.xsaturation_pT</H2>
<B>Return absolute humitity per unit mass of dry air at saturation as a function of pressure p and temperature T</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
Absolute humidity per unit mass of dry air at saturation is computed from pressure and temperature.
<pre></PRE><P>

<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.AbsolutePressure"
>AbsolutePressure</A></TD><TD>p</TD><TD>&nbsp;</TD><TD>Pressure [Pa]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T</TD><TD>&nbsp;</TD><TD>Temperature [K]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFraction"
>MassFraction</A></TD><TD>x_sat</TD><TD>Absolute humidity per unit mass of dry air [kg/kg]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> xsaturation_pT <font color="darkgreen">
  &quot;Return absolute humitity per unit mass of dry air at saturation as a function of pressure p and temperature T&quot;</font>
  <font color="blue">input </font><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.AbsolutePressure"
>AbsolutePressure</A> p <font color="darkgreen">&quot;Pressure&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>SI.Temperature</A> T <font color="darkgreen">&quot;Temperature&quot;</font>;
  <font color="blue">output </font><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFraction"
>MassFraction</A> x_sat <font color="darkgreen">&quot;Absolute humidity per unit mass of dry air&quot;</font>;
<font color="blue">algorithm </font>
  x_sat:=k_mair*<font color="red">saturationPressure</font>(T)/<font color="red">max</font>(100*Constants.eps,p -<font color="red"> saturationPressure</font>(T));
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>xsaturation_pT;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE massFraction_pTphi<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Media.Air.MoistAir.massFraction_pTphi"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.massFraction_pTphi</H2>
<B>Return steam mass fraction as a function of relative humidity phi and temperature T</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
Absolute humidity per unit mass of moist air is computed from temperature, pressure and relative humidity.
<pre></PRE><P>

<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.AbsolutePressure"
>AbsolutePressure</A></TD><TD>p</TD><TD>&nbsp;</TD><TD>Pressure [Pa]</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.Temperature"
>Temperature</A></TD><TD>T</TD><TD>&nbsp;</TD><TD>Temperature [K]</TD></TR>
<TR><TD>Real</TD><TD>phi</TD><TD>&nbsp;</TD><TD>Relative humidity (0 ... 1.0)</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFraction"
>MassFraction</A></TD><TD>X_steam</TD><TD>Absolute humidity, steam mass fraction [kg/kg]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> massFraction_pTphi <font color="darkgreen">
  &quot;Return steam mass fraction as a function of relative humidity phi and temperature T&quot;</font>
  <font color="blue">input </font><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.AbsolutePressure"
>AbsolutePressure</A> p <font color="darkgreen">&quot;Pressure&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.Temperature"
>Temperature</A> T <font color="darkgreen">&quot;Temperature&quot;</font>;
  <font color="blue">input </font>Real phi <font color="darkgreen">&quot;Relative humidity (0 ... 1.0)&quot;</font>;
  <font color="blue">output </font><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFraction"
>MassFraction</A> X_steam <font color="darkgreen">&quot;Absolute humidity, steam mass fraction&quot;</font>;
<font color="blue">protected </font>
  <font color="blue">constant </font>Real k = 0.621964713077499 <font color="darkgreen">&quot;Ratio of molar masses&quot;</font>;
  <A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.AbsolutePressure"
>AbsolutePressure</A> psat =<font color="red"> saturationPressure</font>(T) <font color="darkgreen">&quot;Saturation pressure&quot;</font>;
<font color="blue">algorithm </font>
  X_steam := phi*k/(k*phi+p/psat-phi);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>massFraction_pTphi;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE relativeHumidity_pTX<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Media.Air.MoistAir.relativeHumidity_pTX"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.relativeHumidity_pTX</H2>
<B>Return relative humidity as a function of pressure p, temperature T and composition X</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
Relative humidity is computed from pressure, temperature and composition with 1.0 as the upper limit at saturation. Water mass fraction is the first entry in the composition vector.
<pre></PRE><P>

<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>p</TD><TD>&nbsp;</TD><TD>Pressure [Pa]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T</TD><TD>&nbsp;</TD><TD>Temperature [K]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>MassFraction</A></TD><TD>X[:]</TD><TD>&nbsp;</TD><TD>Composition [1]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>phi</TD><TD>Relative humidity</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> relativeHumidity_pTX <font color="darkgreen">
  &quot;Return relative humidity as a function of pressure p, temperature T and composition X&quot;</font>
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>SI.Pressure</A> p <font color="darkgreen">&quot;Pressure&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>SI.Temperature</A> T <font color="darkgreen">&quot;Temperature&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>SI.MassFraction</A>[:] X <font color="darkgreen">&quot;Composition&quot;</font>;
  <font color="blue">output </font>Real phi <font color="darkgreen">&quot;Relative humidity&quot;</font>;
<font color="blue">protected </font>
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>SI.Pressure</A> p_steam_sat <font color="darkgreen">&quot;Saturation pressure&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>SI.MassFraction</A> X_air <font color="darkgreen">&quot;Dry air mass fraction&quot;</font>;
<font color="blue">algorithm </font>
  p_steam_sat :=<font color="red">min</font>(<font color="red">saturationPressure</font>(T), 0.999*p);
  X_air    :=1 - X[Water];
  phi :=<font color="red">max</font>(0.0,<font color="red">min</font>(1.0, p/p_steam_sat*X[Water]/(X[Water] + k_mair*X_air)));
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>relativeHumidity_pTX;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE relativeHumidity<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Media.Air.MoistAir.relativeHumidity"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.relativeHumidity</H2>
<B>Return relative humidity as a function of the thermodynamic state record</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
Relative humidity is computed from the thermodynamic state record with 1.0 as the upper limit at saturation.
<pre></PRE><P>

<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.ThermodynamicState"
>ThermodynamicState</A></TD><TD>state</TD><TD>&nbsp;</TD><TD>Thermodynamic state</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>phi</TD><TD>Relative humidity</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> relativeHumidity <font color="darkgreen">
  &quot;Return relative humidity as a function of the thermodynamic state record&quot;</font>
  <font color="blue">input </font><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.ThermodynamicState"
>ThermodynamicState</A> state <font color="darkgreen">&quot;Thermodynamic state&quot;</font>;
  <font color="blue">output </font>Real phi <font color="darkgreen">&quot;Relative humidity&quot;</font>;
<font color="blue">algorithm </font>
  phi:=<font color="red">relativeHumidity_pTX</font>(state.p, state.T, state.X);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>relativeHumidity;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE gasConstant<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Air.MoistAir.gasConstantI.png" ALT="Modelica.Media.Air.MoistAir.gasConstant" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Air.MoistAir.gasConstant"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.gasConstant</H2>
<B>Return ideal gas constant as a function from thermodynamic state, only valid for phi&lt;1</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
The ideal gas constant for moist air is computed from <a href=Modelica://Modelica.Media.Air.MoistAir.ThermodynamicState>thermodynamic state</a> assuming that all water is in the gas phase.
<pre></PRE><P>
Extends from <A HREF="Modelica_Media_Interfaces_PartialMixtureMedium.html#Modelica.Media.Interfaces.PartialMixtureMedium.gasConstant"
></A> (Return the gas constant of the mixture (also for liquids)).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMixtureMedium.html#Modelica.Media.Interfaces.PartialMixtureMedium.ThermodynamicState"
>ThermodynamicState</A></TD><TD>state</TD><TD>&nbsp;</TD><TD>thermodynamic state</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificHeatCapacity"
>SpecificHeatCapacity</A></TD><TD>R</TD><TD>mixture gas constant [J/(kg.K)]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">redeclare </font><font color="blue">function</font> <font color="blue">extends </font>gasConstant <font color="darkgreen">
  &quot;Return ideal gas constant as a function from thermodynamic state, only valid for phi&lt;1&quot;</font>

<font color="blue">algorithm </font>
  R := dryair.R*(1-state.X[Water]) + steam.R*state.X[Water];
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>gasConstant;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE gasConstant_X<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Media.Air.MoistAir.gasConstant_X"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.gasConstant_X</H2>
<B>Return ideal gas constant as a function from composition X</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
The ideal gas constant for moist air is computed from the gas phase composition. The first entry in composition vector X is the steam mass fraction of the gas phase.
<pre></PRE><P>

<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>MassFraction</A></TD><TD>X[:]</TD><TD>&nbsp;</TD><TD>Gas phase composition [1]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificHeatCapacity"
>SpecificHeatCapacity</A></TD><TD>R</TD><TD>Ideal gas constant [J/(kg.K)]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> gasConstant_X <font color="darkgreen">
  &quot;Return ideal gas constant as a function from composition X&quot;</font>
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>SI.MassFraction</A> X[:] <font color="darkgreen">&quot;Gas phase composition&quot;</font>;
  <font color="blue">output </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificHeatCapacity"
>SI.SpecificHeatCapacity</A> R <font color="darkgreen">&quot;Ideal gas constant&quot;</font>;
<font color="blue">algorithm </font>
  R := dryair.R*(1-X[Water]) + steam.R*X[Water];
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>gasConstant_X;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE saturationPressureLiquid<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Air.MoistAir.saturationPressureLiquidI.png" ALT="Modelica.Media.Air.MoistAir.saturationPressureLiquid" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Air.MoistAir.saturationPressureLiquid"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.saturationPressureLiquid</H2>
<B>Return saturation pressure of water as a function of temperature T in the range of 273.16 to 373.16 K</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
Saturation pressure of water above the triple point temperature is computed from temperature. It's range of validity is between
273.16 and 373.16 K. Outside these limits a less accurate result is returned.
<pre></PRE><P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A> (Icon for a function).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>Tsat</TD><TD>&nbsp;</TD><TD>saturation temperature [K]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.AbsolutePressure"
>AbsolutePressure</A></TD><TD>psat</TD><TD>saturation pressure [Pa]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> saturationPressureLiquid <font color="darkgreen">
  &quot;Return saturation pressure of water as a function of temperature T in the range of 273.16 to 373.16 K&quot;</font>
  annotation(derivative=<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.saturationPressureLiquid_der"
>saturationPressureLiquid_der</A>);

  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>SI.Temperature</A> Tsat <font color="darkgreen">&quot;saturation temperature&quot;</font>;
  <font color="blue">output </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.AbsolutePressure"
>SI.AbsolutePressure</A> psat <font color="darkgreen">&quot;saturation pressure&quot;</font>;
<font color="blue">algorithm </font>
  psat := 611.657*<font color="red">Math.exp</font>(17.2799 - 4102.99/(Tsat - 35.719));
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>saturationPressureLiquid;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE saturationPressureLiquid_der<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Air.MoistAir.saturationPressureLiquidI.png" ALT="Modelica.Media.Air.MoistAir.saturationPressureLiquid_der" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Air.MoistAir.saturationPressureLiquid_der"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.saturationPressureLiquid_der</H2>
<B>Time derivative of saturationPressureLiquid</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
Derivative function of <a href=Modelica://Modelica.Media.Air.MoistAir.saturationPressureLiquid>saturationPressureLiquid</a>
<pre></PRE><P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A> (Icon for a function).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>Tsat</TD><TD>&nbsp;</TD><TD>Saturation temperature [K]</TD></TR>
<TR><TD>Real</TD><TD>dTsat</TD><TD>&nbsp;</TD><TD>Saturation temperature derivative [K/s]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>psat_der</TD><TD>Saturation pressure [Pa/s]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> saturationPressureLiquid_der <font color="darkgreen">
  &quot;Time derivative of saturationPressureLiquid&quot;</font>

  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>SI.Temperature</A> Tsat <font color="darkgreen">&quot;Saturation temperature&quot;</font>;
  <font color="blue">input </font>Real dTsat(unit=&quot;K/s&quot;) <font color="darkgreen">&quot;Saturation temperature derivative&quot;</font>;
  <font color="blue">output </font>Real psat_der(unit=&quot;Pa/s&quot;) <font color="darkgreen">&quot;Saturation pressure&quot;</font>;
<font color="blue">algorithm </font>
<font color="darkgreen">/*psat := 611.657*Math.exp(17.2799 - 4102.99/(Tsat - 35.719));*/</font>
  psat_der:=611.657*<font color="red">Math.exp</font>(17.2799 - 4102.99/(Tsat - 35.719))*4102.99*dTsat/(Tsat - 35.719)/(Tsat - 35.719);

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>saturationPressureLiquid_der;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE sublimationPressureIce<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Air.MoistAir.saturationPressureLiquidI.png" ALT="Modelica.Media.Air.MoistAir.sublimationPressureIce" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Air.MoistAir.sublimationPressureIce"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.sublimationPressureIce</H2>
<B>Return sublimation pressure of water as a function of temperature T between 223.16 and 273.16 K</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
Sublimation pressure of water below the triple point temperature is computed from temperature. It's range of validity is between
 223.16 and 273.16 K. Outside of these limits a less accurate result is returned.
<pre></PRE><P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A> (Icon for a function).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>Tsat</TD><TD>&nbsp;</TD><TD>sublimation temperature [K]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.AbsolutePressure"
>AbsolutePressure</A></TD><TD>psat</TD><TD>sublimation pressure [Pa]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> sublimationPressureIce <font color="darkgreen">
  &quot;Return sublimation pressure of water as a function of temperature T between 223.16 and 273.16 K&quot;</font>
  annotation(derivative=<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.sublimationPressureIce_der"
>sublimationPressureIce_der</A>);

  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>SI.Temperature</A> Tsat <font color="darkgreen">&quot;sublimation temperature&quot;</font>;
  <font color="blue">output </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.AbsolutePressure"
>SI.AbsolutePressure</A> psat <font color="darkgreen">&quot;sublimation pressure&quot;</font>;
<font color="blue">algorithm </font>
  psat := 611.657*<font color="red">Math.exp</font>(22.5159*(1.0 - 273.16/Tsat));
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>sublimationPressureIce;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE sublimationPressureIce_der<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Air.MoistAir.saturationPressureLiquidI.png" ALT="Modelica.Media.Air.MoistAir.sublimationPressureIce_der" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Air.MoistAir.sublimationPressureIce_der"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.sublimationPressureIce_der</H2>
<B>Derivative function for &#39;sublimationPressureIce&#39;</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
Derivative function of <a href=Modelica://Modelica.Media.Air.MoistAir.sublimationPressureIce>saturationPressureIce</a>
<pre></PRE><P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A> (Icon for a function).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>Tsat</TD><TD>&nbsp;</TD><TD>Sublimation temperature [K]</TD></TR>
<TR><TD>Real</TD><TD>dTsat</TD><TD>&nbsp;</TD><TD>Time derivative of sublimation temperature [K/s]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>psat_der</TD><TD>Sublimation pressure [Pa/s]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> sublimationPressureIce_der <font color="darkgreen">
  &quot;Derivative function for &#39;sublimationPressureIce&#39;&quot;</font>

  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>SI.Temperature</A> Tsat <font color="darkgreen">&quot;Sublimation temperature&quot;</font>;
  <font color="blue">input </font>Real dTsat(unit=&quot;K/s&quot;) <font color="darkgreen">&quot;Time derivative of sublimation temperature&quot;</font>;
  <font color="blue">output </font>Real psat_der(unit=&quot;Pa/s&quot;) <font color="darkgreen">&quot;Sublimation pressure&quot;</font>;
<font color="blue">algorithm </font>
  <font color="darkgreen">/*psat := 611.657*Math.exp(22.5159*(1.0 - 273.16/Tsat));*/</font>
  psat_der:=611.657*<font color="red">Math.exp</font>(22.5159*(1.0 - 273.16/Tsat))*22.5159*273.16*dTsat/Tsat/Tsat;
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>sublimationPressureIce_der;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE saturationPressure<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Air.MoistAir.saturationPressureLiquidI.png" ALT="Modelica.Media.Air.MoistAir.saturationPressure" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Air.MoistAir.saturationPressure"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.saturationPressure</H2>
<B>Return saturation pressure of water as a function of temperature T between 223.16 and 373.16 K</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
Saturation pressure of water in the liquid and the solid region is computed using an Antoine-type correlation. It's range of validity is between 223.16 and 373.16 K. Outside of these limits a (less accurate) result is returned. Functions for the
<a href=Modelica://Modelica.Media.Air.MoistAir.sublimationPressureIce>solid</a> and the <A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.saturationPressureLiquid"
> liquid</a> region, respectively, are combined using the first derivative continuous <a href=Modelica://Modelica.Media.Air.MoistAir.Utilities.spliceFunction>spliceFunction</a>.
<pre></PRE><P>
Extends from <A HREF="Modelica_Media_Interfaces_PartialCondensingGases.html#Modelica.Media.Interfaces.PartialCondensingGases.saturationPressure"
></A> (Return saturation pressure of condensing fluid).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.Temperature"
>Temperature</A></TD><TD>Tsat</TD><TD>&nbsp;</TD><TD>saturation temperature [K]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.AbsolutePressure"
>AbsolutePressure</A></TD><TD>psat</TD><TD>saturation pressure [Pa]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">redeclare </font><font color="blue">function</font> <font color="blue">extends </font>saturationPressure <font color="darkgreen">
  &quot;Return saturation pressure of water as a function of temperature T between 223.16 and 373.16 K&quot;</font>
  annotation(derivative=<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.saturationPressure_der"
>saturationPressure_der</A>);

<font color="blue">algorithm </font>
  psat :=<font color="red"> Utilities.spliceFunction</font>(<font color="red">saturationPressureLiquid</font>(Tsat),<font color="red">sublimationPressureIce</font>(Tsat),Tsat-273.16,1.0);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>saturationPressure;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE saturationPressure_der<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Media.Air.MoistAir.saturationPressure_der"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.saturationPressure_der</H2>
<B>Derivative function for &#39;saturationPressure&#39;</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
Derivative function of <a href=Modelica://Modelica.Media.Air.MoistAir.saturationPressure>saturationPressure</a>
<pre></PRE><P>

<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.Temperature"
>Temperature</A></TD><TD>Tsat</TD><TD>&nbsp;</TD><TD>Saturation temperature [K]</TD></TR>
<TR><TD>Real</TD><TD>dTsat</TD><TD>&nbsp;</TD><TD>Time derivative of saturation temperature [K/s]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>psat_der</TD><TD>Saturation pressure [Pa/s]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> saturationPressure_der <font color="darkgreen">
  &quot;Derivative function for &#39;saturationPressure&#39;&quot;</font>
  <font color="blue">input </font><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.Temperature"
>Temperature</A> Tsat <font color="darkgreen">&quot;Saturation temperature&quot;</font>;
  <font color="blue">input </font>Real dTsat(unit=&quot;K/s&quot;) <font color="darkgreen">&quot;Time derivative of saturation temperature&quot;</font>;
  <font color="blue">output </font>Real psat_der(unit=&quot;Pa/s&quot;) <font color="darkgreen">&quot;Saturation pressure&quot;</font>;

<font color="blue">algorithm </font>
  <font color="darkgreen">/*psat := Utilities.spliceFunction(saturationPressureLiquid(Tsat),sublimationPressureIce(Tsat),Tsat-273.16,1.0);*/</font>
  psat_der :=<font color="red"> Utilities.spliceFunction_der</font>(
    <font color="red">saturationPressureLiquid</font>(Tsat),
    <font color="red">sublimationPressureIce</font>(Tsat),
    Tsat - 273.16,
    1.0,
    <font color="red">saturationPressureLiquid_der</font>(Tsat=Tsat, dTsat=dTsat),
    <font color="red">sublimationPressureIce_der</font>(Tsat=Tsat, dTsat=dTsat),
    dTsat,
    0);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>saturationPressure_der;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE saturationTemperature<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Media.Air.MoistAir.saturationTemperature"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.saturationTemperature</H2>
<B>Return saturation temperature of water as a function of (partial) pressure p</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
 Computes saturation temperature from (partial) pressure via numerical inversion of the function <a href=Modelica://Modelica.Media.Air.MoistAir.saturationPressure>saturationPressure</a>. Therefore additional inputs are required (or the defaults are used) for upper and lower temperature bounds.
<pre></PRE><P>

<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>p</TD><TD>&nbsp;</TD><TD>Pressure [Pa]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T_min</TD><TD>200</TD><TD>Lower boundary of solution [K]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T_max</TD><TD>400</TD><TD>Upper boundary of solution [K]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T</TD><TD>Saturation temperature [K]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> saturationTemperature <font color="darkgreen">
  &quot;Return saturation temperature of water as a function of (partial) pressure p&quot;</font>

  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>SI.Pressure</A> p <font color="darkgreen">&quot;Pressure&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>SI.Temperature</A> T_min=200 <font color="darkgreen">&quot;Lower boundary of solution&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>SI.Temperature</A> T_max=400 <font color="darkgreen">&quot;Upper boundary of solution&quot;</font>;
  <font color="blue">output </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>SI.Temperature</A> T <font color="darkgreen">&quot;Saturation temperature&quot;</font>;

<font color="blue">protected </font>
<textblock type="packagesmall" expanded="false" path="Modelica.Media.Air.MoistAir.saturationTemperature.Internal"><font color="blue">package</font> Internal
   <font color="blue">extends </font><A HREF="Modelica_Media_Common_OneNonLinearEquation.html#Modelica.Media.Common.OneNonLinearEquation"
>Modelica.Media.Common.OneNonLinearEquation</A>;

 <font color="blue">redeclare </font><font color="blue">record</font> <font color="blue">extends </font>f_nonlinear_Data
   <font color="darkgreen">// Define data to be passed to user function</font>
 <font color="blue">end </font>f_nonlinear_Data;

 <font color="blue">redeclare </font><font color="blue">function</font> <font color="blue">extends </font>f_nonlinear
 <font color="blue">algorithm </font>
    y:=<font color="red">saturationPressure</font>(x);
  <font color="darkgreen">// Compute the non-linear equation: y = f(x, Data)</font>
 <font color="blue">end </font>f_nonlinear;

 <font color="darkgreen">// Dummy definition</font>
 <font color="blue">redeclare </font><font color="blue">function</font> <font color="blue">extends </font>solve
 <font color="blue">end </font>solve;
<font color="blue">end </font>Internal</textblock>;
<font color="blue">algorithm </font>
  T:=<font color="red">Internal.solve</font>(p, T_min, T_max);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>saturationTemperature;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE enthalpyOfVaporization<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Air.MoistAir.enthalpyOfVaporizationI.png" ALT="Modelica.Media.Air.MoistAir.enthalpyOfVaporization" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Air.MoistAir.enthalpyOfVaporization"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.enthalpyOfVaporization</H2>
<B>Return enthalpy of vaporization of water as a function of temperature T, 0 - 130 degC</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
Enthalpy of vaporization of water is computed from temperature in the region of 0 to 130 °C.
<pre></PRE><P>
Extends from <A HREF="Modelica_Media_Interfaces_PartialCondensingGases.html#Modelica.Media.Interfaces.PartialCondensingGases.enthalpyOfVaporization"
></A> (Return vaporization enthalpy of condensing fluid).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.Temperature"
>Temperature</A></TD><TD>T</TD><TD>&nbsp;</TD><TD>temperature [K]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.SpecificEnthalpy"
>SpecificEnthalpy</A></TD><TD>r0</TD><TD>vaporization enthalpy [J/kg]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">redeclare </font><font color="blue">function</font> <font color="blue">extends </font>enthalpyOfVaporization <font color="darkgreen">
  &quot;Return enthalpy of vaporization of water as a function of temperature T, 0 - 130 degC&quot;</font>

<font color="blue">algorithm </font>
 <font color="darkgreen">/*r0 := 1e3*(2501.0145 - (T - 273.15)*(2.3853 + (T - 273.15)*(0.002969 - (T
      - 273.15)*(7.5293e-5 + (T - 273.15)*4.6084e-7))));*/</font>
<font color="darkgreen">//katrin: replaced by linear correlation, simpler and more accurate in the entire region</font>
<font color="darkgreen">//source VDI-Waermeatlas, linear inter- and extrapolation between values for 0.01°C and 40°C.</font>
r0:=(2405900-2500500)/(40-0)*(T-273.16)+2500500;
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>enthalpyOfVaporization;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE HeatCapacityOfWater<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Air.MoistAir.enthalpyOfVaporizationI.png" ALT="Modelica.Media.Air.MoistAir.HeatCapacityOfWater" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Air.MoistAir.HeatCapacityOfWater"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.HeatCapacityOfWater</H2>
<B>Return specific heat capacity of water (liquid only) as a function of temperature T</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
The specific heat capacity of water (liquid and solid) is calculated using a
                 polynomial approach and data from VDI-Waermeatlas 8. Edition (Db1)
<pre></PRE><P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A> (Icon for a function).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.Temperature"
>Temperature</A></TD><TD>T</TD><TD>&nbsp;</TD><TD>Temperature [K]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.SpecificHeatCapacity"
>SpecificHeatCapacity</A></TD><TD>cp_fl</TD><TD>Specific heat capacity of liquid [J/(kg.K)]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> HeatCapacityOfWater <font color="darkgreen">
  &quot;Return specific heat capacity of water (liquid only) as a function of temperature T&quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
  <font color="blue">input </font><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.Temperature"
>Temperature</A> T <font color="darkgreen">&quot;Temperature&quot;</font>;
  <font color="blue">output </font><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.SpecificHeatCapacity"
>SpecificHeatCapacity</A> cp_fl <font color="darkgreen">&quot;Specific heat capacity of liquid&quot;</font>;
<font color="blue">algorithm </font>
  cp_fl := 1e3*(4.2166 - (T - 273.15)*(0.0033166 + (T - 273.15)*(0.00010295
     - (T - 273.15)*(1.3819e-6 + (T - 273.15)*7.3221e-9))));
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>HeatCapacityOfWater;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE enthalpyOfLiquid<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Air.MoistAir.enthalpyOfVaporizationI.png" ALT="Modelica.Media.Air.MoistAir.enthalpyOfLiquid" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Air.MoistAir.enthalpyOfLiquid"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.enthalpyOfLiquid</H2>
<B>Return enthalpy of liquid water as a function of temperature T(use enthalpyOfWater instead)</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
Specific enthalpy of liquid water is computed from temperature using a polynomial approach. Kept for compatibility reasons, better use <a href=Modelica://Modelica.Media.Air.MoistAir.enthalpyOfWater>enthalpyOfWater</a> instead.
<pre></PRE><P>
Extends from <A HREF="Modelica_Media_Interfaces_PartialCondensingGases.html#Modelica.Media.Interfaces.PartialCondensingGases.enthalpyOfLiquid"
></A> (Return liquid enthalpy of condensing fluid).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.Temperature"
>Temperature</A></TD><TD>T</TD><TD>&nbsp;</TD><TD>temperature [K]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.SpecificEnthalpy"
>SpecificEnthalpy</A></TD><TD>h</TD><TD>liquid enthalpy [J/kg]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">redeclare </font><font color="blue">function</font> <font color="blue">extends </font>enthalpyOfLiquid <font color="darkgreen">
  &quot;Return enthalpy of liquid water as a function of temperature T(use enthalpyOfWater instead)&quot;</font>

<font color="blue">algorithm </font>
  h := (T - 273.15)*1e3*(4.2166 - 0.5*(T - 273.15)*(0.0033166 + 0.333333*(T - 273.15)*(0.00010295
     - 0.25*(T - 273.15)*(1.3819e-6 + 0.2*(T - 273.15)*7.3221e-9))));
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>enthalpyOfLiquid;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE enthalpyOfGas<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Air.MoistAir.enthalpyOfVaporizationI.png" ALT="Modelica.Media.Air.MoistAir.enthalpyOfGas" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Air.MoistAir.enthalpyOfGas"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.enthalpyOfGas</H2>
<B>Return specific enthalpy of gas (air and steam) as a function of temperature T and composition X</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
Specific enthalpy of moist air is computed from temperature, provided all water is in the gaseous state. The first entry in the composition vector X must be the mass fraction of steam. For a function that also covers the fog region please refer to <a href=Modelica://Modelica.Media.Air.MoistAir.h_pTX>h_pTX</a>.
<pre></PRE><P>
Extends from <A HREF="Modelica_Media_Interfaces_PartialCondensingGases.html#Modelica.Media.Interfaces.PartialCondensingGases.enthalpyOfGas"
></A> (Return enthalpy of non-condensing gas mixture).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.Temperature"
>Temperature</A></TD><TD>T</TD><TD>&nbsp;</TD><TD>temperature [K]</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFraction"
>MassFraction</A></TD><TD>X[:]</TD><TD>&nbsp;</TD><TD>vector of mass fractions [kg/kg]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.SpecificEnthalpy"
>SpecificEnthalpy</A></TD><TD>h</TD><TD>specific enthalpy [J/kg]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">redeclare </font><font color="blue">function</font> <font color="blue">extends </font>enthalpyOfGas <font color="darkgreen">
  &quot;Return specific enthalpy of gas (air and steam) as a function of temperature T and composition X&quot;</font>

<font color="blue">algorithm </font>
  h :=<font color="red"> SingleGasNasa.h_Tlow</font>(data=steam, T=T, refChoice=3, h_off=46479.819+2501014.5)*X[Water]
       +<font color="red"> SingleGasNasa.h_Tlow</font>(data=dryair, T=T, refChoice=3, h_off=25104.684)*(1.0-X[Water]);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>enthalpyOfGas;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE enthalpyOfCondensingGas<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Air.MoistAir.enthalpyOfVaporizationI.png" ALT="Modelica.Media.Air.MoistAir.enthalpyOfCondensingGas" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Air.MoistAir.enthalpyOfCondensingGas"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.enthalpyOfCondensingGas</H2>
<B>Return specific enthalpy of steam as a function of temperature T</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
Specific enthalpy of steam is computed from temperature.
<pre></PRE><P>
Extends from <A HREF="Modelica_Media_Interfaces_PartialCondensingGases.html#Modelica.Media.Interfaces.PartialCondensingGases.enthalpyOfCondensingGas"
></A> (Return enthalpy of condensing gas (most often steam)).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.Temperature"
>Temperature</A></TD><TD>T</TD><TD>&nbsp;</TD><TD>temperature [K]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.SpecificEnthalpy"
>SpecificEnthalpy</A></TD><TD>h</TD><TD>specific enthalpy [J/kg]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">redeclare </font><font color="blue">function</font> <font color="blue">extends </font>enthalpyOfCondensingGas <font color="darkgreen">
  &quot;Return specific enthalpy of steam as a function of temperature T&quot;</font>

<font color="blue">algorithm </font>
  h :=<font color="red"> SingleGasNasa.h_Tlow</font>(data=steam, T=T, refChoice=3, h_off=46479.819+2501014.5);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>enthalpyOfCondensingGas;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE enthalpyOfNonCondensingGas<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Air.MoistAir.enthalpyOfVaporizationI.png" ALT="Modelica.Media.Air.MoistAir.enthalpyOfNonCondensingGas" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Air.MoistAir.enthalpyOfNonCondensingGas"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.enthalpyOfNonCondensingGas</H2>
<B>Return specific enthalpy of dry air as a function of temperature T</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
Specific enthalpy of dry air is computed from temperature.
<pre></PRE><P>
Extends from <A HREF="Modelica_Media_Interfaces_PartialCondensingGases.html#Modelica.Media.Interfaces.PartialCondensingGases.enthalpyOfNonCondensingGas"
></A> (Return enthalpy of the non-condensing species).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.Temperature"
>Temperature</A></TD><TD>T</TD><TD>&nbsp;</TD><TD>temperature [K]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.SpecificEnthalpy"
>SpecificEnthalpy</A></TD><TD>h</TD><TD>specific enthalpy [J/kg]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">redeclare </font><font color="blue">function</font> <font color="blue">extends </font>enthalpyOfNonCondensingGas <font color="darkgreen">
  &quot;Return specific enthalpy of dry air as a function of temperature T&quot;</font>

<font color="blue">algorithm </font>
  h :=<font color="red"> SingleGasNasa.h_Tlow</font>(data=dryair, T=T, refChoice=3, h_off=25104.684);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>enthalpyOfNonCondensingGas;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE enthalpyOfWater<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Media.Air.MoistAir.enthalpyOfWater"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.enthalpyOfWater</H2>
<B>Computes specific enthalpy of water (solid/liquid) near atmospheric pressure from temperature T</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
Specific enthalpy of water (liquid and solid) is computed from temperature using constant properties as follows:<br>
<ul>
<li>  heat capacity of liquid water:4200 J/kg
<li>  heat capacity of solid water: 2050 J/kg
<li>  enthalpy of fusion (liquid=>solid): 333000 J/kg
</ul>
Pressure is assumed to be around 1 bar. This function is usually used to determine the specific enthalpy of the liquid or solid fraction of moist air.
<pre></PRE><P>

<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T</TD><TD>&nbsp;</TD><TD>Temperature [K]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</A></TD><TD>h</TD><TD>Specific enthalpy of water [J/kg]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> enthalpyOfWater <font color="darkgreen">
  &quot;Computes specific enthalpy of water (solid/liquid) near atmospheric pressure from temperature T&quot;</font>
  annotation(derivative=<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.enthalpyOfWater_der"
>enthalpyOfWater_der</A>);
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>SIunits.Temperature</A> T <font color="darkgreen">&quot;Temperature&quot;</font>;
  <font color="blue">output </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SIunits.SpecificEnthalpy</A> h <font color="darkgreen">&quot;Specific enthalpy of water&quot;</font>;
<font color="blue">algorithm </font>
<font color="darkgreen">/*simple model assuming constant properties:
  heat capacity of liquid water:4200 J/kg
  heat capacity of solid water: 2050 J/kg
  enthalpy of fusion (liquid=&gt;solid): 333000 J/kg*/</font>

  h:=<font color="red">Utilities.spliceFunction</font>(4200*(T-273.15),2050*(T-273.15)-333000,T-273.16,0.1);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>enthalpyOfWater;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE enthalpyOfWater_der<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Media.Air.MoistAir.enthalpyOfWater_der"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.enthalpyOfWater_der</H2>
<B>Derivative function of enthalpyOfWater</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
Derivative function for <a href=Modelica://Modelica.Media.Air.MoistAir.enthalpyOfWater>enthalpyOfWater</a>.

<pre></PRE><P>

<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T</TD><TD>&nbsp;</TD><TD>Temperature [K]</TD></TR>
<TR><TD>Real</TD><TD>dT</TD><TD>&nbsp;</TD><TD>Time derivative of temperature [K/s]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>dh</TD><TD>Time derivative of specific enthalpy [J/(kg.s)]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> enthalpyOfWater_der <font color="darkgreen">&quot;Derivative function of enthalpyOfWater&quot;</font>
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>SIunits.Temperature</A> T <font color="darkgreen">&quot;Temperature&quot;</font>;
  <font color="blue">input </font>Real dT(unit=&quot;K/s&quot;) <font color="darkgreen">&quot;Time derivative of temperature&quot;</font>;
  <font color="blue">output </font>Real dh(unit=&quot;J/(kg.s)&quot;) <font color="darkgreen">&quot;Time derivative of specific enthalpy&quot;</font>;
<font color="blue">algorithm </font>
<font color="darkgreen">/*simple model assuming constant properties:
  heat capacity of liquid water:4200 J/kg
  heat capacity of solid water: 2050 J/kg
  enthalpy of fusion (liquid=&gt;solid): 333000 J/kg*/</font>

  <font color="darkgreen">//h:=Utilities.spliceFunction(4200*(T-273.15),2050*(T-273.15)-333000,T-273.16,0.1);</font>
  dh:=<font color="red">Utilities.spliceFunction_der</font>(4200*(T-273.15),2050*(T-273.15)-333000,T-273.16,0.1,4200*dT,2050*dT,dT,0);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>enthalpyOfWater_der;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE pressure<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Air.MoistAir.pressureI.png" ALT="Modelica.Media.Air.MoistAir.pressure" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Air.MoistAir.pressure"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.pressure</H2>
<B>Returns pressure of ideal gas as a function of the thermodynamic state record</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
Pressure is returned from the thermodynamic state record input as a simple assignment.
<pre></PRE><P>
Extends from <A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.pressure"
></A> (Return pressure).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ThermodynamicState"
>ThermodynamicState</A></TD><TD>state</TD><TD>&nbsp;</TD><TD>thermodynamic state record</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.AbsolutePressure"
>AbsolutePressure</A></TD><TD>p</TD><TD>Pressure [Pa]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">redeclare </font><font color="blue">function</font> <font color="blue">extends </font>pressure <font color="darkgreen">
  &quot;Returns pressure of ideal gas as a function of the thermodynamic state record&quot;</font>

<font color="blue">algorithm </font>
 p := state.p;
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>pressure;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE temperature<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Air.MoistAir.pressureI.png" ALT="Modelica.Media.Air.MoistAir.temperature" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Air.MoistAir.temperature"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.temperature</H2>
<B>Return temperature of ideal gas as a function of the thermodynamic state record</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
Temperature is returned from the thermodynamic state record input as a simple assignment.
<pre></PRE><P>
Extends from <A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.temperature"
></A> (Return temperature).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ThermodynamicState"
>ThermodynamicState</A></TD><TD>state</TD><TD>&nbsp;</TD><TD>thermodynamic state record</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.Temperature"
>Temperature</A></TD><TD>T</TD><TD>Temperature [K]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">redeclare </font><font color="blue">function</font> <font color="blue">extends </font>temperature <font color="darkgreen">
  &quot;Return temperature of ideal gas as a function of the thermodynamic state record&quot;</font>

<font color="blue">algorithm </font>
  T := state.T;
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>temperature;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE T_phX<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Media.Air.MoistAir.T_phX"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.T_phX</H2>
<B>Return temperature as a function of pressure p, specific enthalpy h and composition X</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
Temperature is computed from pressure, specific enthalpy and composition via numerical inversion of function <a href=Modelica://Modelica.Media.Air.MoistAir.h_pTX>h_pTX</a>.
<pre></PRE><P>

<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.AbsolutePressure"
>AbsolutePressure</A></TD><TD>p</TD><TD>&nbsp;</TD><TD>Pressure [Pa]</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.SpecificEnthalpy"
>SpecificEnthalpy</A></TD><TD>h</TD><TD>&nbsp;</TD><TD>Specific enthalpy [J/kg]</TD></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFraction"
>MassFraction</A></TD><TD>X[:]</TD><TD>&nbsp;</TD><TD>Mass fractions of composition [kg/kg]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.Temperature"
>Temperature</A></TD><TD>T</TD><TD>Temperature [K]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> T_phX <font color="darkgreen">
  &quot;Return temperature as a function of pressure p, specific enthalpy h and composition X&quot;</font>
  <font color="blue">input </font><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.AbsolutePressure"
>AbsolutePressure</A> p <font color="darkgreen">&quot;Pressure&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.SpecificEnthalpy"
>SpecificEnthalpy</A> h <font color="darkgreen">&quot;Specific enthalpy&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFraction"
>MassFraction</A>[:] X <font color="darkgreen">&quot;Mass fractions of composition&quot;</font>;
  <font color="blue">output </font><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.Temperature"
>Temperature</A> T <font color="darkgreen">&quot;Temperature&quot;</font>;

<font color="blue">protected </font>
<textblock type="packagesmall" expanded="false" path="Modelica.Media.Air.MoistAir.T_phX.Internal"><font color="blue">package</font> Internal <font color="darkgreen">
    &quot;Solve h(data,T) for T with given h (use only indirectly via temperature_phX)&quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Media_Common_OneNonLinearEquation.html#Modelica.Media.Common.OneNonLinearEquation"
>Modelica.Media.Common.OneNonLinearEquation</A>;
  <font color="blue">redeclare </font><font color="blue">record</font> <font color="blue">extends </font>f_nonlinear_Data <font color="darkgreen">
      &quot;Data to be passed to non-linear function&quot;</font>
    <font color="blue">extends </font><A HREF="Modelica_Media_IdealGases_Common.html#Modelica.Media.IdealGases.Common.DataRecord"
>Modelica.Media.IdealGases.Common.DataRecord</A>;
  <font color="blue">end </font>f_nonlinear_Data;

  <font color="blue">redeclare </font><font color="blue">function</font> <font color="blue">extends </font>f_nonlinear
  <font color="blue">algorithm </font>
      y := <font color="red">h_pTX</font>(p,x,X);
  <font color="blue">end </font>f_nonlinear;

  <font color="darkgreen">// Dummy definition has to be added for current Dymola</font>
  <font color="blue">redeclare </font><font color="blue">function</font> <font color="blue">extends </font>solve
  <font color="blue">end </font>solve;
<font color="blue">end </font>Internal</textblock>;

<font color="blue">algorithm </font>
  T :=<font color="red"> Internal.solve</font>(h, 240, 400, p, X[1:nXi], steam);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>T_phX;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE density<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Air.MoistAir.densityI.png" ALT="Modelica.Media.Air.MoistAir.density" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Air.MoistAir.density"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.density</H2>
<B>Returns density of ideal gas as a function of the thermodynamic state record</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
Density is computed from pressure, temperature and composition in the thermodynamic state record applying the ideal gas law.
<pre></PRE><P>
Extends from <A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.density"
></A> (Return density).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ThermodynamicState"
>ThermodynamicState</A></TD><TD>state</TD><TD>&nbsp;</TD><TD>thermodynamic state record</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.Density"
>Density</A></TD><TD>d</TD><TD>Density [kg/m3]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">redeclare </font><font color="blue">function</font> <font color="blue">extends </font>density <font color="darkgreen">
  &quot;Returns density of ideal gas as a function of the thermodynamic state record&quot;</font>

<font color="blue">algorithm </font>
  d := state.p/(<font color="red">gasConstant</font>(state)*state.T);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>density;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE specificEnthalpy<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Air.MoistAir.densityI.png" ALT="Modelica.Media.Air.MoistAir.specificEnthalpy" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Air.MoistAir.specificEnthalpy"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.specificEnthalpy</H2>
<B>Return specific enthalpy of moist air as a function of the thermodynamic state record</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
Specific enthalpy of moist air is computed from the thermodynamic state record. The fog region is included for both, ice and liquid fog.
<pre></PRE><P>
Extends from <A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.specificEnthalpy"
></A> (Return specific enthalpy).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ThermodynamicState"
>ThermodynamicState</A></TD><TD>state</TD><TD>&nbsp;</TD><TD>thermodynamic state record</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.SpecificEnthalpy"
>SpecificEnthalpy</A></TD><TD>h</TD><TD>Specific enthalpy [J/kg]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">redeclare </font><font color="blue">function</font> <font color="blue">extends </font>specificEnthalpy <font color="darkgreen">
  &quot;Return specific enthalpy of moist air as a function of the thermodynamic state record&quot;</font>

<font color="blue">algorithm </font>
  h :=<font color="red"> h_pTX</font>(state.p, state.T, state.X);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>specificEnthalpy;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE h_pTX<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Air.MoistAir.densityI.png" ALT="Modelica.Media.Air.MoistAir.h_pTX" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Air.MoistAir.h_pTX"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.h_pTX</H2>
<B>Return specific enthalpy of moist air as a function of pressure p, temperature T and composition X</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
Specific enthalpy of moist air is computed from pressure, temperature and composition with X[1] as the total water mass fraction. The fog region is included for both, ice and liquid fog.
<pre></PRE><P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A> (Icon for a function).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>p</TD><TD>&nbsp;</TD><TD>Pressure [Pa]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T</TD><TD>&nbsp;</TD><TD>Temperature [K]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>MassFraction</A></TD><TD>X[:]</TD><TD>&nbsp;</TD><TD>Mass fractions of moist air [1]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</A></TD><TD>h</TD><TD>Specific enthalpy at p, T, X [J/kg]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> h_pTX <font color="darkgreen">
  &quot;Return specific enthalpy of moist air as a function of pressure p, temperature T and composition X&quot;</font>
  annotation(derivative=<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.h_pTX_der"
>h_pTX_der</A>);
  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>SI.Pressure</A> p <font color="darkgreen">&quot;Pressure&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>SI.Temperature</A> T <font color="darkgreen">&quot;Temperature&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>SI.MassFraction</A> X[:] <font color="darkgreen">&quot;Mass fractions of moist air&quot;</font>;
  <font color="blue">output </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SI.SpecificEnthalpy</A> h <font color="darkgreen">&quot;Specific enthalpy at p, T, X&quot;</font>;
<font color="blue">protected </font>
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.AbsolutePressure"
>SI.AbsolutePressure</A> p_steam_sat <font color="darkgreen">&quot;Partial saturation pressure of steam&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>SI.MassFraction</A> X_sat <font color="darkgreen">&quot;Absolute humidity per unit mass of moist air&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>SI.MassFraction</A> X_liquid <font color="darkgreen">&quot;mass fraction of liquid water&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>SI.MassFraction</A> X_steam <font color="darkgreen">&quot;mass fraction of steam water&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>SI.MassFraction</A> X_air <font color="darkgreen">&quot;mass fraction of air&quot;</font>;
<font color="blue">algorithm </font>
  p_steam_sat :=<font color="red">saturationPressure</font>(T);
  <font color="darkgreen">//p_steam_sat :=min(saturationPressure(T), 0.999*p);</font>
  X_sat:=<font color="red">min</font>(p_steam_sat*k_mair/<font color="red">max</font>(100*Constants.eps, p - p_steam_sat)*(1 - X[
    Water]), 1.0);
  X_liquid :=<font color="red">max</font>(X[Water] - X_sat, 0.0);
  X_steam  :=X[Water] - X_liquid;
  X_air    :=1 - X[Water];
 <font color="darkgreen">/* h        := {SingleGasNasa.h_Tlow(data=steam,  T=T, refChoice=3, h_off=46479.819+2501014.5),
               SingleGasNasa.h_Tlow(data=dryair, T=T, refChoice=3, h_off=25104.684)}*
    {X_steam, X_air} + enthalpyOfLiquid(T)*X_liquid;*/</font>
   h        := {<font color="red">SingleGasNasa.h_Tlow</font>(data=steam,  T=T, refChoice=3, h_off=46479.819+2501014.5),
               <font color="red">SingleGasNasa.h_Tlow</font>(data=dryair, T=T, refChoice=3, h_off=25104.684)}*
    {X_steam, X_air} +<font color="red"> enthalpyOfWater</font>(T)*X_liquid;
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>h_pTX;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE h_pTX_der<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Air.MoistAir.densityI.png" ALT="Modelica.Media.Air.MoistAir.h_pTX_der" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Air.MoistAir.h_pTX_der"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.h_pTX_der</H2>
<B>Derivative function of h_pTX</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
Derivative function for <a href=Modelica://Modelica.Media.Air.MoistAir.h_pTX>h_pTX</a>.
<pre></PRE><P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A> (Icon for a function).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>p</TD><TD>&nbsp;</TD><TD>Pressure [Pa]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T</TD><TD>&nbsp;</TD><TD>Temperature [K]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>MassFraction</A></TD><TD>X[:]</TD><TD>&nbsp;</TD><TD>Mass fractions of moist air [1]</TD></TR>
<TR><TD>Real</TD><TD>dp</TD><TD>&nbsp;</TD><TD>Pressure derivative [Pa/s]</TD></TR>
<TR><TD>Real</TD><TD>dT</TD><TD>&nbsp;</TD><TD>Temperature derivative [K/s]</TD></TR>
<TR><TD>Real</TD><TD>dX[:]</TD><TD>&nbsp;</TD><TD>Composition derivative [1/s]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>h_der</TD><TD>Time derivative of specific enthalpy [J/(kg.s)]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> h_pTX_der <font color="darkgreen">&quot;Derivative function of h_pTX&quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>SI.Pressure</A> p <font color="darkgreen">&quot;Pressure&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>SI.Temperature</A> T <font color="darkgreen">&quot;Temperature&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>SI.MassFraction</A> X[:] <font color="darkgreen">&quot;Mass fractions of moist air&quot;</font>;
  <font color="blue">input </font>Real dp(unit=&quot;Pa/s&quot;) <font color="darkgreen">&quot;Pressure derivative&quot;</font>;
  <font color="blue">input </font>Real dT(unit=&quot;K/s&quot;) <font color="darkgreen">&quot;Temperature derivative&quot;</font>;
  <font color="blue">input </font>Real dX[:](<font color="blue">each </font>unit=&quot;1/s&quot;) <font color="darkgreen">&quot;Composition derivative&quot;</font>;
  <font color="blue">output </font>Real h_der(unit=&quot;J/(kg.s)&quot;) <font color="darkgreen">&quot;Time derivative of specific enthalpy&quot;</font>;
<font color="blue">protected </font>
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.AbsolutePressure"
>SI.AbsolutePressure</A> p_steam_sat <font color="darkgreen">&quot;Partial saturation pressure of steam&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>SI.MassFraction</A> X_sat <font color="darkgreen">&quot;Absolute humidity per unit mass of moist air&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>SI.MassFraction</A> X_liquid <font color="darkgreen">&quot;Mass fraction of liquid water&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>SI.MassFraction</A> X_steam <font color="darkgreen">&quot;Mass fraction of steam water&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>SI.MassFraction</A> X_air <font color="darkgreen">&quot;Mass fraction of air&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>SI.MassFraction</A> x_sat <font color="darkgreen">
    &quot;Absolute humidity per unit mass of dry air at saturation&quot;</font>;
  Real dX_steam(unit=&quot;1/s&quot;) <font color="darkgreen">&quot;Time deriveative of steam mass fraction&quot;</font>;
  Real dX_air(unit=&quot;1/s&quot;) <font color="darkgreen">&quot;Time derivative of dry air mass fraction&quot;</font>;
  Real dX_liq(unit=&quot;1/s&quot;) <font color="darkgreen">&quot;Time derivative of liquid/solid water mass fraction&quot;</font>;
  Real dps(unit=&quot;Pa/s&quot;) <font color="darkgreen">&quot;Time derivative of saturation pressure&quot;</font>;
  Real dx_sat(unit=&quot;1/s&quot;) <font color="darkgreen">
    &quot;Time derivative of abolute humidity per unit mass of dry air&quot;</font>;
<font color="blue">algorithm </font>
  p_steam_sat :=<font color="red">saturationPressure</font>(T);
  x_sat:=p_steam_sat*k_mair/<font color="red">max</font>(100*Modelica.Constants.eps, p - p_steam_sat);
  X_sat:=<font color="red">min</font>(x_sat*(1 - X[Water]), 1.0);
  X_liquid :=<font color="red">Utilities.spliceFunction</font>(X[Water] - X_sat, 0.0, X[Water] - X_sat,1e-6);
  X_steam  :=X[Water] - X_liquid;
  X_air    :=1 - X[Water];

  dX_air:=-dX[Water];
  dps:=<font color="red">saturationPressure_der</font>(Tsat=T, dTsat=dT);
  dx_sat:=k_mair*(dps*(p-p_steam_sat)-p_steam_sat*(dp-dps))/(p-p_steam_sat)/(p-p_steam_sat);
  dX_liq:=<font color="red">Utilities.spliceFunction_der</font>(X[Water] - X_sat, 0.0, X[Water] - X_sat,1e-6,(1+x_sat)*dX[Water]-(1-X[Water])*dx_sat,0.0,(1+x_sat)*dX[Water]-(1-X[Water])*dx_sat,0.0);
  <font color="darkgreen">//dX_liq:=if X[Water]&gt;=X_sat then (1+x_sat)*dX[Water]-(1-X[Water])*dx_sat else 0;</font>
  dX_steam:=dX[Water]-dX_liq;

  h_der:= X_steam*<font color="red">Modelica.Media.IdealGases.Common.SingleGasNasa.h_Tlow_der</font>(data=steam, T=T, refChoice=3, h_off=46479.819+2501014.5, dT=dT)+
          dX_steam*<font color="red">Modelica.Media.IdealGases.Common.SingleGasNasa.h_Tlow</font>(data=steam,  T=T, refChoice=3, h_off=46479.819+2501014.5) +
          X_air*<font color="red">Modelica.Media.IdealGases.Common.SingleGasNasa.h_Tlow_der</font>(data=dryair, T=T, refChoice=3, h_off=25104.684, dT=dT) +
          dX_air*<font color="red">Modelica.Media.IdealGases.Common.SingleGasNasa.h_Tlow</font>(data=dryair, T=T, refChoice=3, h_off=25104.684) +
          X_liquid*<font color="red">enthalpyOfWater_der</font>(T=T, dT=dT) +
          dX_liq*<font color="red">enthalpyOfWater</font>(T);

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>h_pTX_der;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE isentropicExponent<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Air.MoistAir.densityI.png" ALT="Modelica.Media.Air.MoistAir.isentropicExponent" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Air.MoistAir.isentropicExponent"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.isentropicExponent</H2>
<B>Return isentropic exponent (only for gas fraction!)</B><p>
<P><H3>Information</H3></P>
Extends from <A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.isentropicExponent"
></A> (Return isentropic exponent).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ThermodynamicState"
>ThermodynamicState</A></TD><TD>state</TD><TD>&nbsp;</TD><TD>thermodynamic state record</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.IsentropicExponent"
>IsentropicExponent</A></TD><TD>gamma</TD><TD>Isentropic exponent [1]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">redeclare </font><font color="blue">function</font> <font color="blue">extends </font>isentropicExponent <font color="darkgreen">
  &quot;Return isentropic exponent (only for gas fraction!)&quot;</font>
<font color="blue">algorithm </font>
  gamma :=<font color="red"> specificHeatCapacityCp</font>(state)/<font color="red">specificHeatCapacityCv</font>(state);
<font color="blue">end </font>isentropicExponent;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE isentropicEnthalpyApproximation<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Air.MoistAir.densityI.png" ALT="Modelica.Media.Air.MoistAir.isentropicEnthalpyApproximation" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Air.MoistAir.isentropicEnthalpyApproximation"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.isentropicEnthalpyApproximation</H2>
<B>Approximate calculation of h_is from upstream properties, downstream pressure, gas part only</B><p>
<P><H3>Information</H3></P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A> (Icon for a function).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.AbsolutePressure"
>AbsolutePressure</A></TD><TD>p2</TD><TD>&nbsp;</TD><TD>downstream pressure [Pa]</TD></TR>
<TR><TD><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.ThermodynamicState"
>ThermodynamicState</A></TD><TD>state</TD><TD>&nbsp;</TD><TD>thermodynamic state at upstream location</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.SpecificEnthalpy"
>SpecificEnthalpy</A></TD><TD>h_is</TD><TD>isentropic enthalpy [J/kg]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> isentropicEnthalpyApproximation <font color="darkgreen">
  &quot;Approximate calculation of h_is from upstream properties, downstream pressure, gas part only&quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
  <font color="blue">input </font><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.AbsolutePressure"
>AbsolutePressure</A> p2 <font color="darkgreen">&quot;downstream pressure&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.ThermodynamicState"
>ThermodynamicState</A> state <font color="darkgreen">&quot;thermodynamic state at upstream location&quot;</font>;
  <font color="blue">output </font><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.SpecificEnthalpy"
>SpecificEnthalpy</A> h_is <font color="darkgreen">&quot;isentropic enthalpy&quot;</font>;
<font color="blue">protected </font>
  <A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.SpecificEnthalpy"
>SpecificEnthalpy</A> h <font color="darkgreen">&quot;specific enthalpy at upstream location&quot;</font>;
  <A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.IsentropicExponent"
>IsentropicExponent</A> gamma =<font color="red">  isentropicExponent</font>(state) <font color="darkgreen">&quot;Isentropic exponent&quot;</font>;
<font color="blue">protected </font>
  <A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFraction"
>MassFraction</A>[nX] X <font color="darkgreen">&quot;complete X-vector&quot;</font>;
<font color="blue">algorithm </font>
  X := <font color="blue">if </font>reducedX<font color="blue"> then </font><font color="red">cat</font>(1,state.X,{1-<font color="red">sum</font>(state.X)})<font color="blue"> else </font>state.X;
  h := {<font color="red">SingleGasNasa.h_Tlow</font>(data=steam,  T=state.T, refChoice=3, h_off=46479.819+2501014.5),
      <font color="red">SingleGasNasa.h_Tlow</font>(data=dryair, T=state.T, refChoice=3, h_off=25104.684)}*X;

  h_is := h + gamma/(gamma - 1.0)*(state.T*<font color="red">gasConstant</font>(state))*
    ((p2/state.p)^((gamma - 1)/gamma) - 1.0);
<font color="blue">end </font>isentropicEnthalpyApproximation;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE specificInternalEnergy<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Air.MoistAir.densityI.png" ALT="Modelica.Media.Air.MoistAir.specificInternalEnergy" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Air.MoistAir.specificInternalEnergy"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.specificInternalEnergy</H2>
<B>Return specific internal energy of moist air as a function of the thermodynamic state record</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
Specific internal energy is determined from the thermodynamic state record, assuming that the liquid or solid water volume is negligible.
<pre></PRE><P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A> (Icon for a function), <A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.specificInternalEnergy"
></A> (Return specific internal energy).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ThermodynamicState"
>ThermodynamicState</A></TD><TD>state</TD><TD>&nbsp;</TD><TD>thermodynamic state record</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificInternalEnergy"
>SpecificInternalEnergy</A></TD><TD>u</TD><TD>Specific internal energy [J/kg]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">redeclare </font><font color="blue">function</font> <font color="blue">extends </font>specificInternalEnergy <font color="darkgreen">
  &quot;Return specific internal energy of moist air as a function of the thermodynamic state record&quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
  <font color="blue">output </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificInternalEnergy"
>SI.SpecificInternalEnergy</A> u <font color="darkgreen">&quot;Specific internal energy&quot;</font>;
<font color="blue">algorithm </font>
   u :=<font color="red"> specificInternalEnergy_pTX</font>(state.p,state.T,state.X);

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>specificInternalEnergy;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE specificInternalEnergy_pTX<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Media.Air.MoistAir.specificInternalEnergy_pTX"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.specificInternalEnergy_pTX</H2>
<B>Return specific internal energy of moist air as a function of pressure p, temperature T and composition X</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
Specific internal energy is determined from pressure p, temperature T and composition X, assuming that the liquid or solid water volume is negligible.
<pre></PRE><P>

<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>p</TD><TD>&nbsp;</TD><TD>Pressure [Pa]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T</TD><TD>&nbsp;</TD><TD>Temperature [K]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>MassFraction</A></TD><TD>X[:]</TD><TD>&nbsp;</TD><TD>Mass fractions of moist air [1]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificInternalEnergy"
>SpecificInternalEnergy</A></TD><TD>u</TD><TD>Specific internal energy [J/kg]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> specificInternalEnergy_pTX <font color="darkgreen">
  &quot;Return specific internal energy of moist air as a function of pressure p, temperature T and composition X&quot;</font>
  annotation(derivative=<A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.specificInternalEnergy_pTX_der"
>specificInternalEnergy_pTX_der</A>);
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>SI.Pressure</A> p <font color="darkgreen">&quot;Pressure&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>SI.Temperature</A> T <font color="darkgreen">&quot;Temperature&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>SI.MassFraction</A> X[:] <font color="darkgreen">&quot;Mass fractions of moist air&quot;</font>;
  <font color="blue">output </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificInternalEnergy"
>SI.SpecificInternalEnergy</A> u <font color="darkgreen">&quot;Specific internal energy&quot;</font>;
<font color="blue">protected </font>
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.AbsolutePressure"
>SI.AbsolutePressure</A> p_steam_sat <font color="darkgreen">&quot;Partial saturation pressure of steam&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>SI.MassFraction</A> X_liquid <font color="darkgreen">&quot;Mass fraction of liquid water&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>SI.MassFraction</A> X_steam <font color="darkgreen">&quot;Mass fraction of steam water&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>SI.MassFraction</A> X_air <font color="darkgreen">&quot;Mass fraction of air&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>SI.MassFraction</A> X_sat <font color="darkgreen">&quot;Absolute humidity per unit mass of moist air&quot;</font>;
  Real R_gas <font color="darkgreen">&quot;Ideal gas constant&quot;</font>;
<font color="blue">algorithm </font>
  p_steam_sat :=<font color="red">saturationPressure</font>(T);
  X_sat:=<font color="red">min</font>(p_steam_sat*k_mair/<font color="red">max</font>(100*Constants.eps, p - p_steam_sat)*(1 - X[
    Water]), 1.0);
  X_liquid :=<font color="red">max</font>(X[Water] - X_sat, 0.0);
  X_steam  :=X[Water] - X_liquid;
  X_air    :=1 - X[Water];
  R_gas:= dryair.R*X_air/(1-X_liquid)+steam.R* X_steam/(1-X_liquid);
  u       := X_steam*<font color="red">SingleGasNasa.h_Tlow</font>(data=steam,  T=T, refChoice=3, h_off=46479.819+2501014.5)+
             X_air*<font color="red">SingleGasNasa.h_Tlow</font>(data=dryair, T=T, refChoice=3, h_off=25104.684)
             +<font color="red"> enthalpyOfWater</font>(T)*X_liquid-R_gas*T;

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>specificInternalEnergy_pTX;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE specificInternalEnergy_pTX_der<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Media.Air.MoistAir.specificInternalEnergy_pTX_der"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.specificInternalEnergy_pTX_der</H2>
<B>Derivative function for specificInternalEnergy_pTX</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
Derivative function for <a href=Modelica://Modelica.Media.Air.MoistAir.specificInternalEnergy_pTX>specificInternalEnergy_pTX</a>.
<pre></PRE><P>

<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>p</TD><TD>&nbsp;</TD><TD>Pressure [Pa]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T</TD><TD>&nbsp;</TD><TD>Temperature [K]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>MassFraction</A></TD><TD>X[:]</TD><TD>&nbsp;</TD><TD>Mass fractions of moist air [1]</TD></TR>
<TR><TD>Real</TD><TD>dp</TD><TD>&nbsp;</TD><TD>Pressure derivative [Pa/s]</TD></TR>
<TR><TD>Real</TD><TD>dT</TD><TD>&nbsp;</TD><TD>Temperature derivative [K/s]</TD></TR>
<TR><TD>Real</TD><TD>dX[:]</TD><TD>&nbsp;</TD><TD>Mass fraction derivatives [1/s]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>u_der</TD><TD>Specific internal energy derivative [J/(kg.s)]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> specificInternalEnergy_pTX_der <font color="darkgreen">
  &quot;Derivative function for specificInternalEnergy_pTX&quot;</font>
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>SI.Pressure</A> p <font color="darkgreen">&quot;Pressure&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>SI.Temperature</A> T <font color="darkgreen">&quot;Temperature&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>SI.MassFraction</A> X[:] <font color="darkgreen">&quot;Mass fractions of moist air&quot;</font>;
  <font color="blue">input </font>Real dp(unit=&quot;Pa/s&quot;) <font color="darkgreen">&quot;Pressure derivative&quot;</font>;
  <font color="blue">input </font>Real dT(unit=&quot;K/s&quot;) <font color="darkgreen">&quot;Temperature derivative&quot;</font>;
  <font color="blue">input </font>Real dX[:](<font color="blue">each </font>unit=&quot;1/s&quot;) <font color="darkgreen">&quot;Mass fraction derivatives&quot;</font>;
  <font color="blue">output </font>Real u_der(unit=&quot;J/(kg.s)&quot;) <font color="darkgreen">&quot;Specific internal energy derivative&quot;</font>;
<font color="blue">protected </font>
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.AbsolutePressure"
>SI.AbsolutePressure</A> p_steam_sat <font color="darkgreen">&quot;Partial saturation pressure of steam&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>SI.MassFraction</A> X_liquid <font color="darkgreen">&quot;Mass fraction of liquid water&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>SI.MassFraction</A> X_steam <font color="darkgreen">&quot;Mass fraction of steam water&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>SI.MassFraction</A> X_air <font color="darkgreen">&quot;Mass fraction of air&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>SI.MassFraction</A> X_sat <font color="darkgreen">&quot;Absolute humidity per unit mass of moist air&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificHeatCapacity"
>SI.SpecificHeatCapacity</A> R_gas <font color="darkgreen">&quot;Ideal gas constant&quot;</font>;

  <A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>SI.MassFraction</A> x_sat <font color="darkgreen">
    &quot;Absolute humidity per unit mass of dry air at saturation&quot;</font>;
  Real dX_steam(unit=&quot;1/s&quot;) <font color="darkgreen">&quot;Time deriveative of steam mass fraction&quot;</font>;
  Real dX_air(unit=&quot;1/s&quot;) <font color="darkgreen">&quot;Time derivative of dry air mass fraction&quot;</font>;
  Real dX_liq(unit=&quot;1/s&quot;) <font color="darkgreen">&quot;Time derivative of liquid/solid water mass fraction&quot;</font>;
  Real dps(unit=&quot;Pa/s&quot;) <font color="darkgreen">&quot;Time derivative of saturation pressure&quot;</font>;
  Real dx_sat(unit=&quot;1/s&quot;) <font color="darkgreen">
    &quot;Time derivative of abolute humidity per unit mass of dry air&quot;</font>;
  Real dR_gas(unit=&quot;J/(kg.K.s)&quot;) <font color="darkgreen">&quot;Time derivative of ideal gas constant&quot;</font>;
<font color="blue">algorithm </font>
  p_steam_sat :=<font color="red">saturationPressure</font>(T);
  x_sat:=p_steam_sat*k_mair/<font color="red">max</font>(100*Modelica.Constants.eps, p - p_steam_sat);
  X_sat:=<font color="red">min</font>(x_sat*(1 - X[Water]), 1.0);
  X_liquid :=<font color="red">Utilities.spliceFunction</font>(X[Water] - X_sat, 0.0, X[Water] - X_sat,1e-6);
  X_steam  :=X[Water] - X_liquid;
  X_air    :=1 - X[Water];
  R_gas:= steam.R*X_steam/(1-X_liquid)+dryair.R* X_air/(1-X_liquid);

  dX_air:=-dX[Water];
  dps:=<font color="red">saturationPressure_der</font>(Tsat=T, dTsat=dT);
  dx_sat:=k_mair*(dps*(p-p_steam_sat)-p_steam_sat*(dp-dps))/(p-p_steam_sat)/(p-p_steam_sat);
  dX_liq:=<font color="red">Utilities.spliceFunction_der</font>(X[Water] - X_sat, 0.0, X[Water] - X_sat,1e-6,(1+x_sat)*dX[Water]-(1-X[Water])*dx_sat,0.0,(1+x_sat)*dX[Water]-(1-X[Water])*dx_sat,0.0);
  dX_steam:=dX[Water]-dX_liq;
  dR_gas:=(steam.R*(dX_steam*(1-X_liquid)+dX_liq*X_steam)+dryair.R*(dX_air*(1-X_liquid)+dX_liq*X_air))/(1-X_liquid)/(1-X_liquid);

  u_der:=X_steam*<font color="red">SingleGasNasa.h_Tlow_der</font>(data=steam, T=T, refChoice=3, h_off=46479.819+2501014.5, dT=dT)+
         dX_steam*<font color="red">SingleGasNasa.h_Tlow</font>(data=steam,  T=T, refChoice=3, h_off=46479.819+2501014.5) +
         X_air*<font color="red">SingleGasNasa.h_Tlow_der</font>(data=dryair, T=T, refChoice=3, h_off=25104.684, dT=dT) +
         dX_air*<font color="red">SingleGasNasa.h_Tlow</font>(data=dryair, T=T, refChoice=3, h_off=25104.684) +
         X_liquid*<font color="red">enthalpyOfWater_der</font>(T=T, dT=dT) +
         dX_liq*<font color="red">enthalpyOfWater</font>(T) - dR_gas*T-R_gas*dT;
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>specificInternalEnergy_pTX_der;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE specificEntropy<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Air.MoistAir.specificEntropyI.png" ALT="Modelica.Media.Air.MoistAir.specificEntropy" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Air.MoistAir.specificEntropy"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.specificEntropy</H2>
<B>Return specific entropy from thermodynamic state record, only valid for phi&lt;1</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
Specific entropy is calculated from the thermodynamic state record, assuming ideal gas behavior and including entropy of mixing. Liquid or solid water is not taken into account, the entire water content X[1] is assumed to be in the vapor state (relative humidity below 1.0).
<pre></PRE><P>
Extends from <A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.specificEntropy"
></A> (Return specific entropy).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ThermodynamicState"
>ThermodynamicState</A></TD><TD>state</TD><TD>&nbsp;</TD><TD>thermodynamic state record</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.SpecificEntropy"
>SpecificEntropy</A></TD><TD>s</TD><TD>Specific entropy [J/(kg.K)]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">redeclare </font><font color="blue">function</font> <font color="blue">extends </font>specificEntropy <font color="darkgreen">
  &quot;Return specific entropy from thermodynamic state record, only valid for phi&lt;1&quot;</font>

<font color="blue">protected </font>
   <A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MoleFraction"
>MoleFraction</A>[2] Y =<font color="red"> massToMoleFractions</font>(state.X,{steam.MM,dryair.MM}) <font color="darkgreen">
    &quot;molar fraction&quot;</font>;
<font color="blue">algorithm </font>
  s:=<font color="red">SingleGasNasa.s0_Tlow</font>(dryair, state.T)*(1-state.X[Water])
    +<font color="red"> SingleGasNasa.s0_Tlow</font>(steam, state.T)*state.X[Water]
    - (state.X[Water]*Modelica.Constants.R/MMX[Water]*(<font color="blue">if </font>state.X[Water]&lt;Modelica.Constants.eps<font color="blue"> then </font>state.X[Water]<font color="blue"> else </font><font color="red">Modelica.Math.log</font>(Y[Water]*state.p/reference_p))
      + (1-state.X[Water])*Modelica.Constants.R/MMX[Air]*(<font color="blue">if </font>(1-state.X[Water])&lt;Modelica.Constants.eps<font color="blue"> then </font>(1-state.X[Water])<font color="blue"> else </font><font color="red">Modelica.Math.log</font>(Y[Air]*state.p/reference_p)));
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>specificEntropy;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE specificGibbsEnergy<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Air.MoistAir.specificEntropyI.png" ALT="Modelica.Media.Air.MoistAir.specificGibbsEnergy" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Air.MoistAir.specificGibbsEnergy"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.specificGibbsEnergy</H2>
<B>Return specific Gibbs energy as a function of the thermodynamic state record, only valid for phi&lt;1</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
The Gibbs Energy is computed from the thermodynamic state record for moist air with a water content below saturation.
<pre></PRE><P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A> (Icon for a function), <A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.specificGibbsEnergy"
></A> (Return specific Gibbs energy).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ThermodynamicState"
>ThermodynamicState</A></TD><TD>state</TD><TD>&nbsp;</TD><TD>thermodynamic state record</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.SpecificEnergy"
>SpecificEnergy</A></TD><TD>g</TD><TD>Specific Gibbs energy [J/kg]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">redeclare </font><font color="blue">function</font> <font color="blue">extends </font>specificGibbsEnergy <font color="darkgreen">
  &quot;Return specific Gibbs energy as a function of the thermodynamic state record, only valid for phi&lt;1&quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
<font color="blue">algorithm </font>
  g :=<font color="red"> h_pTX</font>(state.p,state.T,state.X) - state.T*<font color="red">specificEntropy</font>(state);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>specificGibbsEnergy;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE specificHelmholtzEnergy<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Air.MoistAir.specificEntropyI.png" ALT="Modelica.Media.Air.MoistAir.specificHelmholtzEnergy" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Air.MoistAir.specificHelmholtzEnergy"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.specificHelmholtzEnergy</H2>
<B>Return specific Helmholtz energy as a function of the thermodynamic state record, only valid for phi&lt;1</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
The Specific Helmholtz Energy is computed from the thermodynamic state record for moist air with a water content below saturation.
<pre></PRE><P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A> (Icon for a function), <A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.specificHelmholtzEnergy"
></A> (Return specific Helmholtz energy).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ThermodynamicState"
>ThermodynamicState</A></TD><TD>state</TD><TD>&nbsp;</TD><TD>thermodynamic state record</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.SpecificEnergy"
>SpecificEnergy</A></TD><TD>f</TD><TD>Specific Helmholtz energy [J/kg]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">redeclare </font><font color="blue">function</font> <font color="blue">extends </font>specificHelmholtzEnergy <font color="darkgreen">
  &quot;Return specific Helmholtz energy as a function of the thermodynamic state record, only valid for phi&lt;1&quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
<font color="blue">algorithm </font>
  f :=<font color="red"> h_pTX</font>(state.p,state.T,state.X) -<font color="red"> gasConstant</font>(state)*state.T - state.T*<font color="red">specificEntropy</font>(state);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>specificHelmholtzEnergy;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE specificHeatCapacityCp<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Air.MoistAir.specificEntropyI.png" ALT="Modelica.Media.Air.MoistAir.specificHeatCapacityCp" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Air.MoistAir.specificHeatCapacityCp"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.specificHeatCapacityCp</H2>
<B>Return specific heat capacity at constant pressure as a function of the thermodynamic state record</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
The specific heat capacity at constant pressure <b>cp</b> is computed from temperature and composition for a mixture of steam (X[1]) and dry air. All water is assumed to be in the vapor state.
<pre></PRE><P>
Extends from <A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.specificHeatCapacityCp"
></A> (Return specific heat capacity at constant pressure).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ThermodynamicState"
>ThermodynamicState</A></TD><TD>state</TD><TD>&nbsp;</TD><TD>thermodynamic state record</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.SpecificHeatCapacity"
>SpecificHeatCapacity</A></TD><TD>cp</TD><TD>Specific heat capacity at constant pressure [J/(kg.K)]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">redeclare </font><font color="blue">function</font> <font color="blue">extends </font>specificHeatCapacityCp <font color="darkgreen">
  &quot;Return specific heat capacity at constant pressure as a function of the thermodynamic state record&quot;</font>

<font color="blue">protected </font>
  Real dT(unit=&quot;s/K&quot;) = 1.0;
<font color="blue">algorithm </font>
  cp :=<font color="red"> h_pTX_der</font>(state.p,state.T,state.X, 0.0, 1.0,<font color="red"> zeros</font>(<font color="red">size</font>(state.X,1)))*dT <font color="darkgreen">
    &quot;Definition of cp: dh/dT @ constant p&quot;</font>;
  <font color="darkgreen">//      cp:= SingleGasNasa.cp_Tlow(dryair, state.T)*(1-state.X[Water])</font>
  <font color="darkgreen">//        + SingleGasNasa.cp_Tlow(steam, state.T)*state.X[Water];</font>
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>specificHeatCapacityCp;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE specificHeatCapacityCv<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Air.MoistAir.specificEntropyI.png" ALT="Modelica.Media.Air.MoistAir.specificHeatCapacityCv" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Air.MoistAir.specificHeatCapacityCv"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.specificHeatCapacityCv</H2>
<B>Return specific heat capacity at constant volume as a function of the thermodynamic state record</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
The specific heat capacity at constant density <b>cv</b> is computed from temperature and composition for a mixture of steam (X[1]) and dry air. All water is assumed to be in the vapor state.
<pre></PRE><P>
Extends from <A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.specificHeatCapacityCv"
></A> (Return specific heat capacity at constant volume).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ThermodynamicState"
>ThermodynamicState</A></TD><TD>state</TD><TD>&nbsp;</TD><TD>thermodynamic state record</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.SpecificHeatCapacity"
>SpecificHeatCapacity</A></TD><TD>cv</TD><TD>Specific heat capacity at constant volume [J/(kg.K)]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">redeclare </font><font color="blue">function</font> <font color="blue">extends </font>specificHeatCapacityCv <font color="darkgreen">
  &quot;Return specific heat capacity at constant volume as a function of the thermodynamic state record&quot;</font>

<font color="blue">algorithm </font>
  cv:=<font color="red"> SingleGasNasa.cp_Tlow</font>(dryair, state.T)*(1-state.X[Water]) +
    <font color="red">SingleGasNasa.cp_Tlow</font>(steam, state.T)*state.X[Water]
    -<font color="red"> gasConstant</font>(state);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>specificHeatCapacityCv;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE dynamicViscosity<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Air.MoistAir.specificEntropyI.png" ALT="Modelica.Media.Air.MoistAir.dynamicViscosity" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Air.MoistAir.dynamicViscosity"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.dynamicViscosity</H2>
<B>Return dynamic viscosity as a function of the thermodynamic state record, valid from 73.15 K to 373.15 K</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
Dynamic viscosity is computed from temperature using a simple polynomial for dry air, assuming that moisture influence is small. Range of  validity is from 73.15 K to 373.15 K.
<pre></PRE><P>
Extends from <A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.dynamicViscosity"
></A> (Return dynamic viscosity).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ThermodynamicState"
>ThermodynamicState</A></TD><TD>state</TD><TD>&nbsp;</TD><TD>thermodynamic state record</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.DynamicViscosity"
>DynamicViscosity</A></TD><TD>eta</TD><TD>Dynamic viscosity [Pa.s]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">redeclare </font><font color="blue">function</font> <font color="blue">extends </font>dynamicViscosity <font color="darkgreen">
  &quot;Return dynamic viscosity as a function of the thermodynamic state record, valid from 73.15 K to 373.15 K&quot;</font>

    <font color="blue">import </font><A HREF="Modelica_Media_Incompressible_TableBased_Polynomials_Temp.html#Modelica.Media.Incompressible.TableBased.Polynomials_Temp"
>Modelica.Media.Incompressible.TableBased.Polynomials_Temp</A>;
<font color="blue">algorithm </font>
  eta :=<font color="red"> Polynomials_Temp.evaluate</font>({(-4.96717436974791E-011), 5.06626785714286E-008, 1.72937731092437E-005},
       <font color="red">Cv.to_degC</font>(state.T));
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>dynamicViscosity;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE thermalConductivity<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Air.MoistAir.specificEntropyI.png" ALT="Modelica.Media.Air.MoistAir.thermalConductivity" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Air.MoistAir.thermalConductivity"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.thermalConductivity</H2>
<B>Return thermal conductivity as a function of the thermodynamic state record, valid from 73.15 K to 373.15 K</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
Thermal conductivity is computed from temperature using a simple polynomial for dry air, assuming that moisture influence is small. Range of  validity is from 73.15 K to 373.15 K.
<pre></PRE><P>
Extends from <A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.thermalConductivity"
></A> (Return thermal conductivity).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ThermodynamicState"
>ThermodynamicState</A></TD><TD>state</TD><TD>&nbsp;</TD><TD>thermodynamic state record</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.ThermalConductivity"
>ThermalConductivity</A></TD><TD>lambda</TD><TD>Thermal conductivity [W/(m.K)]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">redeclare </font><font color="blue">function</font> <font color="blue">extends </font>thermalConductivity <font color="darkgreen">
  &quot;Return thermal conductivity as a function of the thermodynamic state record, valid from 73.15 K to 373.15 K&quot;</font>

    <font color="blue">import </font><A HREF="Modelica_Media_Incompressible_TableBased_Polynomials_Temp.html#Modelica.Media.Incompressible.TableBased.Polynomials_Temp"
>Modelica.Media.Incompressible.TableBased.Polynomials_Temp</A>;
<font color="blue">algorithm </font>
  lambda :=<font color="red"> Polynomials_Temp.evaluate</font>({(-4.8737307422969E-008), 7.67803133753502E-005, 0.0241814385504202},
   <font color="red">Cv.to_degC</font>(state.T));
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>thermalConductivity;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE PsychrometricData<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Air.MoistAir.PsychrometricDataI.png" ALT="Modelica.Media.Air.MoistAir.PsychrometricData" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Air.MoistAir.PsychrometricData"></A><A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A>.PsychrometricData</H2>
<B>Produces plot data for psychrometric charts</B><p>
<P><H3>Information</H3></P>
<PRE></pre>
<p>This model produces psychrometric data from the moist air model in this library to be plotted in charts. The two most common chart varieties are the Mollier Diagram and the Psycrometric Chart. The first is widely used in some European countries while the second is more common in the Anglo-American world. Specific enthalpy is plotted over absolute humidity in the Mollier Diagram, it is the other way round in the Psychrometric Chart.<br>
It must be noted that the relationship of both axis variables is not right-angled, the absolute humidity follows a slope which equals the enthalpy of vaporization at 0°C. For better reading and in oder to reduce the fog region the humidity axis is rotated to obtain a right-angled plot. Both charts usually contain additional information as isochores or auxiliary scales for e.g. heat ratios. Those information are omitted in this model and the charts below. Other important features of psychrometric chart data are that all mass specific variables (like absolute humidity, specific enthalpy etc.) are expressed in terms of kg dry air and that their baseline of 0 enthalpy is found at 0°C and zero humidity. </p>

<p><img src="../../Modelica/Images/Media/Air/Mollier.png">
<img src="../../Modelica/Images/Media/Air/PsycroChart.png"></p>
<p>
<b>Legend:</b> blue - constant specific enthalpy, red - constant temperature, black - constant relative humidity</p>

<p>The model provides data for lines of constant specific enthalpy, temperature and relative humidity in a Mollier Diagram or Psychrometric Chart as they were used for the figures above. For limitations and ranges of validity please refer to the <a href=Modelica://Modelica.Media.Air.MoistAir>MoistAir package description</a>. Absolute humidity <b>x</b> is increased with time in this model. The specific enthalpies adjusted for plotting are then obtained from:</p>
<ul>
<li><b>y_h</b>: constant specific enthalpy</li>
<li><b>y_T</b>: constant temperature</li>
<li><b>y_phi</b>: constant relative humidity</li>
</ul>
<pre></PRE><P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for an example model).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>p_const</TD><TD>1e5</TD><TD>Pressure [Pa]</TD></TR>
<TR><TD>Integer</TD><TD>n_T</TD><TD>11</TD><TD>Number of isotherms</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T_min</TD><TD>253.15</TD><TD>Lowest isotherm [K]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T_step</TD><TD>10</TD><TD>Temperature step between two isotherms [K]</TD></TR>
<TR><TD>Integer</TD><TD>n_h</TD><TD>16</TD><TD>Number of lines with constant specific enthalpy</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</A></TD><TD>h_min</TD><TD>-20e3</TD><TD>Lowest line of constant enthalpy [J/kg]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</A></TD><TD>h_step</TD><TD>1e4</TD><TD>Enthalpy step between two lines of constant enthalpy [J/kg]</TD></TR>
<TR><TD>Integer</TD><TD>n_phi</TD><TD>10</TD><TD>Number of lines with constant relative humidity</TD></TR>
<TR><TD>Real</TD><TD>phi_min</TD><TD>0.1</TD><TD>Lowest line of constant humidity</TD></TR>
<TR><TD>Real</TD><TD>phi_step</TD><TD>0.1</TD><TD>Step between two lines of constant humidity</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>MassFraction</A></TD><TD>x_min</TD><TD>0.00</TD><TD>Minimum diagram absolute humidity [1]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>MassFraction</A></TD><TD>x_max</TD><TD>0.03</TD><TD>Maximum diagram absolute humidity [1]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>t</TD><TD>1</TD><TD>Simulation time [s]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> PsychrometricData <font color="darkgreen">&quot;Produces plot data for psychrometric charts&quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;
  <font color="blue">package</font> Medium = <A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>Modelica.Media.Air.MoistAir</A> <font color="darkgreen">&quot;Used medium package&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>SIunits.Pressure</A> p_const=1e5 <font color="darkgreen">&quot;Pressure&quot;</font>;
  <font color="blue">parameter </font>Integer n_T=11 <font color="darkgreen">&quot;Number of isotherms&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>SIunits.Temperature</A> T_min=253.15 <font color="darkgreen">&quot;Lowest isotherm&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>SIunits.Temperature</A> T_step=10 <font color="darkgreen">
    &quot;Temperature step between two isotherms&quot;</font>;
  <font color="blue">parameter </font>Integer n_h=16 <font color="darkgreen">&quot;Number of lines with constant specific enthalpy&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SIunits.SpecificEnthalpy</A> h_min=-20e3 <font color="darkgreen">
    &quot;Lowest line of constant enthalpy&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SIunits.SpecificEnthalpy</A> h_step=1e4 <font color="darkgreen">
    &quot;Enthalpy step between two lines of constant enthalpy&quot;</font>;
  <font color="blue">parameter </font>Integer n_phi=10 <font color="darkgreen">&quot;Number of lines with constant relative humidity&quot;</font>;
  <font color="blue">parameter </font>Real phi_min=0.1 <font color="darkgreen">&quot;Lowest line of constant humidity&quot;</font>;
  <font color="blue">parameter </font>Real phi_step=0.1 <font color="darkgreen">&quot;Step between two lines of constant humidity&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>SIunits.MassFraction</A> x_min=0.00 <font color="darkgreen">&quot;Minimum diagram absolute humidity&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>SIunits.MassFraction</A> x_max=0.03 <font color="darkgreen">&quot;Maximum diagram absolute humidity&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SIunits.Time</A> t=1 <font color="darkgreen">&quot;Simulation time&quot;</font>;

  <font color="blue">final </font><font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>SIunits.Temperature</A>[n_T] T_const={T_min - T_step + i*T_step <font color="blue">for </font>i<font color="blue"> in </font>
          1:n_T} <font color="darkgreen">&quot;Constant temperatures&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SIunits.SpecificEnthalpy</A>[n_h] h_const={(i-1)*h_step+h_min <font color="blue">for </font>i<font color="blue"> in </font>1:n_h} <font color="darkgreen">
    &quot;Constant enthalpies&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font>Real[n_phi] phi_const={(i-1)*phi_step+phi_min <font color="blue">for </font>i<font color="blue"> in </font>1:n_phi} <font color="darkgreen">
    &quot;Constant relative humidities&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font>Real diagSlope=<font color="red">Medium.enthalpyOfVaporization</font>(273.15) <font color="darkgreen">
    &quot;Rotation of diagram that zero degrees isotherm becomes horizontal outside the fog region&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>SIunits.MassFraction</A> x_start=x_min <font color="darkgreen">
    &quot;Initial absolute humidity in kg water/kg dry air&quot;</font>;

  <A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>SIunits.MassFraction</A> x(start=x_start) <font color="darkgreen">
    &quot;Absolute humidity in kg water/kg dry air&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SIunits.SpecificEnthalpy</A>[n_T] hx_T <font color="darkgreen">&quot;h_1+x for const T&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SIunits.SpecificEnthalpy</A>[n_h] hx_h(start=h_const) <font color="darkgreen">&quot;Const h_1+x&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SIunits.SpecificEnthalpy</A>[n_phi] hx_phi <font color="darkgreen">&quot;h_1+x for const phi&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SIunits.SpecificEnthalpy</A>[n_T] y_T <font color="darkgreen">&quot;Chart enthalpy for const T&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SIunits.SpecificEnthalpy</A>[n_h] y_h <font color="darkgreen">&quot;Chart enthalpy for const h&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SIunits.SpecificEnthalpy</A>[n_phi] y_phi <font color="darkgreen">&quot;Chart enthalpy for const phi&quot;</font>;
  <A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.BaseProperties"
>Medium.BaseProperties</A>[n_T] medium_T <font color="darkgreen">&quot;Medium properties for const T&quot;</font>;
  <A HREF="Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir.BaseProperties"
>Medium.BaseProperties</A>[n_phi] medium_phi <font color="darkgreen">&quot;Medium properties for const phi&quot;</font>;

<font color="blue">protected </font>
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>SIunits.Pressure</A>[n_phi] ps_phi <font color="darkgreen">&quot;Saturation pressure for constant-phi-lines&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>SIunits.Temperature</A>[n_phi] T_phi(<font color="blue">each </font>start=290);
  Boolean[n_T] fog(start=<font color="red">fill</font>(false, n_T)) <font color="darkgreen">
    &quot;Triggers events at intersection of isotherms with phi=1&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>SIunits.Pressure</A>[n_T] pd <font color="darkgreen">&quot;Steam partial pressure along isotherms&quot;</font>;
<font color="blue">initial </font><font color="blue">equation </font>
  x = x_min;
<font color="blue">equation </font>

  <font color="red">der</font>(x) = (x_max - x_min)/t;

  <font color="blue">for </font>i<font color="blue"> in </font>1:n_T<font color="blue"> loop</font>
    medium_T[i].T=T_const[i];
    medium_T[i].p=p_const;
    medium_T[i].Xi = {x/(1 + x)};
    hx_T[i] = medium_T[i].h*(medium_T[i].x_water + 1);
    y_T[i] = hx_T[i] - diagSlope*x;

    <font color="darkgreen">//trigger events</font>
    pd[i] = medium_T[i].Xi[1]*medium_T[i].MM/MMX[1]*p_const;
    fog[i] = pd[i] &gt;=<font color="red"> Medium.saturationPressure</font>(T_const[i]);
  <font color="blue">end for</font>;
  <font color="blue">for </font>i<font color="blue"> in </font>1:n_h<font color="blue"> loop</font>
    <font color="red">der</font>(hx_h[i]) = 0.0;
    y_h[i] = hx_h[i] - diagSlope*x;
  <font color="blue">end for</font>;
  <font color="blue">for </font>i<font color="blue"> in </font>1:n_phi<font color="blue"> loop</font>
    medium_phi[i].p=p_const;
    ps_phi[i] = p_const*x/phi_const[i]/(Medium.k_mair + x);
    T_phi[i] = <font color="blue">if </font>x &lt; 5e-6<font color="blue"> then </font>200<font color="blue"> else </font><font color="red">Medium.saturationTemperature</font>(
      ps_phi[i]);
    medium_phi[i].T = T_phi[i];
    medium_phi[i].Xi = {x/(1 + x)};
    hx_phi[i] = medium_phi[i].h*(medium_phi[i].x_water + 1);
    y_phi[i] = hx_phi[i] - diagSlope*x;
  <font color="blue">end for</font>;

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>PsychrometricData;
</PRE>
<HR>
<address>HTML-documentation generated by <a href="http://www.Dymola.com/">Dymola</a> Sun Jan 17 21:12:25 2010.
</address></BODY>
</HTML>
