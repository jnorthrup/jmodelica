<HTML>
<HEAD>
<TITLE>Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic</TITLE>
<META name="HTML-Generator" content="Dymola">
<META name="description" content="&quot;functions for calculating the isentropic enthalpy from pressure p and specific entropy s&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial,sans-serif; }
pre     { font-size:  9pt; font-family: Courier,monospace;}
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address {                  font-weight: normal} 
td      { solid #000; vertical-align:top; }
th      { solid #000; vertical-align:top; font-weight: bold; }
table   { solid #000; border-collapse: collapse;}
</style>
</HEAD>
<BODY><P>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Isentropic<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic"></A><A HREF="Modelica_Media_Water_IF97_Utilities_BaseIF97.html#Modelica.Media.Water.IF97_Utilities.BaseIF97"
>Modelica.Media.Water.IF97_Utilities.BaseIF97</A>.Isentropic</H2>
<B>functions for calculating the isentropic enthalpy from pressure p and specific entropy s</B>
<P>
<P><H3>Information</H3></P>
<PRE></pre><h4>Package description</h4>
          <p></p>
          <h4>Package contents</h4>
          <p>
          <ul>
          <li>Function <b>hofpT1</b> computes h(p,T) in region 1.</li>
          <li>Function <b>handsofpT1</b> computes (s,h)=f(p,T) in region 1, needed for two-phase properties.</li>
          <li>Function <b>hofps1</b> computes h(p,s) in region 1.</li>
          <li>Function <b>hofpT2</b> computes h(p,T) in region 2.</li>
          <li>Function <b>handsofpT2</b> computes (s,h)=f(p,T) in region 2, needed for two-phase properties.</li>
          <li>Function <b>hofps2</b> computes h(p,s) in region 2.</li>
          <li>Function <b>hofdT3</b> computes h(d,T) in region 3.</li>
          <li>Function <b>hofpsdt3</b> computes h(p,s,dguess,Tguess) in region 3, where dguess and Tguess are initial guess
          values for the density and temperature consistent with p and s.</li>
          <li>Function <b>hofps4</b> computes h(p,s) in region 4.</li>
          <li>Function <b>hofpT5</b> computes h(p,T) in region 5.</li>
          <li>Function <b>water_hisentropic</b> computes h(p,s,phase) in all regions.
          The phase input is needed due to discontinuous derivatives at the phase boundary.</li>
          <li>Function <b>water_hisentropic_dyn</b> computes h(p,s,dguess,Tguess,phase) in all regions.
          The phase input is needed due to discontinuous derivatives at the phase boundary. Tguess and dguess are initial guess
          values for the density and temperature consistent with p and s. This function should be preferred in
          dynamic simulations where good guesses are often available.</li>
          </ul>
          </p>
          <h4>Version Info and Revision history
          </h4>
          <ul>
          <li>First implemented: <i>July, 2000</i>
          by <a href="http://www.control.lth.se/~hubertus/">Hubertus Tummescheit</a>
          </li>
          </ul>
          <address>Author: Hubertus Tummescheit, <br>
      Modelon AB<br>
      Ideon Science Park<br>
      SE-22370 Lund, Sweden<br>
      email: hubertus@modelon.se
          </address>
          <ul>
          <li>Initial version: July 2000</li>
          <li>Documentation added: December 2002</li>
          </ul>
          <pre>
          </PRE><P>
Extends from <A HREF="Modelica_Icons_Library.html#Modelica.Icons.Library"
>Modelica.Icons.Library</A> (Icon for library).
<P><H3>Package Content</H3><p>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2 >
<TR><TH >Name</TH><TH>Description</TH></TR>
<TR><TD><IMG SRC="Modelica.Media.Water.IF97_Utilities.BaseIF97.extraDerivs_phS.png" ALT="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofpT1" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Water_IF97_Utilities_BaseIF97_Isentropic.html#Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofpT1"
>hofpT1</A>
</TD><TD>intermediate function for isentropic specific enthalpy in region 1</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Water.IF97_Utilities.BaseIF97.extraDerivs_phS.png" ALT="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.handsofpT1" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Water_IF97_Utilities_BaseIF97_Isentropic.html#Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.handsofpT1"
>handsofpT1</A>
</TD><TD>special function for specific enthalpy and specific entropy in region 1</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Water.IF97_Utilities.BaseIF97.extraDerivs_phS.png" ALT="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofps1" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Water_IF97_Utilities_BaseIF97_Isentropic.html#Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofps1"
>hofps1</A>
</TD><TD>function for isentropic specific enthalpy in region 1</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Water.IF97_Utilities.BaseIF97.extraDerivs_phS.png" ALT="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofpT2" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Water_IF97_Utilities_BaseIF97_Isentropic.html#Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofpT2"
>hofpT2</A>
</TD><TD>intermediate function for isentropic specific enthalpy in region 2</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Water.IF97_Utilities.BaseIF97.extraDerivs_phS.png" ALT="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.handsofpT2" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Water_IF97_Utilities_BaseIF97_Isentropic.html#Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.handsofpT2"
>handsofpT2</A>
</TD><TD>function for isentropic specific enthalpy and specific entropy in region 2</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Water.IF97_Utilities.BaseIF97.extraDerivs_phS.png" ALT="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofps2" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Water_IF97_Utilities_BaseIF97_Isentropic.html#Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofps2"
>hofps2</A>
</TD><TD>function for isentropic specific enthalpy in region 2</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Water.IF97_Utilities.BaseIF97.extraDerivs_phS.png" ALT="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofdT3" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Water_IF97_Utilities_BaseIF97_Isentropic.html#Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofdT3"
>hofdT3</A>
</TD><TD>function for isentropic specific enthalpy in region 3</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Water.IF97_Utilities.BaseIF97.extraDerivs_phS.png" ALT="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofps3" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Water_IF97_Utilities_BaseIF97_Isentropic.html#Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofps3"
>hofps3</A>
</TD><TD>isentropic specific enthalpy in region 3 h(p,s)</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Water.IF97_Utilities.BaseIF97.extraDerivs_phS.png" ALT="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofpsdt3" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Water_IF97_Utilities_BaseIF97_Isentropic.html#Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofpsdt3"
>hofpsdt3</A>
</TD><TD>isentropic specific enthalpy in region 3 h(p,s) with given good guess in d and T</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Water.IF97_Utilities.BaseIF97.extraDerivs_phS.png" ALT="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofps4" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Water_IF97_Utilities_BaseIF97_Isentropic.html#Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofps4"
>hofps4</A>
</TD><TD>isentropic specific enthalpy in region 4 h(p,s)</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Water.IF97_Utilities.BaseIF97.extraDerivs_phS.png" ALT="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofpT5" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Water_IF97_Utilities_BaseIF97_Isentropic.html#Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofpT5"
>hofpT5</A>
</TD><TD>specific enthalpy in region 5 h(p,T)</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Water.IF97_Utilities.BaseIF97.extraDerivs_phS.png" ALT="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.water_hisentropic" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Water_IF97_Utilities_BaseIF97_Isentropic.html#Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.water_hisentropic"
>water_hisentropic</A>
</TD><TD>isentropic specific enthalpy from p,s (preferably use water_hisentropic_dyn in dynamic simulation!)</TD></TR>
<TR><TD><IMG SRC="Modelica.Media.Water.IF97_Utilities.BaseIF97.extraDerivs_phS.png" ALT="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.water_hisentropic_dyn" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Media_Water_IF97_Utilities_BaseIF97_Isentropic.html#Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.water_hisentropic_dyn"
>water_hisentropic_dyn</A>
</TD><TD>isentropic specific enthalpy from p,s and good guesses of d and T</TD></TR>
</TABLE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE hofpT1<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofpT1I.png" ALT="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofpT1" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofpT1"></A><A HREF="Modelica_Media_Water_IF97_Utilities_BaseIF97_Isentropic.html#Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic"
>Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic</A>.hofpT1</H2>
<B>intermediate function for isentropic specific enthalpy in region 1</B><p>
<P><H3>Information</H3></P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A> (Icon for a function).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>p</TD><TD>&nbsp;</TD><TD>pressure [Pa]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T</TD><TD>&nbsp;</TD><TD>temperature (K) [K]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</A></TD><TD>h</TD><TD>specific enthalpy [J/kg]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> hofpT1 <font color="darkgreen">
  &quot;intermediate function for isentropic specific enthalpy in region 1&quot;</font>

  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>SI.Pressure</A> p <font color="darkgreen">&quot;pressure&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>SI.Temperature</A> T <font color="darkgreen">&quot;temperature (K)&quot;</font>;
  <font color="blue">output </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SI.SpecificEnthalpy</A> h <font color="darkgreen">&quot;specific enthalpy&quot;</font>;
<font color="blue">protected </font>
  Real[13] o <font color="darkgreen">&quot;vector of auxiliary variables&quot;</font>;
  Real pi1 <font color="darkgreen">&quot;dimensionless pressure&quot;</font>;
  Real tau <font color="darkgreen">&quot;dimensionless temperature&quot;</font>;
  Real tau1 <font color="darkgreen">&quot;dimensionless temperature&quot;</font>;
<font color="blue">algorithm </font>
  tau := data.TSTAR1/T;
  pi1 := 7.1 - p/data.PSTAR1;
  <font color="red">assert</font>(p &gt; triple.ptriple,
    &quot;IF97 medium function hofpT1  called with too low pressure\n&quot; +
    &quot;p = &quot; +<font color="red"> String</font>(p) + &quot; Pa &lt;= &quot; +<font color="red"> String</font>(triple.ptriple) + &quot; Pa (triple point pressure)&quot;);
  tau1 := -1.222 + tau;
  o[1] := tau1*tau1;
  o[2] := o[1]*tau1;
  o[3] := o[1]*o[1];
  o[4] := o[3]*o[3];
  o[5] := o[1]*o[4];
  o[6] := o[1]*o[3];
  o[7] := o[3]*tau1;
  o[8] := o[3]*o[4];
  o[9] := pi1*pi1;
  o[10] := o[9]*o[9];
  o[11] := o[10]*o[10];
  o[12] := o[4]*o[4];
  o[13] := o[12]*o[12];

  h := data.RH2O*T*tau*(pi1*((-0.00254871721114236 + o[1]*(
    0.00424944110961118 + (0.018990068218419 + (-0.021841717175414 -
    0.00015851507390979*o[1])*o[1])*o[6]))/o[5] + pi1*((
    0.00141552963219801 + o[3]*(0.000047661393906987 + o[1]*(-0.0000132425535992538
     - 1.2358149370591e-14*o[1]*o[3]*o[4])))/o[3] + pi1*((
    0.000126718579380216 - 5.11230768720618e-9*o[5])/o[7] + pi1*((
    0.000011212640954 + o[2]*(1.30342445791202e-6 - 1.4341729937924e-12*o[
    8]))/o[6] + pi1*(o[9]*pi1*((1.40077319158051e-8 + 1.04549227383804e-9
    *o[7])/o[8] + o[10]*o[11]*pi1*(1.9941018075704e-17/(o[1]*o[12]*o[3]*o[
    4]) + o[9]*(-4.48827542684151e-19/o[13] + o[10]*o[9]*(pi1*(
    4.65957282962769e-22/(o[13]*o[4]) + pi1*((3.83502057899078e-24*pi1)/(
    o[1]*o[13]*o[4]) - 7.2912378325616e-23/(o[13]*o[4]*tau1))) -
    1.00075970318621e-21/(o[1]*o[13]*o[3]*tau1))))) + 3.24135974880936e-6
    /(o[4]*tau1)))))) + (-0.29265942426334 + tau1*(0.84548187169114 + o[1]
    *(3.3855169168385 + tau1*(-1.91583926775744 + tau1*(0.47316115539684
     + (-0.066465668798004 + 0.0040607314991784*tau1)*tau1)))))/o[2]);
<font color="blue">end </font>hofpT1;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE handsofpT1<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofpT1I.png" ALT="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.handsofpT1" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.handsofpT1"></A><A HREF="Modelica_Media_Water_IF97_Utilities_BaseIF97_Isentropic.html#Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic"
>Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic</A>.handsofpT1</H2>
<B>special function for specific enthalpy and specific entropy in region 1</B><p>
<P><H3>Information</H3></P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A> (Icon for a function).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>p</TD><TD>&nbsp;</TD><TD>pressure [Pa]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T</TD><TD>&nbsp;</TD><TD>temperature (K) [K]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</A></TD><TD>h</TD><TD>specific enthalpy [J/kg]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEntropy"
>SpecificEntropy</A></TD><TD>s</TD><TD>specific entropy [J/(kg.K)]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> handsofpT1 <font color="darkgreen">
  &quot;special function for specific enthalpy and specific entropy in region 1&quot;</font>

  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>SI.Pressure</A> p <font color="darkgreen">&quot;pressure&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>SI.Temperature</A> T <font color="darkgreen">&quot;temperature (K)&quot;</font>;
  <font color="blue">output </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SI.SpecificEnthalpy</A> h <font color="darkgreen">&quot;specific enthalpy&quot;</font>;
  <font color="blue">output </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEntropy"
>SI.SpecificEntropy</A> s <font color="darkgreen">&quot;specific entropy&quot;</font>;
<font color="blue">protected </font>
  Real[28] o <font color="darkgreen">&quot;vector of auxiliary variables&quot;</font>;
  Real pi1 <font color="darkgreen">&quot;dimensionless pressure&quot;</font>;
  Real tau <font color="darkgreen">&quot;dimensionless temperature&quot;</font>;
  Real tau1 <font color="darkgreen">&quot;dimensionless temperature&quot;</font>;
  Real g <font color="darkgreen">&quot;dimensionless Gibbs energy&quot;</font>;
  Real gtau <font color="darkgreen">&quot;derivative of  dimensionless Gibbs energy w.r.t. tau&quot;</font>;
<font color="blue">algorithm </font>
  <font color="red">assert</font>(p &gt; triple.ptriple,
    &quot;IF97 medium function handsofpT1 called with too low pressure\n&quot; +
    &quot;p = &quot; +<font color="red"> String</font>(p) + &quot; Pa &lt;= &quot; +<font color="red"> String</font>(triple.ptriple) + &quot; Pa (triple point pressure)&quot;);
  tau := data.TSTAR1/T;
  pi1 := 7.1 - p/data.PSTAR1;
  tau1 := -1.222 + tau;
  o[1] := tau1*tau1;
  o[2] := o[1]*o[1];
  o[3] := o[2]*o[2];
  o[4] := o[3]*tau1;
  o[5] := 1/o[4];
  o[6] := o[1]*o[2];
  o[7] := o[1]*tau1;
  o[8] := 1/o[7];
  o[9] := o[1]*o[2]*o[3];
  o[10] := 1/o[2];
  o[11] := o[2]*tau1;
  o[12] := 1/o[11];
  o[13] := o[2]*o[3];
  o[14] := pi1*pi1;
  o[15] := o[14]*pi1;
  o[16] := o[14]*o[14];
  o[17] := o[16]*o[16];
  o[18] := o[16]*o[17]*pi1;
  o[19] := o[14]*o[16];
  o[20] := o[3]*o[3];
  o[21] := o[20]*o[20];
  o[22] := o[21]*o[3]*tau1;
  o[23] := 1/o[22];
  o[24] := o[21]*o[3];
  o[25] := 1/o[24];
  o[26] := o[1]*o[2]*o[21]*tau1;
  o[27] := 1/o[26];
  o[28] := o[1]*o[3];

  g := pi1*(pi1*(pi1*(o[10]*(-0.000031679644845054 + o[2]*(-2.8270797985312e-6
     - 8.5205128120103e-10*o[6])) + pi1*(o[12]*(-2.2425281908e-6 + (-6.5171222895601e-7
     - 1.4341729937924e-13*o[13])*o[7]) + pi1*(-4.0516996860117e-7/o[3]
     + o[15]*(o[18]*(o[14]*(o[19]*(2.6335781662795e-23/(o[1]*o[2]*o[21])
     + pi1*(-1.1947622640071e-23*o[27] + pi1*(1.8228094581404e-24*o[25]
     - 9.3537087292458e-26*o[23]*pi1))) + 1.4478307828521e-20/(o[1]*o[2]*
    o[20]*o[3]*tau1)) - 6.8762131295531e-19/(o[2]*o[20]*o[3]*tau1)) + (-1.2734301741641e-9
     - 1.7424871230634e-10*o[11])/(o[1]*o[3]*tau1))))) + o[8]*(-0.00047184321073267
     + o[7]*(-0.00030001780793026 + (0.000047661393906987 + o[1]*(-4.4141845330846e-6
     - 7.2694996297594e-16*o[9]))*tau1))) + o[5]*(0.00028319080123804 + o[
    1]*(-0.00060706301565874 + o[6]*(-0.018990068218419 + tau1*(-0.032529748770505
     + (-0.021841717175414 - 0.00005283835796993*o[1])*tau1))))) + (
    0.14632971213167 + tau1*(-0.84548187169114 + tau1*(-3.756360367204 +
    tau1*(3.3855169168385 + tau1*(-0.95791963387872 + tau1*(
    0.15772038513228 + (-0.016616417199501 + 0.00081214629983568*tau1)*
    tau1))))))/o[1];

  gtau := pi1*((-0.00254871721114236 + o[1]*(0.00424944110961118 + (
    0.018990068218419 + (-0.021841717175414 - 0.00015851507390979*o[1])*o[
    1])*o[6]))/o[28] + pi1*(o[10]*(0.00141552963219801 + o[2]*(
    0.000047661393906987 + o[1]*(-0.0000132425535992538 -
    1.2358149370591e-14*o[9]))) + pi1*(o[12]*(0.000126718579380216 -
    5.11230768720618e-9*o[28]) + pi1*((0.000011212640954 + (
    1.30342445791202e-6 - 1.4341729937924e-12*o[13])*o[7])/o[6] + pi1*(
    3.24135974880936e-6*o[5] + o[15]*((1.40077319158051e-8 +
    1.04549227383804e-9*o[11])/o[13] + o[18]*(1.9941018075704e-17/(o[1]*o[
    2]*o[20]*o[3]) + o[14]*(-4.48827542684151e-19/o[21] + o[19]*(-1.00075970318621e-21
    *o[27] + pi1*(4.65957282962769e-22*o[25] + pi1*(-7.2912378325616e-23*
    o[23] + (3.83502057899078e-24*pi1)/(o[1]*o[21]*o[3])))))))))))) + o[8]
    *(-0.29265942426334 + tau1*(0.84548187169114 + o[1]*(3.3855169168385
     + tau1*(-1.91583926775744 + tau1*(0.47316115539684 + (-0.066465668798004
     + 0.0040607314991784*tau1)*tau1)))));

  h := data.RH2O*T*tau*gtau;
  s := data.RH2O*(tau*gtau - g);
<font color="blue">end </font>handsofpT1;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE hofps1<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofpT1I.png" ALT="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofps1" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofps1"></A><A HREF="Modelica_Media_Water_IF97_Utilities_BaseIF97_Isentropic.html#Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic"
>Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic</A>.hofps1</H2>
<B>function for isentropic specific enthalpy in region 1</B><p>
<P><H3>Information</H3></P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A> (Icon for a function).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>p</TD><TD>&nbsp;</TD><TD>pressure [Pa]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEntropy"
>SpecificEntropy</A></TD><TD>s</TD><TD>&nbsp;</TD><TD>specific entropy [J/(kg.K)]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</A></TD><TD>h</TD><TD>specific enthalpy [J/kg]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> hofps1 <font color="darkgreen">
  &quot;function for isentropic specific enthalpy in region 1&quot;</font>

  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>SI.Pressure</A> p <font color="darkgreen">&quot;pressure&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEntropy"
>SI.SpecificEntropy</A> s <font color="darkgreen">&quot;specific entropy&quot;</font>;
  <font color="blue">output </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SI.SpecificEnthalpy</A> h <font color="darkgreen">&quot;specific enthalpy&quot;</font>;
<font color="blue">protected </font>
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>SI.Temperature</A> T <font color="darkgreen">&quot;temperature (K)&quot;</font>;
<font color="blue">algorithm </font>
  T :=<font color="red"> Basic.tps1</font>(p, s);
  h :=<font color="red"> hofpT1</font>(p, T);
<font color="blue">end </font>hofps1;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE hofpT2<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofpT1I.png" ALT="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofpT2" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofpT2"></A><A HREF="Modelica_Media_Water_IF97_Utilities_BaseIF97_Isentropic.html#Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic"
>Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic</A>.hofpT2</H2>
<B>intermediate function for isentropic specific enthalpy in region 2</B><p>
<P><H3>Information</H3></P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A> (Icon for a function).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>p</TD><TD>&nbsp;</TD><TD>pressure [Pa]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T</TD><TD>&nbsp;</TD><TD>temperature (K) [K]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</A></TD><TD>h</TD><TD>specific enthalpy [J/kg]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> hofpT2 <font color="darkgreen">
  &quot;intermediate function for isentropic specific enthalpy in region 2&quot;</font>

  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>SI.Pressure</A> p <font color="darkgreen">&quot;pressure&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>SI.Temperature</A> T <font color="darkgreen">&quot;temperature (K)&quot;</font>;
  <font color="blue">output </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SI.SpecificEnthalpy</A> h <font color="darkgreen">&quot;specific enthalpy&quot;</font>;
<font color="blue">protected </font>
  Real[16] o <font color="darkgreen">&quot;vector of auxiliary variables&quot;</font>;
  Real pi <font color="darkgreen">&quot;dimensionless pressure&quot;</font>;
  Real tau <font color="darkgreen">&quot;dimensionless temperature&quot;</font>;
  Real tau2 <font color="darkgreen">&quot;dimensionless temperature&quot;</font>;
<font color="blue">algorithm </font>
  <font color="red">assert</font>(p &gt; triple.ptriple,
    &quot;IF97 medium function hofpT2 called with too low pressure\n&quot; +
    &quot;p = &quot; +<font color="red"> String</font>(p) + &quot; Pa &lt;= &quot; +<font color="red"> String</font>(triple.ptriple) + &quot; Pa (triple point pressure)&quot;);
  pi := p/data.PSTAR2;
  tau := data.TSTAR2/T;
  tau2 := -0.5 + tau;
  o[1] := tau*tau;
  o[2] := o[1]*o[1];
  o[3] := tau2*tau2;
  o[4] := o[3]*tau2;
  o[5] := o[3]*o[3];
  o[6] := o[5]*o[5];
  o[7] := o[6]*o[6];
  o[8] := o[5]*o[6]*o[7]*tau2;
  o[9] := o[3]*o[5];
  o[10] := o[5]*o[6]*tau2;
  o[11] := o[3]*o[7]*tau2;
  o[12] := o[3]*o[5]*o[6];
  o[13] := o[5]*o[6]*o[7];
  o[14] := pi*pi;
  o[15] := o[14]*o[14];
  o[16] := o[7]*o[7];

  h := data.RH2O*T*tau*((0.0280439559151 + tau*(-0.2858109552582 + tau*(
    1.2213149471784 + tau*(-2.848163942888 + tau*(4.38395111945 + o[1]*(
    10.08665568018 + (-0.5681726521544 + 0.06380539059921*tau)*tau))))))/
    (o[1]*o[2]) + pi*(-0.017834862292358 + tau2*(-0.09199202739273 + (-0.172743777250296
     - 0.30195167236758*o[4])*tau2) + pi*(-0.000033032641670203 + (-0.0003789797503263
     + o[3]*(-0.015757110897342 + o[4]*(-0.306581069554011 -
    0.000960283724907132*o[8])))*tau2 + pi*(4.3870667284435e-7 + o[3]*(-0.00009683303171571
     + o[4]*(-0.0090203547252888 - 1.42338887469272*o[8])) + pi*(-7.8847309559367e-10
     + (2.558143570457e-8 + 1.44676118155521e-6*tau2)*tau2 + pi*(
    0.0000160454534363627*o[9] + pi*((-5.0144299353183e-11 + o[10]*(-0.033874355714168
     - 836.35096769364*o[11]))*o[3] + pi*((-0.0000138839897890111 -
    0.973671060893475*o[12])*o[3]*o[6] + pi*((9.0049690883672e-11 -
    296.320827232793*o[13])*o[3]*o[5]*tau2 + pi*(2.57526266427144e-7*o[5]
    *o[6] + pi*(o[4]*(4.1627860840696e-19 + (-1.0234747095929e-12 -
    1.40254511313154e-8*o[5])*o[9]) + o[14]*o[15]*(o[13]*(-2.34560435076256e-9
     + 5.3465159397045*o[5]*o[7]*tau2) + o[14]*(-19.1874828272775*o[16]*o[
    6]*o[7] + o[14]*(o[11]*(1.78371690710842e-23 + (1.07202609066812e-11
     - 0.000201611844951398*o[10])*o[3]*o[5]*o[6]*tau2) + pi*(-1.24017662339842e-24
    *o[5]*o[7] + pi*(0.000200482822351322*o[16]*o[5]*o[7] + pi*(-4.97975748452559e-14
    *o[16]*o[3]*o[5] + o[6]*o[7]*(1.90027787547159e-27 + o[12]*(
    2.21658861403112e-15 - 0.0000547344301999018*o[3]*o[7]))*pi*tau2)))))))))))))))));
<font color="blue">end </font>hofpT2;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE handsofpT2<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofpT1I.png" ALT="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.handsofpT2" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.handsofpT2"></A><A HREF="Modelica_Media_Water_IF97_Utilities_BaseIF97_Isentropic.html#Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic"
>Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic</A>.handsofpT2</H2>
<B>function for isentropic specific enthalpy and specific entropy in region 2</B><p>
<P><H3>Information</H3></P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A> (Icon for a function).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>p</TD><TD>&nbsp;</TD><TD>pressure [Pa]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T</TD><TD>&nbsp;</TD><TD>temperature (K) [K]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</A></TD><TD>h</TD><TD>specific enthalpy [J/kg]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEntropy"
>SpecificEntropy</A></TD><TD>s</TD><TD>specific entropy [J/(kg.K)]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> handsofpT2 <font color="darkgreen">
  &quot;function for isentropic specific enthalpy and specific entropy in region 2&quot;</font>

  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>SI.Pressure</A> p <font color="darkgreen">&quot;pressure&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>SI.Temperature</A> T <font color="darkgreen">&quot;temperature (K)&quot;</font>;
  <font color="blue">output </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SI.SpecificEnthalpy</A> h <font color="darkgreen">&quot;specific enthalpy&quot;</font>;
  <font color="blue">output </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEntropy"
>SI.SpecificEntropy</A> s <font color="darkgreen">&quot;specific entropy&quot;</font>;
<font color="blue">protected </font>
  Real[22] o <font color="darkgreen">&quot;vector of auxiliary variables&quot;</font>;
  Real pi <font color="darkgreen">&quot;dimensionless pressure&quot;</font>;
  Real tau <font color="darkgreen">&quot;dimensionless temperature&quot;</font>;
  Real tau2 <font color="darkgreen">&quot;dimensionless temperature&quot;</font>;
  Real g <font color="darkgreen">&quot;dimensionless Gibbs energy&quot;</font>;
  Real gtau <font color="darkgreen">&quot;derivative of  dimensionless Gibbs energy w.r.t. tau&quot;</font>;
<font color="blue">algorithm </font>
  <font color="red">assert</font>(p &gt; triple.ptriple,
    &quot;IF97 medium function handsofpT2 called with too low pressure\n&quot; +
    &quot;p = &quot; +<font color="red"> String</font>(p) + &quot; Pa &lt;= &quot; +<font color="red"> String</font>(triple.ptriple) + &quot; Pa (triple point pressure)&quot;);
  tau := data.TSTAR2/T;
  pi := p/data.PSTAR2;
  tau2 := tau - 0.5;
  o[1] := tau2*tau2;
  o[2] := o[1]*tau2;
  o[3] := o[1]*o[1];
  o[4] := o[3]*o[3];
  o[5] := o[4]*o[4];
  o[6] := o[3]*o[4]*o[5]*tau2;
  o[7] := o[1]*o[3]*tau2;
  o[8] := o[3]*o[4]*tau2;
  o[9] := o[1]*o[5]*tau2;
  o[10] := o[1]*o[3]*o[4];
  o[11] := o[3]*o[4]*o[5];
  o[12] := o[1]*o[3];
  o[13] := pi*pi;
  o[14] := o[13]*o[13];
  o[15] := o[13]*o[14];
  o[16] := o[3]*o[5]*tau2;
  o[17] := o[5]*o[5];
  o[18] := o[3]*o[5];
  o[19] := o[1]*o[3]*o[4]*tau2;
  o[20] := o[1]*o[5];
  o[21] := tau*tau;
  o[22] := o[21]*o[21];

  g := pi*(-0.0017731742473213 + tau2*(-0.017834862292358 + tau2*(-0.045996013696365
     + (-0.057581259083432 - 0.05032527872793*o[2])*tau2)) + pi*(tau2*(-0.000033032641670203
     + (-0.00018948987516315 + o[1]*(-0.0039392777243355 + o[2]*(-0.043797295650573
     - 0.000026674547914087*o[6])))*tau2) + pi*(2.0481737692309e-8 + (
    4.3870667284435e-7 + o[1]*(-0.00003227767723857 + o[2]*(-0.0015033924542148
     - 0.040668253562649*o[6])))*tau2 + pi*(tau2*(-7.8847309559367e-10 +
    (1.2790717852285e-8 + 4.8225372718507e-7*tau2)*tau2) + pi*(
    2.2922076337661e-6*o[7] + pi*(o[2]*(-1.6714766451061e-11 + o[8]*(-0.0021171472321355
     - 23.895741934104*o[9])) + pi*(-5.905956432427e-18 + o[1]*(-1.2621808899101e-6
     - 0.038946842435739*o[10])*o[4]*tau2 + pi*((1.1256211360459e-11 -
    8.2311340897998*o[11])*o[4] + pi*(1.9809712802088e-8*o[8] + pi*((
    1.0406965210174e-19 + o[12]*(-1.0234747095929e-13 -
    1.0018179379511e-9*o[3]))*o[3] + o[15]*((-8.0882908646985e-11 +
    0.10693031879409*o[16])*o[6] + o[13]*(-0.33662250574171*o[17]*o[4]*o[
    5]*tau2 + o[13]*(o[18]*(8.9185845355421e-25 + o[19]*(
    3.0629316876232e-13 - 4.2002467698208e-6*o[8])) + pi*(-5.9056029685639e-26
    *o[16] + pi*(3.7826947613457e-6*o[17]*o[3]*o[5]*tau2 + pi*(o[1]*(
    7.3087610595061e-29 + o[10]*(5.5414715350778e-17 - 9.436970724121e-7*
    o[20]))*o[4]*o[5]*pi - 1.2768608934681e-15*o[1]*o[17]*o[3]*tau2))))))))))))))))
     + (-0.00560879118302 + tau*(0.07145273881455 + tau*(-0.4071049823928
     + tau*(1.424081971444 + tau*(-4.38395111945 + tau*(-9.692768600217
     + tau*(10.08665568018 + (-0.2840863260772 + 0.02126846353307*tau)*
    tau) +<font color="red"> Modelica.Math.log</font>(pi)))))))/(o[22]*tau);

  gtau := (0.0280439559151 + tau*(-0.2858109552582 + tau*(1.2213149471784
     + tau*(-2.848163942888 + tau*(4.38395111945 + o[21]*(10.08665568018
     + (-0.5681726521544 + 0.06380539059921*tau)*tau))))))/(o[21]*o[22])
     + pi*(-0.017834862292358 + tau2*(-0.09199202739273 + (-0.172743777250296
     - 0.30195167236758*o[2])*tau2) + pi*(-0.000033032641670203 + (-0.0003789797503263
     + o[1]*(-0.015757110897342 + o[2]*(-0.306581069554011 -
    0.000960283724907132*o[6])))*tau2 + pi*(4.3870667284435e-7 + o[1]*(-0.00009683303171571
     + o[2]*(-0.0090203547252888 - 1.42338887469272*o[6])) + pi*(-7.8847309559367e-10
     + (2.558143570457e-8 + 1.44676118155521e-6*tau2)*tau2 + pi*(
    0.0000160454534363627*o[12] + pi*(o[1]*(-5.0144299353183e-11 + o[8]*(
    -0.033874355714168 - 836.35096769364*o[9])) + pi*(o[1]*(-0.0000138839897890111
     - 0.973671060893475*o[10])*o[4] + pi*((9.0049690883672e-11 -
    296.320827232793*o[11])*o[7] + pi*(2.57526266427144e-7*o[3]*o[4] + pi
    *(o[2]*(4.1627860840696e-19 + o[12]*(-1.0234747095929e-12 -
    1.40254511313154e-8*o[3])) + o[15]*(o[11]*(-2.34560435076256e-9 +
    5.3465159397045*o[16]) + o[13]*(-19.1874828272775*o[17]*o[4]*o[5] + o[
    13]*((1.78371690710842e-23 + o[19]*(1.07202609066812e-11 -
    0.000201611844951398*o[8]))*o[9] + pi*(-1.24017662339842e-24*o[18] +
    pi*(0.000200482822351322*o[17]*o[3]*o[5] + pi*(-4.97975748452559e-14*
    o[1]*o[17]*o[3] + (1.90027787547159e-27 + o[10]*(2.21658861403112e-15
     - 0.0000547344301999018*o[20]))*o[4]*o[5]*pi*tau2))))))))))))))));

  h := data.RH2O*T*tau*gtau;
  s := data.RH2O*(tau*gtau - g);
<font color="blue">end </font>handsofpT2;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE hofps2<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofpT1I.png" ALT="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofps2" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofps2"></A><A HREF="Modelica_Media_Water_IF97_Utilities_BaseIF97_Isentropic.html#Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic"
>Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic</A>.hofps2</H2>
<B>function for isentropic specific enthalpy in region 2</B><p>
<P><H3>Information</H3></P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A> (Icon for a function).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>p</TD><TD>&nbsp;</TD><TD>pressure [Pa]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEntropy"
>SpecificEntropy</A></TD><TD>s</TD><TD>&nbsp;</TD><TD>specific entropy [J/(kg.K)]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</A></TD><TD>h</TD><TD>specific enthalpy [J/kg]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> hofps2 <font color="darkgreen">
  &quot;function for isentropic specific enthalpy in region 2&quot;</font>

  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>SI.Pressure</A> p <font color="darkgreen">&quot;pressure&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEntropy"
>SI.SpecificEntropy</A> s <font color="darkgreen">&quot;specific entropy&quot;</font>;
  <font color="blue">output </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SI.SpecificEnthalpy</A> h <font color="darkgreen">&quot;specific enthalpy&quot;</font>;
<font color="blue">protected </font>
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>SI.Temperature</A> T <font color="darkgreen">&quot;temperature (K)&quot;</font>;
<font color="blue">algorithm </font>
  T :=<font color="red"> Basic.tps2</font>(p, s);
  h :=<font color="red"> hofpT2</font>(p, T);
<font color="blue">end </font>hofps2;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE hofdT3<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofpT1I.png" ALT="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofdT3" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofdT3"></A><A HREF="Modelica_Media_Water_IF97_Utilities_BaseIF97_Isentropic.html#Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic"
>Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic</A>.hofdT3</H2>
<B>function for isentropic specific enthalpy in region 3</B><p>
<P><H3>Information</H3></P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A> (Icon for a function).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Density"
>Density</A></TD><TD>d</TD><TD>&nbsp;</TD><TD>density [kg/m3]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T</TD><TD>&nbsp;</TD><TD>temperature (K) [K]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</A></TD><TD>h</TD><TD>specific enthalpy [J/kg]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> hofdT3 <font color="darkgreen">
  &quot;function for isentropic specific enthalpy in region 3&quot;</font>

  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Density"
>SI.Density</A> d <font color="darkgreen">&quot;density&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>SI.Temperature</A> T <font color="darkgreen">&quot;temperature (K)&quot;</font>;
  <font color="blue">output </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SI.SpecificEnthalpy</A> h <font color="darkgreen">&quot;specific enthalpy&quot;</font>;
<font color="blue">protected </font>
  Real delta;
  Real tau <font color="darkgreen">&quot;dimensionless temperature&quot;</font>;
  Real[13] o <font color="darkgreen">&quot;vector of auxiliary variables&quot;</font>;
  Real ftau <font color="darkgreen">&quot;derivative of  dimensionless Helmholtz energy w.r.t. tau&quot;</font>;
  Real fdelta <font color="darkgreen">&quot;derivative of  dimensionless Helmholtz energy w.r.t. delta&quot;</font>;
<font color="blue">algorithm </font>
  tau := data.TCRIT/T;
  delta := d/data.DCRIT;
  o[1] := tau*tau;
  o[2] := o[1]*o[1];
  o[3] := o[2]*o[2];
  o[4] := o[3]*tau;
  o[5] := o[1]*o[2]*o[3]*tau;
  o[6] := o[2]*o[3];
  o[7] := o[1]*o[3];
  o[8] := o[3]*o[3];
  o[9] := o[1]*o[2]*o[8];
  o[10] := o[1]*o[2]*o[8]*tau;
  o[11] := o[3]*o[8];
  o[12] := o[3]*o[8]*tau;
  o[13] := o[1]*o[3]*o[8];

  ftau := 20.944396974307 + tau*(-15.3735415757432 + o[2]*tau*(
    18.3301634515678 + o[1]*tau*(-28.08078114862 + o[1]*(14.4640436358204
     - 0.194503669468755*o[1]*o[3]*tau)))) + delta*((-2.5308630955428 + o[
    2]*(-6.9146446840086 + (13.2781565976477 - 10.9153200808732*o[1])*o[4]))
    *tau + delta*(tau*(-1.70429417648412 + o[2]*(29.3833689251262 + (-21.3518320798755
     + (0.867251811341388 + 3.26518619032008*o[2])*o[5])*tau)) + delta*((
    2.779959913892 + o[1]*(-8.075966009428 + o[6]*(-0.131436219478341 -
    12.37496929108*o[7])))*tau + delta*((-0.88952870857478 + o[1]*(
    3.62288282878932 + 18.3358370228714*o[9]))*tau + delta*(
    0.10770512626332 + o[1]*(-0.98740869776862 - 13.2264761307011*o[10])
     + delta*((0.188521503330184 + 4.27343239646986*o[11])*tau + delta*(-0.027006744482696
    *tau + delta*(-0.385692979164272*o[12] + delta*(delta*(-0.00016557679795037
     - 0.00116802137560719*delta*o[12]) + (0.00115845907256168 +
    0.0840031522296486*o[11])*tau)))))))));

  fdelta := (1.0658070028513 + delta*(o[1]*(-1.2654315477714 + o[2]*(-1.1524407806681
     + (0.88521043984318 - 0.64207765181607*o[1])*o[4])) + delta*(
    0.76986920373342 + o[1]*(-1.70429417648412 + o[2]*(9.7944563083754 +
    (-6.100523451393 + (0.078841073758308 + 0.25116816848616*o[2])*o[5])*
    tau)) + delta*(-0.8399798909613 + o[1]*(4.169939870838 + o[1]*(-6.056974507071
     + o[6]*(-0.0246442911521889 - 1.42788107204769*o[7]))) + delta*(
    0.175936297894 + o[1]*(-1.77905741714956 + o[1]*(3.62288282878932 +
    2.82089800351868*o[9])) + delta*(delta*(-0.133052405238576 + o[1]*(
    0.565564509990552 + 0.98617670687766*o[11]) + delta*(-0.094523605689436
    *o[1] + delta*(-0.118674762819776*o[13] + delta*(o[1]*(
    0.00521306582652756 + 0.0290780142333399*o[11]) + delta*(
    0.00080964802996215 - 0.000494162889679965*delta*o[13] -
    0.0016557679795037*tau))))) + (0.5385256313166 + o[1]*(-1.6456811629477
     - 2.5435531020579*o[10]))*tau))))))/delta;

  h := data.RH2O*T*(tau*ftau + delta*fdelta);
<font color="blue">end </font>hofdT3;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE hofps3<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofpT1I.png" ALT="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofps3" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofps3"></A><A HREF="Modelica_Media_Water_IF97_Utilities_BaseIF97_Isentropic.html#Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic"
>Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic</A>.hofps3</H2>
<B>isentropic specific enthalpy in region 3 h(p,s)</B><p>
<P><H3>Information</H3></P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A> (Icon for a function).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>p</TD><TD>&nbsp;</TD><TD>pressure [Pa]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEntropy"
>SpecificEntropy</A></TD><TD>s</TD><TD>&nbsp;</TD><TD>specific entropy [J/(kg.K)]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</A></TD><TD>h</TD><TD>specific enthalpy [J/kg]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> hofps3 <font color="darkgreen">&quot;isentropic specific enthalpy in region 3 h(p,s)&quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>SI.Pressure</A> p <font color="darkgreen">&quot;pressure&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEntropy"
>SI.SpecificEntropy</A> s <font color="darkgreen">&quot;specific entropy&quot;</font>;
  <font color="blue">output </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SI.SpecificEnthalpy</A> h <font color="darkgreen">&quot;specific enthalpy&quot;</font>;
<font color="blue">protected </font>
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Density"
>SI.Density</A> d <font color="darkgreen">&quot;density&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>SI.Temperature</A> T <font color="darkgreen">&quot;temperature (K)&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>SI.Pressure</A> delp=IterationData.DELP <font color="darkgreen">&quot;iteration accuracy&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEntropy"
>SI.SpecificEntropy</A> dels=IterationData.DELS <font color="darkgreen">&quot;iteration accuracy&quot;</font>;
  Integer error <font color="darkgreen">&quot;error if not 0&quot;</font>;
<font color="blue">algorithm </font>
  (d,T,error) :=<font color="red"> Inverses.dtofps3</font>(p=p,s= s,delp= delp,dels= dels);
  h :=<font color="red"> hofdT3</font>(d, T);
<font color="blue">end </font>hofps3;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE hofpsdt3<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofpT1I.png" ALT="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofpsdt3" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofpsdt3"></A><A HREF="Modelica_Media_Water_IF97_Utilities_BaseIF97_Isentropic.html#Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic"
>Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic</A>.hofpsdt3</H2>
<B>isentropic specific enthalpy in region 3 h(p,s) with given good guess in d and T</B><p>
<P><H3>Information</H3></P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A> (Icon for a function).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>p</TD><TD>&nbsp;</TD><TD>pressure [Pa]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEntropy"
>SpecificEntropy</A></TD><TD>s</TD><TD>&nbsp;</TD><TD>specific entropy [J/(kg.K)]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Density"
>Density</A></TD><TD>dguess</TD><TD>&nbsp;</TD><TD>good guess density, e.g. from adjacent volume [kg/m3]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>Tguess</TD><TD>&nbsp;</TD><TD>good guess temperature, e.g. from adjacent volume [K]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>delp</TD><TD>IterationData.DELP</TD><TD>relative error in p [Pa]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEntropy"
>SpecificEntropy</A></TD><TD>dels</TD><TD>IterationData.DELS</TD><TD>relative error in s [J/(kg.K)]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</A></TD><TD>h</TD><TD>specific enthalpy [J/kg]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> hofpsdt3 <font color="darkgreen">
  &quot;isentropic specific enthalpy in region 3 h(p,s) with given good guess in d and T&quot;</font>

  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>SI.Pressure</A> p <font color="darkgreen">&quot;pressure&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEntropy"
>SI.SpecificEntropy</A> s <font color="darkgreen">&quot;specific entropy&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Density"
>SI.Density</A> dguess <font color="darkgreen">&quot;good guess density, e.g. from adjacent volume&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>SI.Temperature</A> Tguess <font color="darkgreen">
    &quot;good guess temperature, e.g. from adjacent volume&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>SI.Pressure</A> delp=IterationData.DELP <font color="darkgreen">&quot;relative error in p&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEntropy"
>SI.SpecificEntropy</A> dels=IterationData.DELS <font color="darkgreen">&quot;relative error in s&quot;</font>;
  <font color="blue">output </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SI.SpecificEnthalpy</A> h <font color="darkgreen">&quot;specific enthalpy&quot;</font>;
<font color="blue">protected </font>
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Density"
>SI.Density</A> d <font color="darkgreen">&quot;density&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>SI.Temperature</A> T <font color="darkgreen">&quot;temperature (K)&quot;</font>;
  Integer error <font color="darkgreen">&quot;error flag&quot;</font>;
<font color="blue">algorithm </font>
  (d,T,error) :=<font color="red"> Inverses.dtofpsdt3</font>(p=p,s= s,dguess= dguess,Tguess=
    Tguess,delp= delp,dels= dels);
  h :=<font color="red"> hofdT3</font>(d, T);
<font color="blue">end </font>hofpsdt3;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE hofps4<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofpT1I.png" ALT="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofps4" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofps4"></A><A HREF="Modelica_Media_Water_IF97_Utilities_BaseIF97_Isentropic.html#Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic"
>Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic</A>.hofps4</H2>
<B>isentropic specific enthalpy in region 4 h(p,s)</B><p>
<P><H3>Information</H3></P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A> (Icon for a function).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>p</TD><TD>&nbsp;</TD><TD>pressure [Pa]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEntropy"
>SpecificEntropy</A></TD><TD>s</TD><TD>&nbsp;</TD><TD>specific entropy [J/(kg.K)]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</A></TD><TD>h</TD><TD>specific enthalpy [J/kg]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> hofps4 <font color="darkgreen">&quot;isentropic specific enthalpy in region 4 h(p,s)&quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>SI.Pressure</A> p <font color="darkgreen">&quot;pressure&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEntropy"
>SI.SpecificEntropy</A> s <font color="darkgreen">&quot;specific entropy&quot;</font>;
  <font color="blue">output </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SI.SpecificEnthalpy</A> h <font color="darkgreen">&quot;specific enthalpy&quot;</font>;
<font color="blue">protected </font>
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Temp_K"
>SI.Temp_K</A> Tsat <font color="darkgreen">&quot;saturation temperature&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.MassFraction"
>SI.MassFraction</A> x <font color="darkgreen">&quot;dryness fraction&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEntropy"
>SI.SpecificEntropy</A> sl <font color="darkgreen">&quot;saturated liquid specific entropy&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEntropy"
>SI.SpecificEntropy</A> sv <font color="darkgreen">&quot;saturated vapour specific entropy&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SI.SpecificEnthalpy</A> hl <font color="darkgreen">&quot;saturated liquid specific enthalpy&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SI.SpecificEnthalpy</A> hv <font color="darkgreen">&quot;saturated vapour specific enthalpy&quot;</font>;
<font color="blue">algorithm </font>
  <font color="blue">if </font>(p &lt;= data.PLIMIT4A)<font color="blue"> then</font>
    Tsat :=<font color="red"> Basic.tsat</font>(p);
    (hl,sl) :=<font color="red"> handsofpT1</font>(p, Tsat);
    (hv,sv) :=<font color="red"> handsofpT2</font>(p, Tsat);
  <font color="blue">elseif </font>(p &lt; data.PCRIT)<font color="blue"> then</font>
    sl :=<font color="red"> Regions.sl_p_R4b</font>(p);
    sv :=<font color="red"> Regions.sv_p_R4b</font>(p);
    hl :=<font color="red"> Regions.hl_p_R4b</font>(p);
    hv :=<font color="red"> Regions.hv_p_R4b</font>(p);
  <font color="blue">end if</font>;
  x :=<font color="red"> max</font>(<font color="red">min</font>(<font color="blue">if </font>sl &lt;&gt; sv<font color="blue"> then </font>(s - sl)/(sv - sl)<font color="blue"> else </font>1.0, 1.0),0.0);
  h := hl + x*(hv - hl);
<font color="blue">end </font>hofps4;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE hofpT5<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofpT1I.png" ALT="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofpT5" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofpT5"></A><A HREF="Modelica_Media_Water_IF97_Utilities_BaseIF97_Isentropic.html#Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic"
>Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic</A>.hofpT5</H2>
<B>specific enthalpy in region 5 h(p,T)</B><p>
<P><H3>Information</H3></P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A> (Icon for a function).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>p</TD><TD>&nbsp;</TD><TD>pressure [Pa]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T</TD><TD>&nbsp;</TD><TD>temperature (K) [K]</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</A></TD><TD>h</TD><TD>specific enthalpy [J/kg]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> hofpT5 <font color="darkgreen">&quot;specific enthalpy in region 5 h(p,T)&quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>SI.Pressure</A> p <font color="darkgreen">&quot;pressure&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>SI.Temperature</A> T <font color="darkgreen">&quot;temperature (K)&quot;</font>;
  <font color="blue">output </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SI.SpecificEnthalpy</A> h <font color="darkgreen">&quot;specific enthalpy&quot;</font>;
<font color="blue">protected </font>
  Real[4] o <font color="darkgreen">&quot;vector of auxiliary variables&quot;</font>;
  Real tau <font color="darkgreen">&quot;dimensionless temperature&quot;</font>;
  Real pi <font color="darkgreen">&quot;dimensionless pressure&quot;</font>;
<font color="blue">algorithm </font>
  tau := data.TSTAR5/T;
  pi := p/data.PSTAR5;
  <font color="red">assert</font>(p &gt; triple.ptriple,
    &quot;IF97 medium function hofpT5 called with too low pressure\n&quot; +
    &quot;p = &quot; +<font color="red"> String</font>(p) + &quot; Pa &lt;= &quot; +<font color="red"> String</font>(triple.ptriple) + &quot; Pa (triple point pressure)&quot;);
  o[1] := tau*tau;
  o[2] := o[1]*o[1];
  o[3] := pi*pi;
  o[4] := o[2]*o[2];
  h := data.RH2O*T*tau*(6.8540841634434 + 3.1161318213925/o[1] +
    0.074415446800398/o[2] - 0.0000357523455236121*o[3]*o[4] +
    0.0021774678714571*pi - 0.013782846269973*o[1]*pi +
    3.8757684869352e-7*o[1]*o[3]*pi - 0.73803069960666/(o[1]*tau) -
    0.65923253077834*tau);
<font color="blue">end </font>hofpT5;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE water_hisentropic<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofpT1I.png" ALT="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.water_hisentropic" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.water_hisentropic"></A><A HREF="Modelica_Media_Water_IF97_Utilities_BaseIF97_Isentropic.html#Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic"
>Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic</A>.water_hisentropic</H2>
<B>isentropic specific enthalpy from p,s (preferably use water_hisentropic_dyn in dynamic simulation!)</B><p>
<P><H3>Information</H3></P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A> (Icon for a function).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>p</TD><TD>&nbsp;</TD><TD>pressure [Pa]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEntropy"
>SpecificEntropy</A></TD><TD>s</TD><TD>&nbsp;</TD><TD>specific entropy [J/(kg.K)]</TD></TR>
<TR><TD>Integer</TD><TD>phase</TD><TD>0</TD><TD>phase: 2 for two-phase, 1 for one phase, 0 if unknown</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</A></TD><TD>h</TD><TD>specific enthalpy [J/kg]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> water_hisentropic <font color="darkgreen">
  &quot;isentropic specific enthalpy from p,s (preferably use water_hisentropic_dyn in dynamic simulation!)&quot;</font>

  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>SI.Pressure</A> p <font color="darkgreen">&quot;pressure&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEntropy"
>SI.SpecificEntropy</A> s <font color="darkgreen">&quot;specific entropy&quot;</font>;
 <font color="blue">input </font>Integer phase=
                0 <font color="darkgreen">&quot;phase: 2 for two-phase, 1 for one phase, 0 if unknown&quot;</font>;
  <font color="blue">output </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SI.SpecificEnthalpy</A> h <font color="darkgreen">&quot;specific enthalpy&quot;</font>;
<font color="blue">protected </font>
  <A HREF="Modelica_Media_Common.html#Modelica.Media.Common.GibbsDerivs"
>Modelica.Media.Common.GibbsDerivs</A> g <font color="darkgreen">
    &quot;derivatives of dimensionless Gibbs-function w.r.t dimensionless pi and tau&quot;</font>;
  <A HREF="Modelica_Media_Common.html#Modelica.Media.Common.HelmholtzDerivs"
>Modelica.Media.Common.HelmholtzDerivs</A> f <font color="darkgreen">
    &quot;derivatives of dimensionless Helmholtz-function w.r.t dimensionless delta and tau&quot;</font>;
  Integer region(min=1, max=5) <font color="darkgreen">&quot;IF97 region&quot;</font>;
  Integer error <font color="darkgreen">&quot;error if not 0&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>SI.Temperature</A> T <font color="darkgreen">&quot;temperature&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Density"
>SI.Density</A> d <font color="darkgreen">&quot;density&quot;</font>;
<font color="blue">algorithm </font>
  region :=<font color="red"> Regions.region_ps</font>(p=p,s= s,phase=phase);
  <font color="blue">if </font>(region == 1)<font color="blue"> then</font>
    h :=<font color="red"> hofps1</font>(p, s);
  <font color="blue">elseif </font>(region == 2)<font color="blue"> then</font>
    h :=<font color="red"> hofps2</font>(p, s);
  <font color="blue">elseif </font>(region == 3)<font color="blue"> then</font>
    (d,T,error) :=<font color="red"> Inverses.dtofps3</font>(p=p,s= s,delp= IterationData.DELP,dels=
           IterationData.DELS);
    h :=<font color="red"> hofdT3</font>(d, T);
  <font color="blue">elseif </font>(region == 4)<font color="blue"> then</font>
    h :=<font color="red"> hofps4</font>(p, s);
  <font color="blue">elseif </font>(region == 5)<font color="blue"> then</font>
    (T,error) :=<font color="red"> Inverses.tofps5</font>(p=p,s= s,relds= IterationData.DELS);
    h :=<font color="red"> hofpT5</font>(p, T);
  <font color="blue">end if</font>;
<font color="blue">end </font>water_hisentropic;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE water_hisentropic_dyn<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.hofpT1I.png" ALT="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.water_hisentropic_dyn" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic.water_hisentropic_dyn"></A><A HREF="Modelica_Media_Water_IF97_Utilities_BaseIF97_Isentropic.html#Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic"
>Modelica.Media.Water.IF97_Utilities.BaseIF97.Isentropic</A>.water_hisentropic_dyn</H2>
<B>isentropic specific enthalpy from p,s and good guesses of d and T</B><p>
<P><H3>Information</H3></P>
Extends from <A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A> (Icon for a function).
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</A></TD><TD>p</TD><TD>&nbsp;</TD><TD>pressure [Pa]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEntropy"
>SpecificEntropy</A></TD><TD>s</TD><TD>&nbsp;</TD><TD>specific entropy [J/(kg.K)]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Density"
>Density</A></TD><TD>dguess</TD><TD>&nbsp;</TD><TD>good guess density, e.g. from adjacent volume [kg/m3]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>Tguess</TD><TD>&nbsp;</TD><TD>good guess temperature, e.g. from adjacent volume [K]</TD></TR>
<TR><TD>Integer</TD><TD>phase</TD><TD>&nbsp;</TD><TD>1 for one phase, 2 for two phase</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</A></TD><TD>h</TD><TD>specific enthalpy [J/kg]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> water_hisentropic_dyn <font color="darkgreen">
  &quot;isentropic specific enthalpy from p,s and good guesses of d and T&quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Icons.html#Modelica.Icons.Function"
>Modelica.Icons.Function</A>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Pressure"
>SI.Pressure</A> p <font color="darkgreen">&quot;pressure&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEntropy"
>SI.SpecificEntropy</A> s <font color="darkgreen">&quot;specific entropy&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Density"
>SI.Density</A> dguess <font color="darkgreen">&quot;good guess density, e.g. from adjacent volume&quot;</font>;
  <font color="blue">input </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>SI.Temperature</A> Tguess <font color="darkgreen">
    &quot;good guess temperature, e.g. from adjacent volume&quot;</font>;
  <font color="blue">input </font>Integer phase <font color="darkgreen">&quot;1 for one phase, 2 for two phase&quot;</font>;
  <font color="blue">output </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SI.SpecificEnthalpy</A> h <font color="darkgreen">&quot;specific enthalpy&quot;</font>;
<font color="blue">protected </font>
  <A HREF="Modelica_Media_Common.html#Modelica.Media.Common.GibbsDerivs"
>Modelica.Media.Common.GibbsDerivs</A> g <font color="darkgreen">
    &quot;derivatives of dimensionless Gibbs-function w.r.t dimensionless pi and tau&quot;</font>;
  <A HREF="Modelica_Media_Common.html#Modelica.Media.Common.HelmholtzDerivs"
>Modelica.Media.Common.HelmholtzDerivs</A> f <font color="darkgreen">
    &quot;derivatives of dimensionless Helmholtz-function w.r.t dimensionless delta and tau&quot;</font>;
  Integer region(min=1, max=5) <font color="darkgreen">&quot;IF97 region&quot;</font>;
  Integer error <font color="darkgreen">&quot;error if not 0&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>SI.Temperature</A> T <font color="darkgreen">&quot;temperature&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Density"
>SI.Density</A> d <font color="darkgreen">&quot;density&quot;</font>;
<font color="blue">algorithm </font>
  region :=<font color="red"> Regions.region_ps</font>(p=p,s= s,phase= phase);
  <font color="blue">if </font>(region == 1)<font color="blue"> then</font>
    h :=<font color="red"> hofps1</font>(p, s);
  <font color="blue">elseif </font>(region == 2)<font color="blue"> then</font>
    h :=<font color="red"> hofps2</font>(p, s);
  <font color="blue">elseif </font>(region == 3)<font color="blue"> then</font>
    h :=<font color="red"> hofpsdt3</font>(p=p,s= s,dguess= dguess,Tguess= Tguess,delp=
      IterationData.DELP,dels= IterationData.DELS);
  <font color="blue">elseif </font>(region == 4)<font color="blue"> then</font>
    h :=<font color="red"> hofps4</font>(p, s);
  <font color="blue">elseif </font>(region == 5)<font color="blue"> then</font>
    (T,error) :=<font color="red"> Inverses.tofpst5</font>(p=p,s= s,Tguess= Tguess,relds=
      IterationData.DELS);
    h :=<font color="red"> hofpT5</font>(p, T);
  <font color="blue">end if</font>;
<font color="blue">end </font>water_hisentropic_dyn;
</PRE>
<HR>
<address>HTML-documentation generated by <a href="http://www.Dymola.com/">Dymola</a> Sun Jan 17 21:12:36 2010.
</address></BODY>
</HTML>
