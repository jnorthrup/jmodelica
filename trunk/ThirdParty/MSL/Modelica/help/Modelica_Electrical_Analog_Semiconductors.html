<HTML>
<HEAD>
<TITLE>Modelica.Electrical.Analog.Semiconductors</TITLE>
<META name="HTML-Generator" content="Dymola">
<META name="description" content="&quot;Semiconductor devices such as diode, MOS and bipolar transistor&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial,sans-serif; }
pre     { font-size:  9pt; font-family: Courier,monospace;}
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address {                  font-weight: normal} 
td      { solid #000; vertical-align:top; }
th      { solid #000; vertical-align:top; font-weight: bold; }
table   { solid #000; border-collapse: collapse;}
</style>
</HEAD>
<BODY><P>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Semiconductors<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Electrical.Analog.Semiconductors"></A><A HREF="Modelica_Electrical_Analog.html#Modelica.Electrical.Analog"
>Modelica.Electrical.Analog</A>.Semiconductors</H2>
<B>Semiconductor devices such as diode, MOS and bipolar transistor</B>
<P>
<P><H3>Information</H3></P>
<PRE>
</pre>
<p>
This package contains semiconductor devices:
<ul>
<li>diode</li>
<li>MOS transistors</li>
<li>bipolar transistors</li>
</ul>

All semiconductor devices contain a conditional heat port, which is
not active by default. If it is active the loss power is calculated
to be used in a thermal net.

The heating variants of the semiconductor devices are provided to
use the thermal pot temperature in the electric calculation. That means that for a true thermal electric
interaction the heating device models have to be used.

</p>
<pre>
</PRE><P>
Extends from <A HREF="Modelica_Icons_Library.html#Modelica.Icons.Library"
>Modelica.Icons.Library</A> (Icon for library).
<P><H3>Package Content</H3><p>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2 >
<TR><TH >Name</TH><TH>Description</TH></TR>
<TR><TD><IMG SRC="Modelica.Electrical.Analog.Semiconductors.DiodeS.png" ALT="Modelica.Electrical.Analog.Semiconductors.Diode" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Electrical_Analog_Semiconductors.html#Modelica.Electrical.Analog.Semiconductors.Diode"
>Diode</A>
</TD><TD>Simple diode</TD></TR>
<TR><TD><IMG SRC="Modelica.Electrical.Analog.Semiconductors.DiodeS.png" ALT="Modelica.Electrical.Analog.Semiconductors.ZDiode" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Electrical_Analog_Semiconductors.html#Modelica.Electrical.Analog.Semiconductors.ZDiode"
>ZDiode</A>
</TD><TD>Zener Diode with 3 working areas</TD></TR>
<TR><TD><IMG SRC="Modelica.Electrical.Analog.Semiconductors.PMOSS.png" ALT="Modelica.Electrical.Analog.Semiconductors.PMOS" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Electrical_Analog_Semiconductors.html#Modelica.Electrical.Analog.Semiconductors.PMOS"
>PMOS</A>
</TD><TD>Simple MOS Transistor</TD></TR>
<TR><TD><IMG SRC="Modelica.Electrical.Analog.Semiconductors.NMOSS.png" ALT="Modelica.Electrical.Analog.Semiconductors.NMOS" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Electrical_Analog_Semiconductors.html#Modelica.Electrical.Analog.Semiconductors.NMOS"
>NMOS</A>
</TD><TD>Simple MOS Transistor</TD></TR>
<TR><TD><IMG SRC="Modelica.Electrical.Analog.Semiconductors.NPNS.png" ALT="Modelica.Electrical.Analog.Semiconductors.NPN" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Electrical_Analog_Semiconductors.html#Modelica.Electrical.Analog.Semiconductors.NPN"
>NPN</A>
</TD><TD>Simple BJT according to Ebers-Moll</TD></TR>
<TR><TD><IMG SRC="Modelica.Electrical.Analog.Semiconductors.PNPS.png" ALT="Modelica.Electrical.Analog.Semiconductors.PNP" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Electrical_Analog_Semiconductors.html#Modelica.Electrical.Analog.Semiconductors.PNP"
>PNP</A>
</TD><TD>Simple BJT according to Ebers-Moll</TD></TR>
<TR><TD><IMG SRC="Modelica.Electrical.Analog.Semiconductors.HeatingDiodeS.png" ALT="Modelica.Electrical.Analog.Semiconductors.HeatingDiode" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Electrical_Analog_Semiconductors.html#Modelica.Electrical.Analog.Semiconductors.HeatingDiode"
>HeatingDiode</A>
</TD><TD>Simple diode with heating port</TD></TR>
<TR><TD><IMG SRC="Modelica.Electrical.Analog.Semiconductors.HeatingNMOSS.png" ALT="Modelica.Electrical.Analog.Semiconductors.HeatingNMOS" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Electrical_Analog_Semiconductors.html#Modelica.Electrical.Analog.Semiconductors.HeatingNMOS"
>HeatingNMOS</A>
</TD><TD>Simple MOS Transistor with heating port</TD></TR>
<TR><TD><IMG SRC="Modelica.Electrical.Analog.Semiconductors.HeatingNMOSS.png" ALT="Modelica.Electrical.Analog.Semiconductors.HeatingPMOS" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Electrical_Analog_Semiconductors.html#Modelica.Electrical.Analog.Semiconductors.HeatingPMOS"
>HeatingPMOS</A>
</TD><TD>Simple PMOS Transistor with heating port</TD></TR>
<TR><TD><IMG SRC="Modelica.Electrical.Analog.Semiconductors.HeatingNPNS.png" ALT="Modelica.Electrical.Analog.Semiconductors.HeatingNPN" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Electrical_Analog_Semiconductors.html#Modelica.Electrical.Analog.Semiconductors.HeatingNPN"
>HeatingNPN</A>
</TD><TD>Simple NPN BJT according to Ebers-Moll with heating port</TD></TR>
<TR><TD><IMG SRC="Modelica.Electrical.Analog.Semiconductors.HeatingPNPS.png" ALT="Modelica.Electrical.Analog.Semiconductors.HeatingPNP" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Electrical_Analog_Semiconductors.html#Modelica.Electrical.Analog.Semiconductors.HeatingPNP"
>HeatingPNP</A>
</TD><TD>Simple PNP BJT according to Ebers-Moll with heating port</TD></TR>
<TR><TD><IMG SRC="Modelica.Electrical.Analog.Semiconductors.powS.png" ALT="Modelica.Electrical.Analog.Semiconductors.pow" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Electrical_Analog_Semiconductors.html#Modelica.Electrical.Analog.Semiconductors.pow"
>pow</A>
</TD><TD>Just a helper function for x^y in order that a symbolic engine can apply some transformations more easily</TD></TR>
<TR><TD><IMG SRC="Modelica.Electrical.Analog.Semiconductors.powS.png" ALT="Modelica.Electrical.Analog.Semiconductors.exlin" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Electrical_Analog_Semiconductors.html#Modelica.Electrical.Analog.Semiconductors.exlin"
>exlin</A>
</TD><TD>Exponential function linearly continued for x &gt; Maxexp</TD></TR>
<TR><TD><IMG SRC="Modelica.Electrical.Analog.Semiconductors.ThyristorS.png" ALT="Modelica.Electrical.Analog.Semiconductors.Thyristor" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="Modelica_Electrical_Analog_Semiconductors.html#Modelica.Electrical.Analog.Semiconductors.Thyristor"
>Thyristor</A>
</TD><TD>Simple Thyristor Model</TD></TR>
</TABLE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Diode<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Electrical.Analog.Semiconductors.DiodeI.png" ALT="Modelica.Electrical.Analog.Semiconductors.Diode" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Electrical.Analog.Semiconductors.Diode"></A><A HREF="Modelica_Electrical_Analog_Semiconductors.html#Modelica.Electrical.Analog.Semiconductors"
>Modelica.Electrical.Analog.Semiconductors</A>.Diode</H2>
<B>Simple diode</B><p>
<IMG SRC="Modelica.Electrical.Analog.Semiconductors.DiodeD.png" ALT="Modelica.Electrical.Analog.Semiconductors.Diode">
<P><H3>Information</H3></P>
<PRE>
</pre>
<P>
The simple diode is a one port. It consists of the diode itself and an parallel ohmic
resistance <i>R</i>. The diode formula is:
</P>
<PRE>
                v/vt
  i  =  ids ( e      - 1).
</PRE>
<P>
If the exponent <i>v/vt</i> reaches the limit <i>maxex</i>, the diode characterisic is linearly
continued to avoid overflow.
<br> <br>
<b>Please note:</b>
In case of useHeatPort=true the temperature dependence of the electrical
behavior is <b> not </b> modelled yet. The parameters are not temperature dependent.
</P>
<pre>
</PRE><P>
Extends from <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.OnePort"
>Modelica.Electrical.Analog.Interfaces.OnePort</A> (Component with two electrical pins p and n and current i from p to n), <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort"
>Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort</A> (Partial model to include a conditional HeatPort in order to describe the power loss via a thermal network).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>Current</A></TD><TD>Ids</TD><TD>1.e-6</TD><TD>Saturation current [A]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</A></TD><TD>Vt</TD><TD>0.04</TD><TD>Voltage equivalent of temperature (kT/qn) [V]</TD></TR>
<TR><TD>Real</TD><TD>Maxexp</TD><TD>15</TD><TD>Max. exponent for linear continuation</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Resistance</A></TD><TD>R</TD><TD>1.e8</TD><TD>Parallel ohmic resistance [Ohm]</TD></TR>
<TR><TD>Boolean</TD><TD>useHeatPort</TD><TD>false</TD><TD>=true, if HeatPort is enabled</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T</TD><TD>293.15</TD><TD>Fixed device temperature if useHeatPort = false [K]</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin"
>PositivePin</A></TD><TD>p</TD><TD>Positive pin (potential p.v &gt; n.v for positive voltage drop v)</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.NegativePin"
>NegativePin</A></TD><TD>n</TD><TD>Negative pin</TD></TR>
<TR><TD><A HREF="Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>heatPort</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> Diode <font color="darkgreen">&quot;Simple diode&quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.OnePort"
>Modelica.Electrical.Analog.Interfaces.OnePort</A>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>SIunits.Current</A> Ids=1.e-6 <font color="darkgreen">&quot;Saturation current&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>SIunits.Voltage</A> Vt=0.04 <font color="darkgreen">&quot;Voltage equivalent of temperature (kT/qn)&quot;</font>;
  <font color="blue">parameter </font>Real Maxexp(<font color="blue">final </font>min=Modelica.Constants.small) = 15 <font color="darkgreen">
    &quot;Max. exponent for linear continuation&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Resistance"
>SIunits.Resistance</A> R=1.e8 <font color="darkgreen">&quot;Parallel ohmic resistance&quot;</font>;
  <font color="blue">extends </font><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort"
>Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort</A>(T=293.15);
<font color="blue">equation </font>
  i =<font color="red"> smooth</font>(1,(<font color="blue">if </font>(v/Vt &gt; Maxexp)<font color="blue"> then </font>Ids*(<font color="red">exp</font>(Maxexp)*(1 + v/Vt - Maxexp) - 1) +
    v/R<font color="blue"> else </font>Ids*(<font color="red">exp</font>(v/Vt) - 1) + v/R));
  LossPower = v*i;
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>Diode;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE ZDiode<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Electrical.Analog.Semiconductors.ZDiodeI.png" ALT="Modelica.Electrical.Analog.Semiconductors.ZDiode" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Electrical.Analog.Semiconductors.ZDiode"></A><A HREF="Modelica_Electrical_Analog_Semiconductors.html#Modelica.Electrical.Analog.Semiconductors"
>Modelica.Electrical.Analog.Semiconductors</A>.ZDiode</H2>
<B>Zener Diode with 3 working areas</B><p>
<IMG SRC="Modelica.Electrical.Analog.Semiconductors.ZDiodeD.png" ALT="Modelica.Electrical.Analog.Semiconductors.ZDiode">
<P><H3>Information</H3></P>
<PRE>
</pre>
<P>
The simple zener diode is a one port. It consists of the diode itself and an parallel ohmic
resistance <i>R</i>. The diode formula is:
</P>
<PRE>
                v/Vt                -(v+Bv)/(Nbv*Vt)
  i  =  Ids ( e      - 1) - Ibv ( e                  ).
</PRE>
<P>
If the exponent  in one of the two branches reaches the limit <i>Maxexp</i>, the diode characterisic is linearly
continued to avoid overflow.
</P>

<P>
The zener diode model permits (in contrast to the simple diode model)
current in reverse direction if the breakdown voltage Bv (also known zener knee voltage) is exceeded.
<br> <br>
<b>Please note:</b>
In case of useHeatPort=true the temperature dependence of the electrical
behavior is <b> not </b> modelled yet. The parameters are not temperature dependent.
</P>


<pre>
</PRE><P>
Extends from <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.OnePort"
>Modelica.Electrical.Analog.Interfaces.OnePort</A> (Component with two electrical pins p and n and current i from p to n), <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort"
>Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort</A> (Partial model to include a conditional HeatPort in order to describe the power loss via a thermal network).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>Current</A></TD><TD>Ids</TD><TD>1.e-6</TD><TD>Saturation current [A]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</A></TD><TD>Vt</TD><TD>0.04</TD><TD>Voltage equivalent of temperature (kT/qn) [V]</TD></TR>
<TR><TD>Real</TD><TD>Maxexp</TD><TD>30</TD><TD>Max. exponent for linear continuation</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Resistance</A></TD><TD>R</TD><TD>1.e8</TD><TD>Parallel ohmic resistance [Ohm]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</A></TD><TD>Bv</TD><TD>5.1</TD><TD>Breakthrough voltage = Zener- or Z-voltage [V]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>Current</A></TD><TD>Ibv</TD><TD>0.7</TD><TD>Breakthrough knee current [A]</TD></TR>
<TR><TD>Real</TD><TD>Nbv</TD><TD>0.74</TD><TD>Breakthrough emission coefficient</TD></TR>
<TR><TD>Boolean</TD><TD>useHeatPort</TD><TD>false</TD><TD>=true, if HeatPort is enabled</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T</TD><TD>293.15</TD><TD>Fixed device temperature if useHeatPort = false [K]</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin"
>PositivePin</A></TD><TD>p</TD><TD>Positive pin (potential p.v &gt; n.v for positive voltage drop v)</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.NegativePin"
>NegativePin</A></TD><TD>n</TD><TD>Negative pin</TD></TR>
<TR><TD><A HREF="Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>heatPort</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> ZDiode <font color="darkgreen">&quot;Zener Diode with 3 working areas&quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.OnePort"
>Modelica.Electrical.Analog.Interfaces.OnePort</A>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>Modelica.SIunits.Current</A> Ids=1.e-6 <font color="darkgreen">&quot;Saturation current&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</A> Vt=0.04 <font color="darkgreen">
    &quot;Voltage equivalent of temperature (kT/qn)&quot;</font>;
  <font color="blue">parameter </font>Real Maxexp(<font color="blue">final </font>min=Modelica.Constants.small) = 30 <font color="darkgreen">
    &quot;Max. exponent for linear continuation&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Modelica.SIunits.Resistance</A> R=1.e8 <font color="darkgreen">&quot;Parallel ohmic resistance&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</A> Bv=5.1 <font color="darkgreen">
    &quot;Breakthrough voltage = Zener- or Z-voltage&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>Modelica.SIunits.Current</A> Ibv=0.7 <font color="darkgreen">&quot;Breakthrough knee current&quot;</font>;
  <font color="blue">parameter </font>Real Nbv=0.74 <font color="darkgreen">&quot;Breakthrough emission coefficient&quot;</font>;
  <font color="blue">extends </font><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort"
>Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort</A>(T=293.15);
<font color="blue">equation </font>
  i =<font color="red"> smooth</font>(1, <font color="blue">if </font>(v&gt;Maxexp*Vt)<font color="blue"> then </font>
            Ids*(<font color="red"> exp</font>(Maxexp)*(1 + v/Vt - Maxexp)-1) + v/R<font color="blue"> else </font>
         <font color="blue">if </font>( (v+Bv)&lt;-Maxexp*(Nbv*Vt))<font color="blue"> then </font>
            -Ids -Ibv*<font color="red"> exp</font>(Maxexp)*(1 - (v+Bv)/(Nbv*Vt) - Maxexp) +v/R<font color="blue"> else </font>
            Ids*(<font color="red">exp</font>(v/Vt)-1) - Ibv*<font color="red">exp</font>(-(v+Bv)/(Nbv*Vt)) + v/R);
  LossPower = v*i;
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>ZDiode;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE PMOS<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Electrical.Analog.Semiconductors.PMOSI.png" ALT="Modelica.Electrical.Analog.Semiconductors.PMOS" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Electrical.Analog.Semiconductors.PMOS"></A><A HREF="Modelica_Electrical_Analog_Semiconductors.html#Modelica.Electrical.Analog.Semiconductors"
>Modelica.Electrical.Analog.Semiconductors</A>.PMOS</H2>
<B>Simple MOS Transistor</B><p>
<IMG SRC="Modelica.Electrical.Analog.Semiconductors.PMOSD.png" ALT="Modelica.Electrical.Analog.Semiconductors.PMOS">
<P><H3>Information</H3></P>
<PRE>
</pre>
<P>
The PMOS model is a simple model of a p-channel metal-oxide semiconductor
FET. It differs slightly from the device used in the SPICE simulator.
For more details please care for H. Spiro.
</P>
<P>
The model does not consider capacitances. A high drain-source resistance RDS
is included to avoid numerical difficulties.
<br> <br>
<b>Please note:</b>
In case of useHeatPort=true the temperature dependence of the electrical
behavior is <b> not </b> modelled yet. The parameters are not temperature dependent.
</P>
<DL>
<DT><b>References:</b>
<DD>Spiro, H.: Simulation integrierter Schaltungen. R. Oldenbourg Verlag
  Muenchen Wien 1990.
</DL>
<P>
Some typical parameter sets are:
</P>
<PRE>
  W       L      Beta        Vt       K2       K5       DW         DL
  m       m      A/V^2       V        -        -        m          m
  50.e-6  8.e-6  .0085e-3   -.15     .41      .839    -3.8e-6    -4.0e-6
  20.e-6  6.e-6  .0105e-3  -1.0      .41      .839    -2.5e-6    -2.1e-6
  30.e-6  5.e-6  .0059e-3   -.3      .98     1.01      0         -3.9e-6
  30.e-6  5.e-6  .0152e-3   -.69     .104    1.1       -.8e-6     -.4e-6
  30.e-6  5.e-6  .0163e-3   -.69     .104    1.1       -.8e-6     -.4e-6
  30.e-6  5.e-6  .0182e-3   -.69     .086    1.06      -.1e-6     -.6e-6
  20.e-6  6.e-6  .0074e-3  -1.       .4       .59      0          0
</PRE>

<pre>
</PRE><P>
Extends from <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort"
>Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort</A> (Partial model to include a conditional HeatPort in order to describe the power loss via a thermal network).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>W</TD><TD>20.0e-6</TD><TD>Width [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>L</TD><TD>6.0e-6</TD><TD>Length [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Transconductance"
>Transconductance</A></TD><TD>Beta</TD><TD>0.0105e-3</TD><TD>Transconductance parameter [A/V2]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</A></TD><TD>Vt</TD><TD>-1.0</TD><TD>Zero bias threshold voltage [V]</TD></TR>
<TR><TD>Real</TD><TD>K2</TD><TD>0.41</TD><TD>Bulk threshold parameter</TD></TR>
<TR><TD>Real</TD><TD>K5</TD><TD>0.839</TD><TD>Reduction of pinch-off region</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>dW</TD><TD>-2.5e-6</TD><TD>Narrowing of channel [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>dL</TD><TD>-2.1e-6</TD><TD>Shortening of channel [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Resistance</A></TD><TD>RDS</TD><TD>1.e+7</TD><TD>Drain-Source-Resistance [Ohm]</TD></TR>
<TR><TD>Boolean</TD><TD>useHeatPort</TD><TD>false</TD><TD>=true, if HeatPort is enabled</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T</TD><TD>293.15</TD><TD>Fixed device temperature if useHeatPort = false [K]</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Pin</A></TD><TD>D</TD><TD>Drain</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Pin</A></TD><TD>G</TD><TD>Gate</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Pin</A></TD><TD>S</TD><TD>Source</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Pin</A></TD><TD>B</TD><TD>Bulk</TD></TR>
<TR><TD><A HREF="Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>heatPort</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> PMOS <font color="darkgreen">&quot;Simple MOS Transistor&quot;</font>

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Interfaces.Pin</A> D <font color="darkgreen">&quot;Drain&quot;</font>;
  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Interfaces.Pin</A> G <font color="darkgreen">&quot;Gate&quot;</font>;
  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Interfaces.Pin</A> S <font color="darkgreen">&quot;Source&quot;</font>;
  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Interfaces.Pin</A> B <font color="darkgreen">&quot;Bulk&quot;</font>;</textblock>
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SIunits.Length</A> W=20.0e-6 <font color="darkgreen">&quot;Width&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SIunits.Length</A> L=6.0e-6 <font color="darkgreen">&quot;Length&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Transconductance"
>SIunits.Transconductance</A> Beta=0.0105e-3 <font color="darkgreen">
    &quot;Transconductance parameter&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>SIunits.Voltage</A> Vt=-1.0 <font color="darkgreen">&quot;Zero bias threshold voltage&quot;</font>;
  <font color="blue">parameter </font>Real K2=0.41 <font color="darkgreen">&quot;Bulk threshold parameter&quot;</font>;
  <font color="blue">parameter </font>Real K5=0.839 <font color="darkgreen">&quot;Reduction of pinch-off region&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SIunits.Length</A> dW=-2.5e-6 <font color="darkgreen">&quot;Narrowing of channel&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SIunits.Length</A> dL=-2.1e-6 <font color="darkgreen">&quot;Shortening of channel&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Resistance"
>SIunits.Resistance</A> RDS=1.e+7 <font color="darkgreen">&quot;Drain-Source-Resistance&quot;</font>;
  <font color="blue">extends </font><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort"
>Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort</A>(T=293.15);
<font color="blue">protected </font>
  Real v;
  Real uds;
  Real ubs;
  Real ugst;
  Real ud;
  Real us;
  Real id;
  Real gds;
<font color="blue">equation </font>
  <font color="darkgreen">//assert (L + dL &gt; 0, &quot;Effective length must be positive&quot;);</font>
  <font color="darkgreen">//assert (W + dW &gt; 0, &quot;Effective width  must be positive&quot;);</font>
  gds = <font color="blue">if </font>(RDS &lt; 1.e-20<font color="blue"> and </font>RDS &gt; -1.e-20)<font color="blue"> then </font>1.e20<font color="blue"> else </font>1/RDS;
  v = Beta*(W + dW)/(L + dL);
  ud =<font color="red"> smooth</font>(0,<font color="blue">if </font>(D.v &gt; S.v)<font color="blue"> then </font>S.v<font color="blue"> else </font>D.v);
  us =<font color="red"> smooth</font>(0,<font color="blue">if </font>(D.v &gt; S.v)<font color="blue"> then </font>D.v<font color="blue"> else </font>S.v);
  uds = ud - us;
  ubs =<font color="red"> smooth</font>(0,<font color="blue">if </font>(B.v &lt; us)<font color="blue"> then </font>0<font color="blue"> else </font>B.v - us);
  ugst = (G.v - us - Vt + K2*ubs)*K5;
  id =<font color="red"> smooth</font>(0,<font color="blue">if </font>(ugst &gt;= 0)<font color="blue"> then </font>uds*gds<font color="blue"> else </font><font color="blue">if </font>(ugst &lt; uds)<font color="blue"> then </font>-v*uds*(
    ugst - uds/2) + uds*gds<font color="blue"> else </font>-v*ugst*ugst/2 + uds*gds);
  G.i = 0;
  D.i =<font color="red"> smooth</font>(0,<font color="blue">if </font>(D.v &gt; S.v)<font color="blue"> then </font>-id<font color="blue"> else </font>id);
  S.i =<font color="red"> smooth</font>(0,<font color="blue">if </font>(D.v &gt; S.v)<font color="blue"> then </font>id<font color="blue"> else </font>-id);
  B.i = 0;
  LossPower = D.i * (D.v - S.v);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>PMOS;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE NMOS<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Electrical.Analog.Semiconductors.NMOSI.png" ALT="Modelica.Electrical.Analog.Semiconductors.NMOS" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Electrical.Analog.Semiconductors.NMOS"></A><A HREF="Modelica_Electrical_Analog_Semiconductors.html#Modelica.Electrical.Analog.Semiconductors"
>Modelica.Electrical.Analog.Semiconductors</A>.NMOS</H2>
<B>Simple MOS Transistor</B><p>
<IMG SRC="Modelica.Electrical.Analog.Semiconductors.NMOSD.png" ALT="Modelica.Electrical.Analog.Semiconductors.NMOS">
<P><H3>Information</H3></P>
<PRE>
</pre>
<P>
The NMos model is a simple model of a n-channel metal-oxide semiconductor
FET. It differs slightly from the device used in the SPICE simulator.
For more details please care for H. Spiro.
</P>
<P>
The model does not consider capacitances. A high drain-source resistance RDS
is included to avoid numerical difficulties.
<br> <br>
<b>Please note:</b>
In case of useHeatPort=true the temperature dependence of the electrical
behavior is <b> not </b> modelled yet. The parameters are not temperature dependent.
</P>
<P>
<PRE>
  W       L      Beta        Vt       K2      K5       DW         DL
  m       m      A/V^2       V        -       -        m          m
  12.e-6  4.e-6  .062e-3   -4.5      .24     .61     -1.2e-6     -.9e-6      depletion
  60.e-6  3.e-6  .048e-3     .1      .08     .68     -1.2e-6     -.9e-6      enhancement
  12.e-6  4.e-6  .0625e-3   -.8      .21     .78     -1.2e-6     -.9e-6      zero
  50.e-6  8.e-6  .0299e-3    .24    1.144    .7311   -5.4e-6    -4.e-6
  20.e-6  6.e-6  .041e-3     .8     1.144    .7311   -2.5e-6    -1.5e-6
  30.e-6  9.e-6  .025e-3   -4.       .861    .878    -3.4e-6    -1.74e-6
  30.e-6  5.e-6  .031e-3     .6     1.5      .72      0         -3.9e-6
  50.e-6  6.e-6  .0414e-3  -3.8      .34     .8      -1.6e-6    -2.e-6       depletion
  50.e-6  5.e-6  .03e-3      .37     .23     .86     -1.6e-6    -2.e-6       enhancement
  50.e-6  6.e-6  .038e-3    -.9      .23     .707    -1.6e-6    -2.e-6       zero
  20.e-6  4.e-6  .06776e-3   .5409   .065    .71      -.8e-6     -.2e-6
  20.e-6  4.e-6  .06505e-3   .6209   .065    .71      -.8e-6     -.2e-6
  20.e-6  4.e-6  .05365e-3   .6909   .03     .8       -.3e-6     -.2e-6
  20.e-6  4.e-6  .05365e-3   .4909   .03     .8       -.3e-6     -.2e-6
  12.e-6  4.e-6  .023e-3   -4.5      .29     .6       0          0           depletion
  60.e-6  3.e-6  .022e-3     .1      .11     .65      0          0           enhancement
  12.e-6  4.e-6  .038e-3    -.8      .33     .6       0          0           zero
  20.e-6  6.e-6  .022e-3     .8     1        .66      0          0
</PRE>

<P>
<DL>
<DT><b>References:</b>
<DD>Spiro, H.: Simulation integrierter Schaltungen. R. Oldenbourg Verlag
Muenchen Wien 1990.
</DL>
<pre>
</PRE><P>
Extends from <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort"
>Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort</A> (Partial model to include a conditional HeatPort in order to describe the power loss via a thermal network).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>W</TD><TD>20.e-6</TD><TD>Width [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>L</TD><TD>6.e-6</TD><TD>Length [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Transconductance"
>Transconductance</A></TD><TD>Beta</TD><TD>0.041e-3</TD><TD>Transconductance parameter [A/V2]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</A></TD><TD>Vt</TD><TD>0.8</TD><TD>Zero bias threshold voltage [V]</TD></TR>
<TR><TD>Real</TD><TD>K2</TD><TD>1.144</TD><TD>Bulk threshold parameter</TD></TR>
<TR><TD>Real</TD><TD>K5</TD><TD>0.7311</TD><TD>Reduction of pinch-off region</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>dW</TD><TD>-2.5e-6</TD><TD>narrowing of channel [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>dL</TD><TD>-1.5e-6</TD><TD>shortening of channel [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Resistance</A></TD><TD>RDS</TD><TD>1.e+7</TD><TD>Drain-Source-Resistance [Ohm]</TD></TR>
<TR><TD>Boolean</TD><TD>useHeatPort</TD><TD>false</TD><TD>=true, if HeatPort is enabled</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T</TD><TD>293.15</TD><TD>Fixed device temperature if useHeatPort = false [K]</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Pin</A></TD><TD>D</TD><TD>Drain</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Pin</A></TD><TD>G</TD><TD>Gate</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Pin</A></TD><TD>S</TD><TD>Source</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Pin</A></TD><TD>B</TD><TD>Bulk</TD></TR>
<TR><TD><A HREF="Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>heatPort</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> NMOS <font color="darkgreen">&quot;Simple MOS Transistor&quot;</font>

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Interfaces.Pin</A> D <font color="darkgreen">&quot;Drain&quot;</font>;
  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Interfaces.Pin</A> G <font color="darkgreen">&quot;Gate&quot;</font>;
  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Interfaces.Pin</A> S <font color="darkgreen">&quot;Source&quot;</font>;
  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Interfaces.Pin</A> B <font color="darkgreen">&quot;Bulk&quot;</font>;</textblock>
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SIunits.Length</A> W=20.e-6 <font color="darkgreen">&quot;Width&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SIunits.Length</A> L=6.e-6 <font color="darkgreen">&quot;Length&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Transconductance"
>SIunits.Transconductance</A> Beta=0.041e-3 <font color="darkgreen">&quot;Transconductance parameter&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>SIunits.Voltage</A> Vt=0.8 <font color="darkgreen">&quot;Zero bias threshold voltage&quot;</font>;
  <font color="blue">parameter </font>Real K2=1.144 <font color="darkgreen">&quot;Bulk threshold parameter&quot;</font>;
  <font color="blue">parameter </font>Real K5=0.7311 <font color="darkgreen">&quot;Reduction of pinch-off region&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SIunits.Length</A> dW=-2.5e-6 <font color="darkgreen">&quot;narrowing of channel&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>SIunits.Length</A> dL=-1.5e-6 <font color="darkgreen">&quot;shortening of channel&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Resistance"
>SIunits.Resistance</A> RDS=1.e+7 <font color="darkgreen">&quot;Drain-Source-Resistance&quot;</font>;
  <font color="blue">extends </font><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort"
>Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort</A>(T=293.15);
<font color="blue">protected </font>
  Real v;
  Real uds;
  Real ubs;
  Real ugst;
  Real ud;
  Real us;
  Real id;
  Real gds;
<font color="blue">equation </font>
  <font color="darkgreen">//assert (L + dL &gt; 0, &quot;Effective length must be positive&quot;);</font>
  <font color="darkgreen">//assert (W + dW &gt; 0, &quot;Effective width  must be positive&quot;);</font>
  gds = <font color="blue">if </font>(RDS &lt; 1.e-20<font color="blue"> and </font>RDS &gt; -1.e-20)<font color="blue"> then </font>1.e20<font color="blue"> else </font>1/RDS;
  v = Beta*(W + dW)/(L + dL);
  ud =<font color="red"> smooth</font>(0,<font color="blue">if </font>(D.v &lt; S.v)<font color="blue"> then </font>S.v<font color="blue"> else </font>D.v);
  us = <font color="blue">if </font>(D.v &lt; S.v)<font color="blue"> then </font>D.v<font color="blue"> else </font>S.v;
  uds = ud - us;
  ubs =<font color="red"> smooth</font>(0,<font color="blue">if </font>(B.v &gt; us)<font color="blue"> then </font>0<font color="blue"> else </font>B.v - us);
  ugst = (G.v - us - Vt + K2*ubs)*K5;
  id =<font color="red"> smooth</font>(0,<font color="blue">if </font>(ugst &lt;= 0)<font color="blue"> then </font>uds*gds<font color="blue"> else </font><font color="blue">if </font>(ugst &gt; uds)<font color="blue"> then </font>v*uds*(ugst
     - uds/2) + uds*gds<font color="blue"> else </font>v*ugst*ugst/2 + uds*gds);
  G.i = 0;
  D.i =<font color="red"> smooth</font>(0,<font color="blue">if </font>(D.v &lt; S.v)<font color="blue"> then </font>-id<font color="blue"> else </font>id);
  S.i =<font color="red"> smooth</font>(0,<font color="blue">if </font>(D.v &lt; S.v)<font color="blue"> then </font>id<font color="blue"> else </font>-id);
  B.i = 0;
  LossPower = D.i * (D.v - S.v);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>NMOS;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE NPN<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Electrical.Analog.Semiconductors.NPNI.png" ALT="Modelica.Electrical.Analog.Semiconductors.NPN" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Electrical.Analog.Semiconductors.NPN"></A><A HREF="Modelica_Electrical_Analog_Semiconductors.html#Modelica.Electrical.Analog.Semiconductors"
>Modelica.Electrical.Analog.Semiconductors</A>.NPN</H2>
<B>Simple BJT according to Ebers-Moll</B><p>
<IMG SRC="Modelica.Electrical.Analog.Semiconductors.NPND.png" ALT="Modelica.Electrical.Analog.Semiconductors.NPN">
<P><H3>Information</H3></P>
<PRE>
</pre>
<P>
This model is a simple model of a bipolar npn junction transistor according
to Ebers-Moll.
<br> <br>
<b>Please note:</b>
In case of useHeatPort=true the temperature dependence of the electrical
behavior is <b> not </b> modelled yet. The parameters are not temperature dependent.
</P>
<P>
A typical parameter set is:
</P>
<PRE>
  Bf  Br  Is     Vak  Tauf    Taur  Ccs   Cje     Cjc     Phie  Me   PHic   Mc     Gbc    Gbe    Vt
  -   -   A      V    s       s     F     F       F       V     -    V      -      mS     mS     V
  50  0.1 1e-16  0.02 0.12e-9 5e-9  1e-12 0.4e-12 0.5e-12 0.8   0.4  0.8    0.333  1e-15  1e-15  0.02585
</PRE>

<P>
<DL>
<DT><b>References:</b>
<DD>Vlach, J.; Singal, K.: Computer methods for circuit analysis and design.
Van Nostrand Reinhold, New York 1983
on page 317 ff.
</DL>
<P>
<pre>
</PRE><P>
Extends from <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort"
>Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort</A> (Partial model to include a conditional HeatPort in order to describe the power loss via a thermal network).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>Bf</TD><TD>50</TD><TD>Forward beta</TD></TR>
<TR><TD>Real</TD><TD>Br</TD><TD>0.1</TD><TD>Reverse beta</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>Current</A></TD><TD>Is</TD><TD>1.e-16</TD><TD>Transport saturation current [A]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.InversePotential"
>InversePotential</A></TD><TD>Vak</TD><TD>0.02</TD><TD>Early voltage (inverse), 1/Volt [1/V]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>Tauf</TD><TD>0.12e-9</TD><TD>Ideal forward transit time [s]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>Taur</TD><TD>5e-9</TD><TD>Ideal reverse transit time [s]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>Capacitance</A></TD><TD>Ccs</TD><TD>1e-12</TD><TD>Collector-substrat(ground) cap. [F]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>Capacitance</A></TD><TD>Cje</TD><TD>0.4e-12</TD><TD>Base-emitter zero bias depletion cap. [F]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>Capacitance</A></TD><TD>Cjc</TD><TD>0.5e-12</TD><TD>Base-coll. zero bias depletion cap. [F]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</A></TD><TD>Phie</TD><TD>0.8</TD><TD>Base-emitter diffusion voltage [V]</TD></TR>
<TR><TD>Real</TD><TD>Me</TD><TD>0.4</TD><TD>Base-emitter gradation exponent</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</A></TD><TD>Phic</TD><TD>0.8</TD><TD>Base-collector diffusion voltage [V]</TD></TR>
<TR><TD>Real</TD><TD>Mc</TD><TD>0.333</TD><TD>Base-collector gradation exponent</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Conductance"
>Conductance</A></TD><TD>Gbc</TD><TD>1e-15</TD><TD>Base-collector conductance [S]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Conductance"
>Conductance</A></TD><TD>Gbe</TD><TD>1e-15</TD><TD>Base-emitter conductance [S]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</A></TD><TD>Vt</TD><TD>0.02585</TD><TD>Voltage equivalent of temperature [V]</TD></TR>
<TR><TD>Real</TD><TD>EMin</TD><TD>-100</TD><TD>if x &lt; EMin, the exp(x) function is linearized</TD></TR>
<TR><TD>Real</TD><TD>EMax</TD><TD>40</TD><TD>if x &gt; EMax, the exp(x) function is linearized</TD></TR>
<TR><TD>Boolean</TD><TD>useHeatPort</TD><TD>false</TD><TD>=true, if HeatPort is enabled</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T</TD><TD>293.15</TD><TD>Fixed device temperature if useHeatPort = false [K]</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>heatPort</TD><TD>&nbsp;</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Pin</A></TD><TD>C</TD><TD>Collector</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Pin</A></TD><TD>B</TD><TD>Base</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Pin</A></TD><TD>E</TD><TD>Emitter</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> NPN <font color="darkgreen">&quot;Simple BJT according to Ebers-Moll&quot;</font>
  <font color="blue">parameter </font>Real Bf=50 <font color="darkgreen">&quot;Forward beta&quot;</font>;
  <font color="blue">parameter </font>Real Br=0.1 <font color="darkgreen">&quot;Reverse beta&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>SIunits.Current</A> Is=1.e-16 <font color="darkgreen">&quot;Transport saturation current&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.InversePotential"
>SIunits.InversePotential</A> Vak=0.02 <font color="darkgreen">&quot;Early voltage (inverse), 1/Volt&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SIunits.Time</A> Tauf=0.12e-9 <font color="darkgreen">&quot;Ideal forward transit time&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SIunits.Time</A> Taur=5e-9 <font color="darkgreen">&quot;Ideal reverse transit time&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>SIunits.Capacitance</A> Ccs=1e-12 <font color="darkgreen">&quot;Collector-substrat(ground) cap.&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>SIunits.Capacitance</A> Cje=0.4e-12 <font color="darkgreen">
    &quot;Base-emitter zero bias depletion cap.&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>SIunits.Capacitance</A> Cjc=0.5e-12 <font color="darkgreen">
    &quot;Base-coll. zero bias depletion cap.&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>SIunits.Voltage</A> Phie=0.8 <font color="darkgreen">&quot;Base-emitter diffusion voltage&quot;</font>;
  <font color="blue">parameter </font>Real Me=0.4 <font color="darkgreen">&quot;Base-emitter gradation exponent&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>SIunits.Voltage</A> Phic=0.8 <font color="darkgreen">&quot;Base-collector diffusion voltage&quot;</font>;
  <font color="blue">parameter </font>Real Mc=0.333 <font color="darkgreen">&quot;Base-collector gradation exponent&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Conductance"
>SIunits.Conductance</A> Gbc=1e-15 <font color="darkgreen">&quot;Base-collector conductance&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Conductance"
>SIunits.Conductance</A> Gbe=1e-15 <font color="darkgreen">&quot;Base-emitter conductance&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>SIunits.Voltage</A> Vt=0.02585 <font color="darkgreen">&quot;Voltage equivalent of temperature&quot;</font>;
  <font color="blue">parameter </font>Real EMin=-100 <font color="darkgreen">&quot;if x &lt; EMin, the exp(x) function is linearized&quot;</font>;
  <font color="blue">parameter </font>Real EMax=40 <font color="darkgreen">&quot;if x &gt; EMax, the exp(x) function is linearized&quot;</font>;
  <font color="blue">extends </font><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort"
>Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort</A>(T=293.15);
<font color="blue">protected </font>
  Real vbc;
  Real vbe;
  Real qbk;
  Real ibc;
  Real ibe;
  Real cbc;
  Real cbe;
  Real ExMin;
  Real ExMax;
  Real Capcje;
  Real Capcjc;
  <textblock type="model" expanded="false" path="Modelica.Electrical.Analog.Semiconductors.NPN.pow"><font color="blue">function</font> pow <font color="darkgreen">&quot;Just a helper function for x^y&quot;</font>
    <font color="blue">input </font>Real x;
    <font color="blue">input </font>Real y;
    <font color="blue">output </font>Real z;
  <font color="blue">algorithm </font>
    z:=x^y;
  <font color="blue">end </font>pow</textblock>;
<textblock type="annotcomp" expanded="false"><font color="blue">public </font>
  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Modelica.Electrical.Analog.Interfaces.Pin</A> C <font color="darkgreen">&quot;Collector&quot;</font>;
  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Modelica.Electrical.Analog.Interfaces.Pin</A> B <font color="darkgreen">&quot;Base&quot;</font>;
  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Modelica.Electrical.Analog.Interfaces.Pin</A> E <font color="darkgreen">&quot;Emitter&quot;</font>;</textblock>
<font color="blue">equation </font>
  ExMin =<font color="red"> exp</font>(EMin);
  ExMax =<font color="red"> exp</font>(EMax);
  vbc = B.v - C.v;
  vbe = B.v - E.v;
  qbk = 1 - vbc*Vak;

  ibc =<font color="red"> smooth</font>(1,<font color="blue">if </font>(vbc/Vt &lt; EMin)<font color="blue"> then </font>Is*(ExMin*(vbc/Vt - EMin + 1) - 1) + vbc*Gbc<font color="blue"> else </font>
          <font color="blue">if </font>(vbc/Vt &gt; EMax)<font color="blue"> then </font>Is*(ExMax*(vbc/Vt - EMax + 1) - 1) + vbc*
    Gbc<font color="blue"> else </font>Is*(<font color="red">exp</font>(vbc/Vt) - 1) + vbc*Gbc);
  ibe =<font color="red"> smooth</font>(1,<font color="blue">if </font>(vbe/Vt &lt; EMin)<font color="blue"> then </font>Is*(ExMin*(vbe/Vt - EMin + 1) - 1) + vbe*Gbe<font color="blue"> else </font>
          <font color="blue">if </font>(vbe/Vt &gt; EMax)<font color="blue"> then </font>Is*(ExMax*(vbe/Vt - EMax + 1) - 1) + vbe*
    Gbe<font color="blue"> else </font>Is*(<font color="red">exp</font>(vbe/Vt) - 1) + vbe*Gbe);
  Capcjc =<font color="red"> smooth</font>(1,(<font color="blue">if </font>(vbc/Phic &gt; 0)<font color="blue"> then </font>Cjc*(1 + Mc*vbc/Phic)<font color="blue"> else </font>Cjc*<font color="red">pow</font>(1 - vbc
    /Phic, -Mc)));
  Capcje =<font color="red"> smooth</font>(1,(<font color="blue">if </font>(vbe/Phie &gt; 0)<font color="blue"> then </font>Cje*(1 + Me*vbe/Phie)<font color="blue"> else </font>Cje*<font color="red">pow</font>(1 - vbe
    /Phie, -Me)));
  cbc =<font color="red"> smooth</font>(1,(<font color="blue">if </font>(vbc/Vt &lt; EMin)<font color="blue"> then </font>Taur*Is/Vt*ExMin*(vbc/Vt - EMin + 1) +
    Capcjc<font color="blue"> else </font><font color="blue">if </font>(vbc/Vt &gt; EMax)<font color="blue"> then </font>Taur*Is/Vt*ExMax*(vbc/Vt - EMax + 1)
     + Capcjc<font color="blue"> else </font>Taur*Is/Vt*<font color="red">exp</font>(vbc/Vt) + Capcjc));
  cbe =<font color="red"> smooth</font>(1,(<font color="blue">if </font>(vbe/Vt &lt; EMin)<font color="blue"> then </font>Tauf*Is/Vt*ExMin*(vbe/Vt - EMin + 1) +
    Capcje<font color="blue"> else </font><font color="blue">if </font>(vbe/Vt &gt; EMax)<font color="blue"> then </font>Tauf*Is/Vt*ExMax*(vbe/Vt - EMax + 1)
     + Capcje<font color="blue"> else </font>Tauf*Is/Vt*<font color="red">exp</font>(vbe/Vt) + Capcje));
  C.i = (ibe - ibc)*qbk - ibc/Br - cbc*<font color="red">der</font>(vbc) + Ccs*<font color="red">der</font>(C.v);
  B.i = ibe/Bf + ibc/Br + cbc*<font color="red">der</font>(vbc) + cbe*<font color="red">der</font>(vbe);
  E.i = -B.i - C.i + Ccs*<font color="red">der</font>(C.v);

  LossPower = (C.v-E.v)*(ibe-ibc)*qbk + vbc*ibc/Br + vbe*ibe/Bf;
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>NPN;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE PNP<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Electrical.Analog.Semiconductors.PNPI.png" ALT="Modelica.Electrical.Analog.Semiconductors.PNP" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Electrical.Analog.Semiconductors.PNP"></A><A HREF="Modelica_Electrical_Analog_Semiconductors.html#Modelica.Electrical.Analog.Semiconductors"
>Modelica.Electrical.Analog.Semiconductors</A>.PNP</H2>
<B>Simple BJT according to Ebers-Moll</B><p>
<IMG SRC="Modelica.Electrical.Analog.Semiconductors.PNPD.png" ALT="Modelica.Electrical.Analog.Semiconductors.PNP">
<P><H3>Information</H3></P>
<PRE>
</pre>
<P>
This model is a simple model of a bipolar pnp junction transistor according
to Ebers-Moll.
<br> <br>
<b>Please note:</b>
In case of useHeatPort=true the temperature dependence of the electrical
behavior is <b> not </b> modelled yet. The parameters are not temperature dependent.
<P>
A typical parameter set is:
</P>
<PRE>
  Bf  Br  Is     Vak  Tauf    Taur  Ccs   Cje     Cjc     Phie  Me   PHic   Mc     Gbc    Gbe    Vt
  -   -   A      V    s       s     F     F       F       V     -    V      -      mS     mS     V
  50  0.1 1e-16  0.02 0.12e-9 5e-9  1e-12 0.4e-12 0.5e-12 0.8   0.4  0.8    0.333  1e-15  1e-15  0.02585
</PRE>

<P>
<DL>
<DT><b>References:</b>
<DD>Vlach, J.; Singal, K.: Computer methods for circuit analysis and design.
Van Nostrand Reinhold, New York 1983
on page 317 ff.
</DL>
<P>
<pre>
</PRE><P>
Extends from <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort"
>Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort</A> (Partial model to include a conditional HeatPort in order to describe the power loss via a thermal network).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>Bf</TD><TD>50</TD><TD>Forward beta</TD></TR>
<TR><TD>Real</TD><TD>Br</TD><TD>0.1</TD><TD>Reverse beta</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>Current</A></TD><TD>Is</TD><TD>1.e-16</TD><TD>Transport saturation current [A]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.InversePotential"
>InversePotential</A></TD><TD>Vak</TD><TD>0.02</TD><TD>Early voltage (inverse), 1/Volt [1/V]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>Tauf</TD><TD>0.12e-9</TD><TD>Ideal forward transit time [s]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>Taur</TD><TD>5e-9</TD><TD>Ideal reverse transit time [s]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>Capacitance</A></TD><TD>Ccs</TD><TD>1e-12</TD><TD>Collector-substrat(ground) cap. [F]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>Capacitance</A></TD><TD>Cje</TD><TD>0.4e-12</TD><TD>Base-emitter zero bias depletion cap. [F]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>Capacitance</A></TD><TD>Cjc</TD><TD>0.5e-12</TD><TD>Base-coll. zero bias depletion cap. [F]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</A></TD><TD>Phie</TD><TD>0.8</TD><TD>Base-emitter diffusion voltage [V]</TD></TR>
<TR><TD>Real</TD><TD>Me</TD><TD>0.4</TD><TD>Base-emitter gradation exponent</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</A></TD><TD>Phic</TD><TD>0.8</TD><TD>Base-collector diffusion voltage [V]</TD></TR>
<TR><TD>Real</TD><TD>Mc</TD><TD>0.333</TD><TD>Base-collector gradation exponent</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Conductance"
>Conductance</A></TD><TD>Gbc</TD><TD>1e-15</TD><TD>Base-collector conductance [S]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Conductance"
>Conductance</A></TD><TD>Gbe</TD><TD>1e-15</TD><TD>Base-emitter conductance [S]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</A></TD><TD>Vt</TD><TD>0.02585</TD><TD>Voltage equivalent of temperature [V]</TD></TR>
<TR><TD>Real</TD><TD>EMin</TD><TD>-100</TD><TD>if x &lt; EMin, the exp(x) function is linearized</TD></TR>
<TR><TD>Real</TD><TD>EMax</TD><TD>40</TD><TD>if x &gt; EMax, the exp(x) function is linearized</TD></TR>
<TR><TD>Boolean</TD><TD>useHeatPort</TD><TD>false</TD><TD>=true, if HeatPort is enabled</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T</TD><TD>293.15</TD><TD>Fixed device temperature if useHeatPort = false [K]</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>heatPort</TD><TD>&nbsp;</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Pin</A></TD><TD>C</TD><TD>Collector</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Pin</A></TD><TD>B</TD><TD>Base</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Pin</A></TD><TD>E</TD><TD>Emitter</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> PNP <font color="darkgreen">&quot;Simple BJT according to Ebers-Moll&quot;</font>
  <font color="blue">parameter </font>Real Bf=50 <font color="darkgreen">&quot;Forward beta&quot;</font>;
  <font color="blue">parameter </font>Real Br=0.1 <font color="darkgreen">&quot;Reverse beta&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>SIunits.Current</A> Is=1.e-16 <font color="darkgreen">&quot;Transport saturation current&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.InversePotential"
>SIunits.InversePotential</A> Vak=0.02 <font color="darkgreen">&quot;Early voltage (inverse), 1/Volt&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SIunits.Time</A> Tauf=0.12e-9 <font color="darkgreen">&quot;Ideal forward transit time&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>SIunits.Time</A> Taur=5e-9 <font color="darkgreen">&quot;Ideal reverse transit time&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>SIunits.Capacitance</A> Ccs=1e-12 <font color="darkgreen">&quot;Collector-substrat(ground) cap.&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>SIunits.Capacitance</A> Cje=0.4e-12 <font color="darkgreen">
    &quot;Base-emitter zero bias depletion cap.&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>SIunits.Capacitance</A> Cjc=0.5e-12 <font color="darkgreen">
    &quot;Base-coll. zero bias depletion cap.&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>SIunits.Voltage</A> Phie=0.8 <font color="darkgreen">&quot;Base-emitter diffusion voltage&quot;</font>;
  <font color="blue">parameter </font>Real Me=0.4 <font color="darkgreen">&quot;Base-emitter gradation exponent&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>SIunits.Voltage</A> Phic=0.8 <font color="darkgreen">&quot;Base-collector diffusion voltage&quot;</font>;
  <font color="blue">parameter </font>Real Mc=0.333 <font color="darkgreen">&quot;Base-collector gradation exponent&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Conductance"
>SIunits.Conductance</A> Gbc=1e-15 <font color="darkgreen">&quot;Base-collector conductance&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Conductance"
>SIunits.Conductance</A> Gbe=1e-15 <font color="darkgreen">&quot;Base-emitter conductance&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>SIunits.Voltage</A> Vt=0.02585 <font color="darkgreen">&quot;Voltage equivalent of temperature&quot;</font>;
  <font color="blue">parameter </font>Real EMin=-100 <font color="darkgreen">&quot;if x &lt; EMin, the exp(x) function is linearized&quot;</font>;
  <font color="blue">parameter </font>Real EMax=40 <font color="darkgreen">&quot;if x &gt; EMax, the exp(x) function is linearized&quot;</font>;
  <font color="blue">extends </font><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort"
>Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort</A>(T=293.15);
<font color="blue">protected </font>
  Real vbc;
  Real vbe;
  Real qbk;
  Real ibc;
  Real ibe;
  Real cbc;
  Real cbe;
  Real ExMin;
  Real ExMax;
  Real Capcje;
  Real Capcjc;
  <textblock type="model" expanded="false" path="Modelica.Electrical.Analog.Semiconductors.PNP.pow"><font color="blue">function</font> pow <font color="darkgreen">&quot;Just a helper function for x^y&quot;</font>
    <font color="blue">input </font>Real x;
    <font color="blue">input </font>Real y;
    <font color="blue">output </font>Real z;
  <font color="blue">algorithm </font>
    z:=x^y;
  <font color="blue">end </font>pow</textblock>;
<textblock type="annotcomp" expanded="false"><font color="blue">public </font>
  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Modelica.Electrical.Analog.Interfaces.Pin</A> C <font color="darkgreen">&quot;Collector&quot;</font>;
  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Modelica.Electrical.Analog.Interfaces.Pin</A> B <font color="darkgreen">&quot;Base&quot;</font>;
  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Modelica.Electrical.Analog.Interfaces.Pin</A> E <font color="darkgreen">&quot;Emitter&quot;</font>;</textblock>
<font color="blue">equation </font>
  ExMin =<font color="red"> exp</font>(EMin);
  ExMax =<font color="red"> exp</font>(EMax);
  vbc = C.v - B.v;
  vbe = E.v - B.v;
  qbk = 1 - vbc*Vak;

  ibc =<font color="red"> smooth</font>(1,(<font color="blue">if </font>(vbc/Vt &lt; EMin)<font color="blue"> then </font>Is*(ExMin*(vbc/Vt - EMin + 1) - 1) + vbc*Gbc<font color="blue"> else </font>
          <font color="blue">if </font>(vbc/Vt &gt; EMax)<font color="blue"> then </font>Is*(ExMax*(vbc/Vt - EMax + 1) - 1) + vbc*
    Gbc<font color="blue"> else </font>Is*(<font color="red">exp</font>(vbc/Vt) - 1) + vbc*Gbc));

  ibe =<font color="red"> smooth</font>(1,(<font color="blue">if </font>(vbe/Vt &lt; EMin)<font color="blue"> then </font>Is*(ExMin*(vbe/Vt - EMin + 1) - 1) + vbe*Gbe<font color="blue"> else </font>
          <font color="blue">if </font>(vbe/Vt &gt; EMax)<font color="blue"> then </font>Is*(ExMax*(vbe/Vt - EMax + 1) - 1) + vbe*
    Gbe<font color="blue"> else </font>Is*(<font color="red">exp</font>(vbe/Vt) - 1) + vbe*Gbe));

  Capcjc =<font color="red"> smooth</font>(1,(<font color="blue">if </font>(vbc/Phic &gt; 0)<font color="blue"> then </font>Cjc*(1 + Mc*vbc/Phic)<font color="blue"> else </font>Cjc*<font color="red">pow</font>(1 - vbc
    /Phic, -Mc)));
  Capcje =<font color="red"> smooth</font>(1,<font color="blue">if </font>(vbe/Phie &gt; 0)<font color="blue"> then </font>Cje*(1 + Me*vbe/Phie)<font color="blue"> else </font>Cje*<font color="red">pow</font>(1 - vbe
    /Phie, -Me));
  cbc =<font color="red"> smooth</font>(1,(<font color="blue">if </font>(vbc/Vt &lt; EMin)<font color="blue"> then </font>Taur*Is/Vt*ExMin*(vbc/Vt - EMin + 1) +
    Capcjc<font color="blue"> else </font><font color="blue">if </font>(vbc/Vt &gt; EMax)<font color="blue"> then </font>Taur*Is/Vt*ExMax*(vbc/Vt - EMax + 1)
     + Capcjc<font color="blue"> else </font>Taur*Is/Vt*<font color="red">exp</font>(vbc/Vt) + Capcjc));
  cbe =<font color="red"> smooth</font>(1,(<font color="blue">if </font>(vbe/Vt &lt; EMin)<font color="blue"> then </font>Tauf*Is/Vt*ExMin*(vbe/Vt - EMin + 1) +
    Capcje<font color="blue"> else </font><font color="blue">if </font>(vbe/Vt &gt; EMax)<font color="blue"> then </font>Tauf*Is/Vt*ExMax*(vbe/Vt - EMax + 1)
     + Capcje<font color="blue"> else </font>Tauf*Is/Vt*<font color="red">exp</font>(vbe/Vt) + Capcje));
  C.i = -((ibe - ibc)*qbk - ibc/Br - cbc*<font color="red">der</font>(vbc) - Ccs*<font color="red">der</font>(C.v));
  B.i = -(ibe/Bf + ibc/Br + cbe*<font color="red">der</font>(vbe) + cbc*<font color="red">der</font>(vbc));
  E.i = -B.i - C.i + Ccs*<font color="red">der</font>(C.v);

  LossPower = (E.v-C.v)*(ibe-ibc)*qbk + vbc*ibc/Br + vbe*ibe/Bf;
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>PNP;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE HeatingDiode<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Electrical.Analog.Semiconductors.HeatingDiodeI.png" ALT="Modelica.Electrical.Analog.Semiconductors.HeatingDiode" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Electrical.Analog.Semiconductors.HeatingDiode"></A><A HREF="Modelica_Electrical_Analog_Semiconductors.html#Modelica.Electrical.Analog.Semiconductors"
>Modelica.Electrical.Analog.Semiconductors</A>.HeatingDiode</H2>
<B>Simple diode with heating port</B><p>
<IMG SRC="Modelica.Electrical.Analog.Semiconductors.HeatingDiodeD.png" ALT="Modelica.Electrical.Analog.Semiconductors.HeatingDiode">
<P><H3>Information</H3></P>
<PRE>
</pre>
<P>
The simple diode is an electrical one port, where a heat port is added, which is
defined in the Modelica.Thermal library. It consists of the diode itself and an parallel ohmic
resistance <i>R</i>. The diode formula is:
</P>
<PRE>
                v/vt_t
  i  =  ids ( e        - 1).
</PRE>
where vt_t depends on the temperature of the heat port:
<PRE>
  vt_t = k*temp/q
</PRE>
<P>
If the exponent <i>v/vt_t</i> reaches the limit <i>maxex</i>, the diode characterisic is linearly
continued to avoid overflow.<br>
The thermal power is calculated by <i>i*v</i>.
</P>
<pre>
</PRE><P>
Extends from <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.OnePort"
>Modelica.Electrical.Analog.Interfaces.OnePort</A> (Component with two electrical pins p and n and current i from p to n), <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort"
>Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort</A> (Partial model to include a conditional HeatPort in order to describe the power loss via a thermal network).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>Current</A></TD><TD>Ids</TD><TD>1.e-6</TD><TD>Saturation current [A]</TD></TR>
<TR><TD>Real</TD><TD>Maxexp</TD><TD>15</TD><TD>Max. exponent for linear continuation</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Resistance</A></TD><TD>R</TD><TD>1.e8</TD><TD>Parallel ohmic resistance [Ohm]</TD></TR>
<TR><TD>Real</TD><TD>EG</TD><TD>1.11</TD><TD>activation energy</TD></TR>
<TR><TD>Real</TD><TD>N</TD><TD>1</TD><TD>Emission coefficient</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>TNOM</TD><TD>300.15</TD><TD>Parameter measurement temperature [K]</TD></TR>
<TR><TD>Real</TD><TD>XTI</TD><TD>3</TD><TD>Temperature exponent of saturation current</TD></TR>
<TR><TD>Boolean</TD><TD>useHeatPort</TD><TD>true</TD><TD>=true, if HeatPort is enabled</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T</TD><TD>293.15</TD><TD>Fixed device temperature if useHeatPort = false [K]</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin"
>PositivePin</A></TD><TD>p</TD><TD>Positive pin (potential p.v &gt; n.v for positive voltage drop v)</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.NegativePin"
>NegativePin</A></TD><TD>n</TD><TD>Negative pin</TD></TR>
<TR><TD><A HREF="Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>heatPort</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> HeatingDiode <font color="darkgreen">&quot;Simple diode with heating port&quot;</font>
  <font color="blue">extends </font><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.OnePort"
>Modelica.Electrical.Analog.Interfaces.OnePort</A>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>Modelica.SIunits.Current</A> Ids=1.e-6 <font color="darkgreen">&quot;Saturation current&quot;</font>;
  <font color="darkgreen">/* parameter Modelica.SIunits.Voltage Vt=0.04 &quot;Voltage equivalent of temperature (kT/qn)&quot;; */</font>
  <font color="blue">parameter </font>Real Maxexp(<font color="blue">final </font>min=Modelica.Constants.small) = 15 <font color="darkgreen">
    &quot;Max. exponent for linear continuation&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Modelica.SIunits.Resistance</A> R=1.e8 <font color="darkgreen">&quot;Parallel ohmic resistance&quot;</font>;
  <font color="blue">parameter </font>Real EG=1.11 <font color="darkgreen">&quot;activation energy&quot;</font>;
  <font color="blue">parameter </font>Real N=1 <font color="darkgreen">&quot;Emission coefficient&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</A> TNOM=300.15 <font color="darkgreen">
    &quot;Parameter measurement temperature&quot;</font>;
  <font color="blue">parameter </font>Real XTI=3 <font color="darkgreen">&quot;Temperature exponent of saturation current&quot;</font>;
  <font color="blue">extends </font><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort"
>Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort</A>(useHeatPort=true);

  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</A> vt_t <font color="darkgreen">&quot;Temperature voltage&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>Modelica.SIunits.Current</A> id <font color="darkgreen">&quot;diode current&quot;</font>;
<font color="blue">protected </font>
  Real k=1.380662e-23 <font color="darkgreen">&quot;Boltzmann&#39;s constant, J/K&quot;</font>;
  Real q=1.6021892e-19 <font color="darkgreen">&quot;Electron charge, As&quot;</font>;
  <A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</A> htemp <font color="darkgreen">&quot;auxiliary temperature&quot;</font>;
  Real aux;
  Real auxp;
  Real maxexp=<font color="red">exp</font>(Maxexp);
<font color="blue">equation </font>
  <font color="red">assert</font>( T_heatPort &gt; 0,&quot;temperature must be positive&quot;);
  htemp = T_heatPort;
  vt_t = k*htemp/q;

  id =<font color="red"> exlin</font>((v/(N*vt_t)), Maxexp) - 1;

  aux = (htemp/TNOM - 1)*EG/(N*vt_t);
  auxp =<font color="red"> exp</font>(aux);

  i = Ids*id*<font color="red">pow</font>(htemp/TNOM, XTI/N)*auxp + v/R;

  LossPower = i*v;
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>HeatingDiode;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE HeatingNMOS<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Electrical.Analog.Semiconductors.HeatingNMOSI.png" ALT="Modelica.Electrical.Analog.Semiconductors.HeatingNMOS" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Electrical.Analog.Semiconductors.HeatingNMOS"></A><A HREF="Modelica_Electrical_Analog_Semiconductors.html#Modelica.Electrical.Analog.Semiconductors"
>Modelica.Electrical.Analog.Semiconductors</A>.HeatingNMOS</H2>
<B>Simple MOS Transistor with heating port</B><p>
<IMG SRC="Modelica.Electrical.Analog.Semiconductors.HeatingNMOSD.png" ALT="Modelica.Electrical.Analog.Semiconductors.HeatingNMOS">
<P><H3>Information</H3></P>
<PRE>
</pre>
<P>
The NMos model is a simple model of a n-channel metal-oxide semiconductor
FET. It differs slightly from the device used in the SPICE simulator.
For more details please care for H. Spiro.
</P>
<P>
A heating port is added for thermal electric simulation. The heating port
is defined in the Modelica.Thermal library.
</P>
<P>
The model does not consider capacitances. A high drain-source resistance RDS
is included to avoid numerical difficulties.
</P>
<P>
<PRE>
  W       L      Beta        Vt       K2      K5       DW         DL
  m       m      A/V^2       V        -       -        m          m
  12.e-6  4.e-6  .062e-3   -4.5      .24     .61     -1.2e-6     -.9e-6      depletion
  60.e-6  3.e-6  .048e-3     .1      .08     .68     -1.2e-6     -.9e-6      enhancement
  12.e-6  4.e-6  .0625e-3   -.8      .21     .78     -1.2e-6     -.9e-6      zero
  50.e-6  8.e-6  .0299e-3    .24    1.144    .7311   -5.4e-6    -4.e-6
  20.e-6  6.e-6  .041e-3     .8     1.144    .7311   -2.5e-6    -1.5e-6
  30.e-6  9.e-6  .025e-3   -4.       .861    .878    -3.4e-6    -1.74e-6
  30.e-6  5.e-6  .031e-3     .6     1.5      .72      0         -3.9e-6
  50.e-6  6.e-6  .0414e-3  -3.8      .34     .8      -1.6e-6    -2.e-6       depletion
  50.e-6  5.e-6  .03e-3      .37     .23     .86     -1.6e-6    -2.e-6       enhancement
  50.e-6  6.e-6  .038e-3    -.9      .23     .707    -1.6e-6    -2.e-6       zero
  20.e-6  4.e-6  .06776e-3   .5409   .065    .71      -.8e-6     -.2e-6
  20.e-6  4.e-6  .06505e-3   .6209   .065    .71      -.8e-6     -.2e-6
  20.e-6  4.e-6  .05365e-3   .6909   .03     .8       -.3e-6     -.2e-6
  20.e-6  4.e-6  .05365e-3   .4909   .03     .8       -.3e-6     -.2e-6
  12.e-6  4.e-6  .023e-3   -4.5      .29     .6       0          0           depletion
  60.e-6  3.e-6  .022e-3     .1      .11     .65      0          0           enhancement
  12.e-6  4.e-6  .038e-3    -.8      .33     .6       0          0           zero
  20.e-6  6.e-6  .022e-3     .8     1        .66      0          0
</PRE>
<P>
<DL>
<DT><b>References:</b>
<DD>Spiro, H.: Simulation integrierter Schaltungen. R. Oldenbourg Verlag
Muenchen Wien 1990.
</DL>
</P>
<pre>
</PRE><P>
Extends from <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort"
>Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort</A> (Partial model to include a conditional HeatPort in order to describe the power loss via a thermal network).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>W</TD><TD>20.e-6</TD><TD>Width [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>L</TD><TD>6.e-6</TD><TD>Length [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Transconductance"
>Transconductance</A></TD><TD>Beta</TD><TD>0.041e-3</TD><TD>Transconductance parameter [A/V2]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</A></TD><TD>Vt</TD><TD>0.8</TD><TD>Zero bias threshold voltage [V]</TD></TR>
<TR><TD>Real</TD><TD>K2</TD><TD>1.144</TD><TD>Bulk threshold parameter</TD></TR>
<TR><TD>Real</TD><TD>K5</TD><TD>0.7311</TD><TD>Reduction of pinch-off region</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>dW</TD><TD>-2.5e-6</TD><TD>narrowing of channel [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>dL</TD><TD>-1.5e-6</TD><TD>shortening of channel [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Resistance</A></TD><TD>RDS</TD><TD>1.e+7</TD><TD>Drain-Source-Resistance [Ohm]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>Tnom</TD><TD>300.15</TD><TD>Parameter measurement temperature [K]</TD></TR>
<TR><TD>Real</TD><TD>kvt</TD><TD>-6.96e-3</TD><TD>fitting parameter for Vt</TD></TR>
<TR><TD>Real</TD><TD>kk2</TD><TD>6.0e-4</TD><TD>fitting parameter for K22</TD></TR>
<TR><TD>Boolean</TD><TD>useHeatPort</TD><TD>true</TD><TD>=true, if HeatPort is enabled</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T</TD><TD>293.15</TD><TD>Fixed device temperature if useHeatPort = false [K]</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Pin</A></TD><TD>D</TD><TD>Drain</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Pin</A></TD><TD>G</TD><TD>Gate</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Pin</A></TD><TD>S</TD><TD>Source</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Pin</A></TD><TD>B</TD><TD>Bulk</TD></TR>
<TR><TD><A HREF="Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>heatPort</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> HeatingNMOS <font color="darkgreen">&quot;Simple MOS Transistor with heating port&quot;</font>

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Modelica.Electrical.Analog.Interfaces.Pin</A> D <font color="darkgreen">&quot;Drain&quot;</font>;
  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Modelica.Electrical.Analog.Interfaces.Pin</A> G <font color="darkgreen">&quot;Gate&quot;</font>;
  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Modelica.Electrical.Analog.Interfaces.Pin</A> S <font color="darkgreen">&quot;Source&quot;</font>;
  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Modelica.Electrical.Analog.Interfaces.Pin</A> B <font color="darkgreen">&quot;Bulk&quot;</font>;</textblock>
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</A> W=20.e-6 <font color="darkgreen">&quot;Width&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</A> L=6.e-6 <font color="darkgreen">&quot;Length&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Transconductance"
>Modelica.SIunits.Transconductance</A> Beta=0.041e-3 <font color="darkgreen">
    &quot;Transconductance parameter&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</A> Vt=0.8 <font color="darkgreen">&quot;Zero bias threshold voltage&quot;</font>;
  <font color="blue">parameter </font>Real K2=1.144 <font color="darkgreen">&quot;Bulk threshold parameter&quot;</font>;
  <font color="blue">parameter </font>Real K5=0.7311 <font color="darkgreen">&quot;Reduction of pinch-off region&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</A> dW=-2.5e-6 <font color="darkgreen">&quot;narrowing of channel&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</A> dL=-1.5e-6 <font color="darkgreen">&quot;shortening of channel&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Modelica.SIunits.Resistance</A> RDS=1.e+7 <font color="darkgreen">&quot;Drain-Source-Resistance&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</A> Tnom=300.15 <font color="darkgreen">
    &quot;Parameter measurement temperature&quot;</font>;
  <font color="blue">parameter </font>Real kvt=-6.96e-3 <font color="darkgreen">&quot;fitting parameter for Vt&quot;</font>;
  <font color="blue">parameter </font>Real kk2=6.0e-4 <font color="darkgreen">&quot;fitting parameter for K22&quot;</font>;
  <font color="blue">extends </font><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort"
>Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort</A>(useHeatPort=true);
<font color="blue">protected </font>
  Real v;
  Real uds;
  Real ubs;
  Real ugst;
  Real ud;
  Real us;
  Real id;
  Real gds;
  Real beta_t;
  Real vt_t;
  Real k2_t;
<font color="blue">equation </font>
  <font color="red">assert</font>(L + dL &gt; 0, &quot;Effective length must be positive&quot;);
  <font color="red">assert</font>(W + dW &gt; 0, &quot;Effective width  must be positive&quot;);
  <font color="red">assert</font>( T_heatPort &gt; 0,&quot;temperature must be positive&quot;);
  gds = <font color="blue">if </font>(RDS &lt; 1.e-20<font color="blue"> and </font>RDS &gt; -1.e-20)<font color="blue"> then </font>1.e20<font color="blue"> else </font>1/RDS;
  v = beta_t*(W + dW)/(L + dL);
  ud =<font color="red"> smooth</font>(0,<font color="blue">if </font>(D.v &lt; S.v)<font color="blue"> then </font>S.v<font color="blue"> else </font>D.v);
  us =<font color="red"> smooth</font>(0,<font color="blue">if </font>(D.v &lt; S.v)<font color="blue"> then </font>D.v<font color="blue"> else </font>S.v);
  uds = ud - us;
  ubs =<font color="red"> smooth</font>(0,<font color="blue">if </font>(B.v &gt; us)<font color="blue"> then </font>0<font color="blue"> else </font>B.v - us);
  ugst = (G.v - us - vt_t + k2_t*ubs)*K5;
  id =<font color="red"> smooth</font>(0,<font color="blue">if </font>(ugst &lt;= 0)<font color="blue"> then </font>uds*gds<font color="blue"> else </font><font color="blue">if </font>(ugst &gt; uds)<font color="blue"> then </font>v*uds*(
    ugst - uds/2) + uds*gds<font color="blue"> else </font>v*ugst*ugst/2 + uds*gds);

  beta_t = Beta*<font color="red">pow</font>((T_heatPort/Tnom), -1.5);
  vt_t = Vt*(1 + (T_heatPort - Tnom)*kvt);
  k2_t = K2*(1 + (T_heatPort - Tnom)*kk2);

  G.i = 0;
  D.i =<font color="red"> smooth</font>(0,<font color="blue">if </font>(D.v &lt; S.v)<font color="blue"> then </font>-id<font color="blue"> else </font>id);
  S.i =<font color="red"> smooth</font>(0,<font color="blue">if </font>(D.v &lt; S.v)<font color="blue"> then </font>id<font color="blue"> else </font>-id);
  B.i = 0;
  LossPower = D.i*(D.v - S.v);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>HeatingNMOS;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE HeatingPMOS<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Electrical.Analog.Semiconductors.HeatingPMOSI.png" ALT="Modelica.Electrical.Analog.Semiconductors.HeatingPMOS" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Electrical.Analog.Semiconductors.HeatingPMOS"></A><A HREF="Modelica_Electrical_Analog_Semiconductors.html#Modelica.Electrical.Analog.Semiconductors"
>Modelica.Electrical.Analog.Semiconductors</A>.HeatingPMOS</H2>
<B>Simple PMOS Transistor with heating port</B><p>
<IMG SRC="Modelica.Electrical.Analog.Semiconductors.HeatingPMOSD.png" ALT="Modelica.Electrical.Analog.Semiconductors.HeatingPMOS">
<P><H3>Information</H3></P>
<PRE>
</pre>
<P>
The PMOS model is a simple model of a p-channel metal-oxide semiconductor
FET. It differs slightly from the device used in the SPICE simulator.
For more details please care for H. Spiro.
</P>
<P>
A heating port is added for thermal electric simulation. The heating port
is defined in the Modelica.Thermal library.
</P>
<P>
The model does not consider capacitances. A high drain-source resistance RDS
is included to avoid numerical difficulties.
</P>
<DL>
<DT><b>References:</b>
<DD>Spiro, H.: Simulation integrierter Schaltungen. R. Oldenbourg Verlag
  Muenchen Wien 1990.
</DL>
<P>
Some typical parameter sets are:
</P>
<PRE>
  W       L      Beta        Vt       K2       K5       DW         DL
  m       m      A/V^2       V        -        -        m          m
  50.e-6  8.e-6  .0085e-3   -.15     .41      .839    -3.8e-6    -4.0e-6
  20.e-6  6.e-6  .0105e-3  -1.0      .41      .839    -2.5e-6    -2.1e-6
  30.e-6  5.e-6  .0059e-3   -.3      .98     1.01      0         -3.9e-6
  30.e-6  5.e-6  .0152e-3   -.69     .104    1.1       -.8e-6     -.4e-6
  30.e-6  5.e-6  .0163e-3   -.69     .104    1.1       -.8e-6     -.4e-6
  30.e-6  5.e-6  .0182e-3   -.69     .086    1.06      -.1e-6     -.6e-6
  20.e-6  6.e-6  .0074e-3  -1.       .4       .59      0          0
</PRE>
</P>
<pre>
</PRE><P>
Extends from <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort"
>Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort</A> (Partial model to include a conditional HeatPort in order to describe the power loss via a thermal network).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>W</TD><TD>20.0e-6</TD><TD>Width [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>L</TD><TD>6.0e-6</TD><TD>Length [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Transconductance"
>Transconductance</A></TD><TD>Beta</TD><TD>0.0105e-3</TD><TD>Transconductance parameter [A/V2]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</A></TD><TD>Vt</TD><TD>-1.0</TD><TD>Zero bias threshold voltage [V]</TD></TR>
<TR><TD>Real</TD><TD>K2</TD><TD>0.41</TD><TD>Bulk threshold parameter</TD></TR>
<TR><TD>Real</TD><TD>K5</TD><TD>0.839</TD><TD>Reduction of pinch-off region</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>dW</TD><TD>-2.5e-6</TD><TD>Narrowing of channel [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</A></TD><TD>dL</TD><TD>-2.1e-6</TD><TD>Shortening of channel [m]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Resistance</A></TD><TD>RDS</TD><TD>1.e+7</TD><TD>Drain-Source-Resistance [Ohm]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>Tnom</TD><TD>300.15</TD><TD>Parameter measurement temperature [K]</TD></TR>
<TR><TD>Real</TD><TD>kvt</TD><TD>-2.9e-3</TD><TD>fitting parameter for Vt</TD></TR>
<TR><TD>Real</TD><TD>kk2</TD><TD>6.2e-4</TD><TD>fitting parameter for Kk2</TD></TR>
<TR><TD>Boolean</TD><TD>useHeatPort</TD><TD>true</TD><TD>=true, if HeatPort is enabled</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T</TD><TD>293.15</TD><TD>Fixed device temperature if useHeatPort = false [K]</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Pin</A></TD><TD>D</TD><TD>Drain</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Pin</A></TD><TD>G</TD><TD>Gate</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Pin</A></TD><TD>S</TD><TD>Source</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Pin</A></TD><TD>B</TD><TD>Bulk</TD></TR>
<TR><TD><A HREF="Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>heatPort</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> HeatingPMOS <font color="darkgreen">&quot;Simple PMOS Transistor with heating port&quot;</font>

<textblock type="annotcomp" expanded="false">  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Modelica.Electrical.Analog.Interfaces.Pin</A> D <font color="darkgreen">&quot;Drain&quot;</font>;
  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Modelica.Electrical.Analog.Interfaces.Pin</A> G <font color="darkgreen">&quot;Gate&quot;</font>;
  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Modelica.Electrical.Analog.Interfaces.Pin</A> S <font color="darkgreen">&quot;Source&quot;</font>;
  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Modelica.Electrical.Analog.Interfaces.Pin</A> B <font color="darkgreen">&quot;Bulk&quot;</font>;</textblock>
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</A> W=20.0e-6 <font color="darkgreen">&quot;Width&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</A> L=6.0e-6 <font color="darkgreen">&quot;Length&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Transconductance"
>Modelica.SIunits.Transconductance</A> Beta=0.0105e-3 <font color="darkgreen">
    &quot;Transconductance parameter&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</A> Vt=-1.0 <font color="darkgreen">&quot;Zero bias threshold voltage&quot;</font>;
  <font color="blue">parameter </font>Real K2=0.41 <font color="darkgreen">&quot;Bulk threshold parameter&quot;</font>;
  <font color="blue">parameter </font>Real K5=0.839 <font color="darkgreen">&quot;Reduction of pinch-off region&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</A> dW=-2.5e-6 <font color="darkgreen">&quot;Narrowing of channel&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</A> dL=-2.1e-6 <font color="darkgreen">&quot;Shortening of channel&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Modelica.SIunits.Resistance</A> RDS=1.e+7 <font color="darkgreen">&quot;Drain-Source-Resistance&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</A> Tnom=300.15 <font color="darkgreen">
    &quot;Parameter measurement temperature&quot;</font>;
  <font color="blue">parameter </font>Real kvt=-2.9e-3 <font color="darkgreen">&quot;fitting parameter for Vt&quot;</font>;
  <font color="blue">parameter </font>Real kk2=6.2e-4 <font color="darkgreen">&quot;fitting parameter for Kk2&quot;</font>;
  <font color="blue">extends </font><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort"
>Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort</A>(useHeatPort=true);
<font color="blue">protected </font>
  Real v;
  Real uds;
  Real ubs;
  Real ugst;
  Real ud;
  Real us;
  Real id;
  Real gds;
  Real beta_t;
  Real vt_t;
  Real k2_t;
<font color="blue">equation </font>
  <font color="red">assert</font>(L + dL &gt; 0, &quot;Effective length must be positive&quot;);
  <font color="red">assert</font>(W + dW &gt; 0, &quot;Effective width  must be positive&quot;);
  <font color="red">assert</font>( T_heatPort &gt; 0,&quot;temperature must be positive&quot;);
  gds = <font color="blue">if </font>(RDS &lt; 1.e-20<font color="blue"> and </font>RDS &gt; -1.e-20)<font color="blue"> then </font>1.e20<font color="blue"> else </font>1/RDS;
  v = beta_t*(W + dW)/(L + dL);
  ud =<font color="red"> smooth</font>(0,<font color="blue">if </font>(D.v &gt; S.v)<font color="blue"> then </font>S.v<font color="blue"> else </font>D.v);
  us =<font color="red"> smooth</font>(0,<font color="blue">if </font>(D.v &gt; S.v)<font color="blue"> then </font>D.v<font color="blue"> else </font>S.v);
  uds = ud - us;
  ubs =<font color="red"> smooth</font>(0,<font color="blue">if </font>(B.v &lt; us)<font color="blue"> then </font>0<font color="blue"> else </font>B.v - us);
  ugst = (G.v - us - vt_t + k2_t*ubs)*K5;
  id =<font color="red"> smooth</font>(0,<font color="blue">if </font>(ugst &gt;= 0)<font color="blue"> then </font>uds*gds<font color="blue"> else </font><font color="blue">if </font>(ugst &lt; uds)<font color="blue"> then </font>-v*uds*(
    ugst - uds/2) + uds*gds<font color="blue"> else </font>-v*ugst*ugst/2 + uds*gds);

  beta_t = Beta*<font color="red">pow</font>((T_heatPort/Tnom), -1.5);
  vt_t = Vt*(1 + (T_heatPort - Tnom)*kvt);
  k2_t = K2*(1 + (T_heatPort - Tnom)*kk2);

  G.i = 0;
  D.i =<font color="red"> smooth</font>(0,<font color="blue">if </font>(D.v &gt; S.v)<font color="blue"> then </font>-id<font color="blue"> else </font>id);
  S.i =<font color="red"> smooth</font>(0,<font color="blue">if </font>(D.v &gt; S.v)<font color="blue"> then </font>id<font color="blue"> else </font>-id);
  B.i = 0;
  LossPower = D.i*(D.v - S.v);
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>HeatingPMOS;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE HeatingNPN<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Electrical.Analog.Semiconductors.HeatingNPNI.png" ALT="Modelica.Electrical.Analog.Semiconductors.HeatingNPN" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Electrical.Analog.Semiconductors.HeatingNPN"></A><A HREF="Modelica_Electrical_Analog_Semiconductors.html#Modelica.Electrical.Analog.Semiconductors"
>Modelica.Electrical.Analog.Semiconductors</A>.HeatingNPN</H2>
<B>Simple NPN BJT according to Ebers-Moll with heating port</B><p>
<IMG SRC="Modelica.Electrical.Analog.Semiconductors.HeatingNPND.png" ALT="Modelica.Electrical.Analog.Semiconductors.HeatingNPN">
<P><H3>Information</H3></P>
<PRE>
</pre>
<P>
This model is a simple model of a bipolar npn junction transistor according
to Ebers-Moll.
</P>
<P>
A heating port is added for thermal electric simulation. The heating port
is defined in the Modelica.Thermal library.
</P>
<P>
A typical parameter set is (the parameter Vt is no longer used):
</P>
<PRE>
  Bf  Br  Is     Vak  Tauf    Taur  Ccs   Cje     Cjc     Phie  Me   PHic   Mc     Gbc    Gbe
  -   -   A      V    s       s     F     F       F       V     -    V      -      mS     mS
  50  0.1 1e-16  0.02 0.12e-9 5e-9  1e-12 0.4e-12 0.5e-12 0.8   0.4  0.8    0.333  1e-15  1e-15
</PRE>
<P>
<DL>
<DT><b>References:</b>
<DD>Vlach, J.; Singal, K.: Computer methods for circuit analysis and design.
Van Nostrand Reinhold, New York 1983
on page 317 ff.
</DL>
</P>
<pre>
</PRE><P>
Extends from <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort"
>Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort</A> (Partial model to include a conditional HeatPort in order to describe the power loss via a thermal network).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>Bf</TD><TD>50</TD><TD>Forward beta</TD></TR>
<TR><TD>Real</TD><TD>Br</TD><TD>0.1</TD><TD>Reverse beta</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>Current</A></TD><TD>Is</TD><TD>1.e-16</TD><TD>Transport saturation current [A]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.InversePotential"
>InversePotential</A></TD><TD>Vak</TD><TD>0.02</TD><TD>Early voltage (inverse), 1/Volt [1/V]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>Tauf</TD><TD>0.12e-9</TD><TD>Ideal forward transit time [s]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>Taur</TD><TD>5e-9</TD><TD>Ideal reverse transit time [s]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>Capacitance</A></TD><TD>Ccs</TD><TD>1e-12</TD><TD>Collector-substrat(ground) cap. [F]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>Capacitance</A></TD><TD>Cje</TD><TD>0.4e-12</TD><TD>Base-emitter zero bias depletion cap. [F]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>Capacitance</A></TD><TD>Cjc</TD><TD>0.5e-12</TD><TD>Base-coll. zero bias depletion cap. [F]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</A></TD><TD>Phie</TD><TD>0.8</TD><TD>Base-emitter diffusion voltage [V]</TD></TR>
<TR><TD>Real</TD><TD>Me</TD><TD>0.4</TD><TD>Base-emitter gradation exponent</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</A></TD><TD>Phic</TD><TD>0.8</TD><TD>Base-collector diffusion voltage [V]</TD></TR>
<TR><TD>Real</TD><TD>Mc</TD><TD>0.333</TD><TD>Base-collector gradation exponent</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Conductance"
>Conductance</A></TD><TD>Gbc</TD><TD>1e-15</TD><TD>Base-collector conductance [S]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Conductance"
>Conductance</A></TD><TD>Gbe</TD><TD>1e-15</TD><TD>Base-emitter conductance [S]</TD></TR>
<TR><TD>Real</TD><TD>EMin</TD><TD>-100</TD><TD>if x &lt; EMin, the exp(x) function is linearized</TD></TR>
<TR><TD>Real</TD><TD>EMax</TD><TD>40</TD><TD>if x &gt; EMax, the exp(x) function is linearized</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>Tnom</TD><TD>300.15</TD><TD>Parameter measurement temperature [K]</TD></TR>
<TR><TD>Real</TD><TD>XTI</TD><TD>3</TD><TD>Temperature exponent for effect on Is</TD></TR>
<TR><TD>Real</TD><TD>XTB</TD><TD>0</TD><TD>Forward and reverse beta temperature exponent</TD></TR>
<TR><TD>Real</TD><TD>EG</TD><TD>1.11</TD><TD>Energy gap for temperature effect on Is</TD></TR>
<TR><TD>Real</TD><TD>NF</TD><TD>1.0</TD><TD>Forward current emission coefficient</TD></TR>
<TR><TD>Real</TD><TD>NR</TD><TD>1.0</TD><TD>Reverse current emission coefficient</TD></TR>
<TR><TD>Real</TD><TD>K</TD><TD>1.3806226e-23</TD><TD>Boltzmann&#39;s constant</TD></TR>
<TR><TD>Real</TD><TD>q</TD><TD>1.6021918e-19</TD><TD>Elementary electronic charge</TD></TR>
<TR><TD>Boolean</TD><TD>useHeatPort</TD><TD>true</TD><TD>=true, if HeatPort is enabled</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T</TD><TD>293.15</TD><TD>Fixed device temperature if useHeatPort = false [K]</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>heatPort</TD><TD>&nbsp;</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Pin</A></TD><TD>C</TD><TD>Collector</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Pin</A></TD><TD>B</TD><TD>Base</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Pin</A></TD><TD>E</TD><TD>Emitter</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> HeatingNPN <font color="darkgreen">
  &quot;Simple NPN BJT according to Ebers-Moll with heating port&quot;</font>
  <font color="blue">parameter </font>Real Bf=50 <font color="darkgreen">&quot;Forward beta&quot;</font>;
  <font color="blue">parameter </font>Real Br=0.1 <font color="darkgreen">&quot;Reverse beta&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>Modelica.SIunits.Current</A> Is=1.e-16 <font color="darkgreen">&quot;Transport saturation current&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.InversePotential"
>Modelica.SIunits.InversePotential</A> Vak=0.02 <font color="darkgreen">
    &quot;Early voltage (inverse), 1/Volt&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</A> Tauf=0.12e-9 <font color="darkgreen">&quot;Ideal forward transit time&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</A> Taur=5e-9 <font color="darkgreen">&quot;Ideal reverse transit time&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>Modelica.SIunits.Capacitance</A> Ccs=1e-12 <font color="darkgreen">
    &quot;Collector-substrat(ground) cap.&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>Modelica.SIunits.Capacitance</A> Cje=0.4e-12 <font color="darkgreen">
    &quot;Base-emitter zero bias depletion cap.&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>Modelica.SIunits.Capacitance</A> Cjc=0.5e-12 <font color="darkgreen">
    &quot;Base-coll. zero bias depletion cap.&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</A> Phie=0.8 <font color="darkgreen">&quot;Base-emitter diffusion voltage&quot;</font>;
  <font color="blue">parameter </font>Real Me=0.4 <font color="darkgreen">&quot;Base-emitter gradation exponent&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</A> Phic=0.8 <font color="darkgreen">
    &quot;Base-collector diffusion voltage&quot;</font>;
  <font color="blue">parameter </font>Real Mc=0.333 <font color="darkgreen">&quot;Base-collector gradation exponent&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Conductance"
>Modelica.SIunits.Conductance</A> Gbc=1e-15 <font color="darkgreen">&quot;Base-collector conductance&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Conductance"
>Modelica.SIunits.Conductance</A> Gbe=1e-15 <font color="darkgreen">&quot;Base-emitter conductance&quot;</font>;
  <font color="blue">parameter </font>Real EMin=-100 <font color="darkgreen">&quot;if x &lt; EMin, the exp(x) function is linearized&quot;</font>;
  <font color="blue">parameter </font>Real EMax=40 <font color="darkgreen">&quot;if x &gt; EMax, the exp(x) function is linearized&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</A> Tnom=300.15 <font color="darkgreen">
    &quot;Parameter measurement temperature&quot;</font>;
  <font color="blue">parameter </font>Real XTI=3 <font color="darkgreen">&quot;Temperature exponent for effect on Is&quot;</font>;
  <font color="blue">parameter </font>Real XTB=0 <font color="darkgreen">&quot;Forward and reverse beta temperature exponent&quot;</font>;
  <font color="blue">parameter </font>Real EG=1.11 <font color="darkgreen">&quot;Energy gap for temperature effect on Is&quot;</font>;
  <font color="blue">parameter </font>Real NF=1.0 <font color="darkgreen">&quot;Forward current emission coefficient&quot;</font>;
  <font color="blue">parameter </font>Real NR=1.0 <font color="darkgreen">&quot;Reverse current emission coefficient&quot;</font>;
  <font color="blue">parameter </font>Real K=1.3806226e-23 <font color="darkgreen">&quot;Boltzmann&#39;s constant&quot;</font>;
  <font color="blue">parameter </font>Real q=1.6021918e-19 <font color="darkgreen">&quot;Elementary electronic charge&quot;</font>;
  <font color="blue">extends </font><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort"
>Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort</A>(useHeatPort=true);
  <font color="darkgreen">/*protected*/</font>
  Real vbc;
  Real vbe;
  Real qbk;
  Real ibc;
  Real ibe;
  Real cbc;
  Real cbe;
  Real ExMin;
  Real ExMax;
  Real Capcje;
  Real Capcjc;
  Real is_t;
  Real br_t;
  Real bf_t;
  Real vt_t;
  Real hexp;
  Real htempexp;
<textblock type="annotcomp" expanded="false"><font color="blue">public </font>
  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Modelica.Electrical.Analog.Interfaces.Pin</A> C <font color="darkgreen">&quot;Collector&quot;</font>;
  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Modelica.Electrical.Analog.Interfaces.Pin</A> B <font color="darkgreen">&quot;Base&quot;</font>;
  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Modelica.Electrical.Analog.Interfaces.Pin</A> E <font color="darkgreen">&quot;Emitter&quot;</font>;</textblock>
<font color="blue">equation </font>
  <font color="red">assert</font>( T_heatPort &gt; 0,&quot;temperature must be positive&quot;);
  ExMin =<font color="red"> exp</font>(EMin);
  ExMax =<font color="red"> exp</font>(EMax);
  vbc = B.v - C.v;
  vbe = B.v - E.v;
  qbk = 1 - vbc*Vak;

  hexp = (T_heatPort/Tnom - 1)*EG/vt_t;
  htempexp =<font color="red"> smooth</font>(1,<font color="blue">if </font>(hexp &lt; EMin)<font color="blue"> then </font>ExMin*(hexp - EMin + 1)<font color="blue"> else </font><font color="blue">if </font>(
    hexp &gt; EMax)<font color="blue"> then </font>ExMax*(hexp - EMax + 1)<font color="blue"> else </font><font color="red">exp</font>(hexp));

  is_t = Is*<font color="red">pow</font>((T_heatPort/Tnom), XTI)*htempexp;
  br_t = Br*<font color="red">pow</font>((T_heatPort/Tnom), XTB);
  bf_t = Bf*<font color="red">pow</font>((T_heatPort/Tnom), XTB);
  vt_t = (K/q)*T_heatPort;

  ibc =<font color="red"> smooth</font>(1,(<font color="blue">if </font>(vbc/(NR*vt_t) &lt; EMin)<font color="blue"> then </font>is_t*(ExMin*(vbc/(NR*vt_t) -
    EMin + 1) - 1) + vbc*Gbc<font color="blue"> else </font><font color="blue">if </font>(vbc/(NR*vt_t) &gt; EMax)<font color="blue"> then </font>is_t*(
    ExMax*(vbc/(NR*vt_t) - EMax + 1) - 1) + vbc*Gbc<font color="blue"> else </font>is_t*(<font color="red">exp</font>(vbc/
    (NR*vt_t)) - 1) + vbc*Gbc));
  ibe =<font color="red"> smooth</font>(1,(<font color="blue">if </font>(vbe/(NF*vt_t) &lt; EMin)<font color="blue"> then </font>is_t*(ExMin*(vbe/(NF*vt_t) -
    EMin + 1) - 1) + vbe*Gbe<font color="blue"> else </font><font color="blue">if </font>(vbe/(NF*vt_t) &gt; EMax)<font color="blue"> then </font>is_t*(
    ExMax*(vbe/(NF*vt_t) - EMax + 1) - 1) + vbe*Gbe<font color="blue"> else </font>is_t*(<font color="red">exp</font>(vbe/
    (NF*vt_t)) - 1) + vbe*Gbe));
  Capcjc =<font color="red"> smooth</font>(1,(<font color="blue">if </font>(vbc/Phic &gt; 0)<font color="blue"> then </font>Cjc*(1 + Mc*vbc/Phic)<font color="blue"> else </font>Cjc*<font color="red">pow</font>(1
     - vbc/Phic, -Mc)));
  Capcje =<font color="red"> smooth</font>(1,(<font color="blue">if </font>(vbe/Phie &gt; 0)<font color="blue"> then </font>Cje*(1 + Me*vbe/Phie)<font color="blue"> else </font>Cje*<font color="red">pow</font>(1
     - vbe/Phie, -Me)));
  cbc =<font color="red"> smooth</font>(1,(<font color="blue">if </font>(vbc/(NR*vt_t) &lt; EMin)<font color="blue"> then </font>Taur*is_t/(NR*vt_t)*ExMin*(vbc/(
    NR*vt_t) - EMin + 1) + Capcjc<font color="blue"> else </font><font color="blue">if </font>(vbc/(NR*vt_t) &gt; EMax)<font color="blue"> then </font>
    Taur*is_t/(NR*vt_t)*ExMax*(vbc/(NR*vt_t) - EMax + 1) + Capcjc<font color="blue"> else </font>
    Taur*is_t/(NR*vt_t)*<font color="red">exp</font>(vbc/(NR*vt_t)) + Capcjc));
  cbe =<font color="red"> smooth</font>(1,(<font color="blue">if </font>(vbe/(NF*vt_t) &lt; EMin)<font color="blue"> then </font>Tauf*is_t/(NF*vt_t)*ExMin*(vbe/(
    NF*vt_t) - EMin + 1) + Capcje<font color="blue"> else </font><font color="blue">if </font>(vbe/(NF*vt_t) &gt; EMax)<font color="blue"> then </font>
    Tauf*is_t/(NF*vt_t)*ExMax*(vbe/(NF*vt_t) - EMax + 1) + Capcje<font color="blue"> else </font>
    Tauf*is_t/(NF*vt_t)*<font color="red">exp</font>(vbe/(NF*vt_t)) + Capcje));
  C.i = (ibe - ibc)*qbk - ibc/br_t - cbc*<font color="red">der</font>(vbc) + Ccs*<font color="red">der</font>(C.v);
  B.i = ibe/bf_t + ibc/br_t + cbc*<font color="red">der</font>(vbc) + cbe*<font color="red">der</font>(vbe);
  E.i = -B.i - C.i + Ccs*<font color="red">der</font>(C.v);

  LossPower = (vbc*ibc/br_t + vbe*ibe/bf_t + (ibe - ibc)*qbk*(C.v - E.v));
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>HeatingNPN;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE HeatingPNP<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Electrical.Analog.Semiconductors.HeatingPNPI.png" ALT="Modelica.Electrical.Analog.Semiconductors.HeatingPNP" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Electrical.Analog.Semiconductors.HeatingPNP"></A><A HREF="Modelica_Electrical_Analog_Semiconductors.html#Modelica.Electrical.Analog.Semiconductors"
>Modelica.Electrical.Analog.Semiconductors</A>.HeatingPNP</H2>
<B>Simple PNP BJT according to Ebers-Moll with heating port</B><p>
<IMG SRC="Modelica.Electrical.Analog.Semiconductors.HeatingPNPD.png" ALT="Modelica.Electrical.Analog.Semiconductors.HeatingPNP">
<P><H3>Information</H3></P>
<PRE>
</pre>
<P>
This model is a simple model of a bipolar pnp junction transistor according
to Ebers-Moll.
<P>
A heating port is added for thermal electric simulation. The heating port
is defined in the Modelica.Thermal library.
</P>
<P>
A typical parameter set is  (the parameter Vt is no longer used):
</P>
<PRE>
  Bf  Br  Is     Vak  Tauf    Taur  Ccs   Cje     Cjc     Phie  Me   PHic   Mc     Gbc    Gbe
  -   -   A      V    s       s     F     F       F       V     -    V      -      mS     mS
  50  0.1 1e-16  0.02 0.12e-9 5e-9  1e-12 0.4e-12 0.5e-12 0.8   0.4  0.8    0.333  1e-15  1e-15
</PRE>
<P>
<DL>
<DT><b>References:</b>
<DD>Vlach, J.; Singal, K.: Computer methods for circuit analysis and design.
Van Nostrand Reinhold, New York 1983
on page 317 ff.
</DL>
<pre>
</PRE><P>
Extends from <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort"
>Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort</A> (Partial model to include a conditional HeatPort in order to describe the power loss via a thermal network).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>Bf</TD><TD>50</TD><TD>Forward beta</TD></TR>
<TR><TD>Real</TD><TD>Br</TD><TD>0.1</TD><TD>Reverse beta</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>Current</A></TD><TD>Is</TD><TD>1.e-16</TD><TD>Transport saturation current [A]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.InversePotential"
>InversePotential</A></TD><TD>Vak</TD><TD>0.02</TD><TD>Early voltage (inverse), 1/Volt [1/V]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>Tauf</TD><TD>0.12e-9</TD><TD>Ideal forward transit time [s]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>Taur</TD><TD>5e-9</TD><TD>Ideal reverse transit time [s]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>Capacitance</A></TD><TD>Ccs</TD><TD>1e-12</TD><TD>Collector-substrat(ground) cap. [F]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>Capacitance</A></TD><TD>Cje</TD><TD>0.4e-12</TD><TD>Base-emitter zero bias depletion cap. [F]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>Capacitance</A></TD><TD>Cjc</TD><TD>0.5e-12</TD><TD>Base-coll. zero bias depletion cap. [F]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</A></TD><TD>Phie</TD><TD>0.8</TD><TD>Base-emitter diffusion voltage [V]</TD></TR>
<TR><TD>Real</TD><TD>Me</TD><TD>0.4</TD><TD>Base-emitter gradation exponent</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</A></TD><TD>Phic</TD><TD>0.8</TD><TD>Base-collector diffusion voltage [V]</TD></TR>
<TR><TD>Real</TD><TD>Mc</TD><TD>0.333</TD><TD>Base-collector gradation exponent</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Conductance"
>Conductance</A></TD><TD>Gbc</TD><TD>1e-15</TD><TD>Base-collector conductance [S]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Conductance"
>Conductance</A></TD><TD>Gbe</TD><TD>1e-15</TD><TD>Base-emitter conductance [S]</TD></TR>
<TR><TD>Real</TD><TD>EMin</TD><TD>-100</TD><TD>if x &lt; EMin, the exp(x) function is linearized</TD></TR>
<TR><TD>Real</TD><TD>EMax</TD><TD>40</TD><TD>if x &gt; EMax, the exp(x) function is linearized</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>Tnom</TD><TD>300.15</TD><TD>Parameter measurement temperature [K]</TD></TR>
<TR><TD>Real</TD><TD>XTI</TD><TD>3</TD><TD>Temperature exponent for effect on Is</TD></TR>
<TR><TD>Real</TD><TD>XTB</TD><TD>0</TD><TD>Forward and reverse beta temperature exponent</TD></TR>
<TR><TD>Real</TD><TD>EG</TD><TD>1.11</TD><TD>Energy gap for temperature effect on Is</TD></TR>
<TR><TD>Real</TD><TD>NF</TD><TD>1.0</TD><TD>Forward current emission coefficient</TD></TR>
<TR><TD>Real</TD><TD>NR</TD><TD>1.0</TD><TD>Reverse current emission coefficient</TD></TR>
<TR><TD>Real</TD><TD>K</TD><TD>1.3806226e-23</TD><TD>Boltzmann&#39;s constant</TD></TR>
<TR><TD>Real</TD><TD>q</TD><TD>1.6021918e-19</TD><TD>Elementary electronic charge</TD></TR>
<TR><TD>Boolean</TD><TD>useHeatPort</TD><TD>true</TD><TD>=true, if HeatPort is enabled</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</A></TD><TD>T</TD><TD>293.15</TD><TD>Fixed device temperature if useHeatPort = false [K]</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Thermal_HeatTransfer_Interfaces.html#Modelica.Thermal.HeatTransfer.Interfaces.HeatPort_a"
>HeatPort_a</A></TD><TD>heatPort</TD><TD>&nbsp;</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Pin</A></TD><TD>C</TD><TD>Collector</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Pin</A></TD><TD>B</TD><TD>Base</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Pin</A></TD><TD>E</TD><TD>Emitter</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> HeatingPNP <font color="darkgreen">
  &quot;Simple PNP BJT according to Ebers-Moll with heating port&quot;</font>
  <font color="blue">parameter </font>Real Bf=50 <font color="darkgreen">&quot;Forward beta&quot;</font>;
  <font color="blue">parameter </font>Real Br=0.1 <font color="darkgreen">&quot;Reverse beta&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>Modelica.SIunits.Current</A> Is=1.e-16 <font color="darkgreen">&quot;Transport saturation current&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.InversePotential"
>Modelica.SIunits.InversePotential</A> Vak=0.02 <font color="darkgreen">
    &quot;Early voltage (inverse), 1/Volt&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</A> Tauf=0.12e-9 <font color="darkgreen">&quot;Ideal forward transit time&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</A> Taur=5e-9 <font color="darkgreen">&quot;Ideal reverse transit time&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>Modelica.SIunits.Capacitance</A> Ccs=1e-12 <font color="darkgreen">
    &quot;Collector-substrat(ground) cap.&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>Modelica.SIunits.Capacitance</A> Cje=0.4e-12 <font color="darkgreen">
    &quot;Base-emitter zero bias depletion cap.&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Capacitance"
>Modelica.SIunits.Capacitance</A> Cjc=0.5e-12 <font color="darkgreen">
    &quot;Base-coll. zero bias depletion cap.&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</A> Phie=0.8 <font color="darkgreen">&quot;Base-emitter diffusion voltage&quot;</font>;
  <font color="blue">parameter </font>Real Me=0.4 <font color="darkgreen">&quot;Base-emitter gradation exponent&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</A> Phic=0.8 <font color="darkgreen">
    &quot;Base-collector diffusion voltage&quot;</font>;
  <font color="blue">parameter </font>Real Mc=0.333 <font color="darkgreen">&quot;Base-collector gradation exponent&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Conductance"
>Modelica.SIunits.Conductance</A> Gbc=1e-15 <font color="darkgreen">&quot;Base-collector conductance&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Conductance"
>Modelica.SIunits.Conductance</A> Gbe=1e-15 <font color="darkgreen">&quot;Base-emitter conductance&quot;</font>;
  <font color="blue">parameter </font>Real EMin=-100 <font color="darkgreen">&quot;if x &lt; EMin, the exp(x) function is linearized&quot;</font>;
  <font color="blue">parameter </font>Real EMax=40 <font color="darkgreen">&quot;if x &gt; EMax, the exp(x) function is linearized&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</A> Tnom=300.15 <font color="darkgreen">
    &quot;Parameter measurement temperature&quot;</font>;
  <font color="blue">parameter </font>Real XTI=3 <font color="darkgreen">&quot;Temperature exponent for effect on Is&quot;</font>;
  <font color="blue">parameter </font>Real XTB=0 <font color="darkgreen">&quot;Forward and reverse beta temperature exponent&quot;</font>;
  <font color="blue">parameter </font>Real EG=1.11 <font color="darkgreen">&quot;Energy gap for temperature effect on Is&quot;</font>;
  <font color="blue">parameter </font>Real NF=1.0 <font color="darkgreen">&quot;Forward current emission coefficient&quot;</font>;
  <font color="blue">parameter </font>Real NR=1.0 <font color="darkgreen">&quot;Reverse current emission coefficient&quot;</font>;
  <font color="blue">parameter </font>Real K=1.3806226e-23 <font color="darkgreen">&quot;Boltzmann&#39;s constant&quot;</font>;
  <font color="blue">parameter </font>Real q=1.6021918e-19 <font color="darkgreen">&quot;Elementary electronic charge&quot;</font>;
  <font color="blue">extends </font><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort"
>Modelica.Electrical.Analog.Interfaces.ConditionalHeatPort</A>(useHeatPort=true);
<font color="blue">protected </font>
  Real vcb;
  Real veb;
  Real qbk;
  Real icb;
  Real ieb;
  Real ccb;
  Real ceb;
  Real ExMin;
  Real ExMax;
  Real Capcje;
  Real Capcjc;
  Real is_t;
  Real br_t;
  Real bf_t;
  Real vt_t;
  Real hexp;
  Real htempexp;
<textblock type="annotcomp" expanded="false"><font color="blue">public </font>
  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Modelica.Electrical.Analog.Interfaces.Pin</A> C <font color="darkgreen">&quot;Collector&quot;</font>;
  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Modelica.Electrical.Analog.Interfaces.Pin</A> B <font color="darkgreen">&quot;Base&quot;</font>;
  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.Pin"
>Modelica.Electrical.Analog.Interfaces.Pin</A> E <font color="darkgreen">&quot;Emitter&quot;</font>;</textblock>
<font color="blue">equation </font>
  <font color="red">assert</font>( T_heatPort &gt; 0,&quot;temperature must be positive&quot;);
  ExMin =<font color="red"> exp</font>(EMin);
  ExMax =<font color="red"> exp</font>(EMax);
  vcb = C.v - B.v;
  veb = E.v - B.v;
  qbk = 1 - vcb*Vak;

  hexp = (T_heatPort/Tnom - 1)*EG/vt_t;
  htempexp =<font color="red"> smooth</font>(1,<font color="blue">if </font>(hexp &lt; EMin)<font color="blue"> then </font>ExMin*(hexp - EMin + 1)<font color="blue"> else </font><font color="blue">if </font>(
    hexp &gt; EMax)<font color="blue"> then </font>ExMax*(hexp - EMax + 1)<font color="blue"> else </font><font color="red">exp</font>(hexp));

  is_t = Is*<font color="red">pow</font>((T_heatPort/Tnom), XTI)*htempexp;
  br_t = Br*<font color="red">pow</font>((T_heatPort/Tnom), XTB);
  bf_t = Bf*<font color="red">pow</font>((T_heatPort/Tnom), XTB);
  vt_t = (K/q)*T_heatPort;

  icb =<font color="red"> smooth</font>(1,(<font color="blue">if </font>(vcb/(NR*vt_t) &lt; EMin)<font color="blue"> then </font>is_t*(ExMin*(vcb/(NR*vt_t) -
    EMin + 1) - 1) + vcb*Gbc<font color="blue"> else </font><font color="blue">if </font>(vcb/(NR*vt_t) &gt; EMax)<font color="blue"> then </font>is_t*(
    ExMax*(vcb/(NR*vt_t) - EMax + 1) - 1) + vcb*Gbc<font color="blue"> else </font>is_t*(<font color="red">exp</font>(vcb/
    (NR*vt_t)) - 1) + vcb*Gbc));

  ieb =<font color="red"> smooth</font>(1,(<font color="blue">if </font>(veb/(NF*vt_t) &lt; EMin)<font color="blue"> then </font>is_t*(ExMin*(veb/(NF*vt_t) -
    EMin + 1) - 1) + veb*Gbe<font color="blue"> else </font><font color="blue">if </font>(veb/(NF*vt_t) &gt; EMax)<font color="blue"> then </font>is_t*(
    ExMax*(veb/(NF*vt_t) - EMax + 1) - 1) + veb*Gbe<font color="blue"> else </font>is_t*(<font color="red">exp</font>(veb/
    (NF*vt_t)) - 1) + veb*Gbe));

  Capcjc =<font color="red"> smooth</font>(1,(<font color="blue">if </font>(vcb/Phic &gt; 0)<font color="blue"> then </font>Cjc*(1 + Mc*vcb/Phic)<font color="blue"> else </font>Cjc*<font color="red">pow</font>(1
     - vcb/Phic, -Mc)));
  Capcje =<font color="red"> smooth</font>(1,(<font color="blue">if </font>(veb/Phie &gt; 0)<font color="blue"> then </font>Cje*(1 + Me*veb/Phie)<font color="blue"> else </font>Cje*<font color="red">pow</font>(1
     - veb/Phie, -Me)));
  ccb =<font color="red"> smooth</font>(1,(<font color="blue">if </font>(vcb/(NR*vt_t) &lt; EMin)<font color="blue"> then </font>Taur*is_t/(NR*vt_t)*ExMin*(vcb/(
    NR*vt_t) - EMin + 1) + Capcjc<font color="blue"> else </font><font color="blue">if </font>(vcb/(NR*vt_t) &gt; EMax)<font color="blue"> then </font>
    Taur*is_t/(NR*vt_t)*ExMax*(vcb/(NR*vt_t) - EMax + 1) + Capcjc<font color="blue"> else </font>
    Taur*is_t/(NR*vt_t)*<font color="red">exp</font>(vcb/(NR*vt_t)) + Capcjc));
  ceb =<font color="red"> smooth</font>(1,(<font color="blue">if </font>(veb/(NF*vt_t) &lt; EMin)<font color="blue"> then </font>Tauf*is_t/(NF*vt_t)*ExMin*(veb/(
    NF*vt_t) - EMin + 1) + Capcje<font color="blue"> else </font><font color="blue">if </font>(veb/(NF*vt_t) &gt; EMax)<font color="blue"> then </font>
    Tauf*is_t/(NF*vt_t)*ExMax*(veb/(NF*vt_t) - EMax + 1) + Capcje<font color="blue"> else </font>
    Tauf*is_t/(NF*vt_t)*<font color="red">exp</font>(veb/(NF*vt_t)) + Capcje));
  C.i = icb/br_t + ccb*<font color="red">der</font>(vcb) + Ccs*<font color="red">der</font>(C.v) + (icb - ieb)*qbk;
  B.i = -ieb/bf_t - icb/br_t - ceb*<font color="red">der</font>(veb) - ccb*<font color="red">der</font>(vcb);
  E.i = -B.i - C.i + Ccs*<font color="red">der</font>(C.v);

  LossPower = (vcb*icb/br_t + veb*ieb/bf_t + (icb - ieb)*qbk*(C.v- E.v));
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>HeatingPNP;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE pow<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Electrical.Analog.Semiconductors.pow"></A><A HREF="Modelica_Electrical_Analog_Semiconductors.html#Modelica.Electrical.Analog.Semiconductors"
>Modelica.Electrical.Analog.Semiconductors</A>.pow</H2>
<B>Just a helper function for x^y in order that a symbolic engine can apply some transformations more easily</B><p>
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>x</TD><TD>&nbsp;</TD><TD>&nbsp;</TD></TR>
<TR><TD>Real</TD><TD>y</TD><TD>&nbsp;</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>z</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> pow <font color="darkgreen">
  &quot;Just a helper function for x^y in order that a symbolic engine can apply some transformations more easily&quot;</font>

  <font color="blue">input </font>Real x;
  <font color="blue">input </font>Real y;
  <font color="blue">output </font>Real z;
<font color="blue">algorithm </font>
  z := x^y;
<font color="blue">end </font>pow;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE exlin<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="Modelica.Electrical.Analog.Semiconductors.exlin"></A><A HREF="Modelica_Electrical_Analog_Semiconductors.html#Modelica.Electrical.Analog.Semiconductors"
>Modelica.Electrical.Analog.Semiconductors</A>.exlin</H2>
<B>Exponential function linearly continued for x &gt; Maxexp</B><p>
<P><H3>Inputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>x</TD><TD>&nbsp;</TD><TD>&nbsp;</TD></TR>
<TR><TD>Real</TD><TD>Maxexp</TD><TD>&nbsp;</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Outputs</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>z</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">function</font> exlin <font color="darkgreen">
  &quot;Exponential function linearly continued for x &gt; Maxexp&quot;</font>

  <font color="blue">input </font>Real x;
  <font color="blue">input </font>Real Maxexp;
  <font color="blue">output </font>Real z;
<font color="blue">algorithm </font>
  z := <font color="blue">if </font>x &gt; Maxexp<font color="blue"> then </font><font color="red">exp</font>(Maxexp)*(1 + x - Maxexp)<font color="blue"> else </font><font color="red">exp</font>(x);
<font color="blue">end </font>exlin;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Thyristor<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="Modelica.Electrical.Analog.Semiconductors.ThyristorI.png" ALT="Modelica.Electrical.Analog.Semiconductors.Thyristor" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="Modelica.Electrical.Analog.Semiconductors.Thyristor"></A><A HREF="Modelica_Electrical_Analog_Semiconductors.html#Modelica.Electrical.Analog.Semiconductors"
>Modelica.Electrical.Analog.Semiconductors</A>.Thyristor</H2>
<B>Simple Thyristor Model</B><p>
<IMG SRC="Modelica.Electrical.Analog.Semiconductors.ThyristorD.png" ALT="Modelica.Electrical.Analog.Semiconductors.Thyristor">
<P><H3>Information</H3></P>
<PRE></pre>
This is a simple thyristor model with three pins: Anode, Cathode and Gate.
There are three operating modes: <br>
conducting, blocking and reverse breakthrough. <br>
</P>
<p>
As long as the thyristor is in blocking mode it behaves like a linear resistance Roff=VDRM^2/(VTM*IH). <br>
But if the voltage between anode and cathode exceeds VDRM or a positive gate current flows for a sufficient time the mode changes to conducting mode. <br>
The model stays in conducting mode until the anode current falls below the holding current IH. There is no way to switch off the thyristor via the gate. <br>
If the voltage between anode and cathode is negative, the model represents a diode (parameters Vt, Nbv) with reverse breakthrough voltage VRRM. <br>
</P>
<P>
The dV/dt switch on is not taken into account in this model. The gate circuit is not influenced by the main circuit.
</p>
<pre>
</PRE><P>

<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</A></TD><TD>VDRM</TD><TD>100</TD><TD>Forward breakthrough voltage [V]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</A></TD><TD>VRRM</TD><TD>100</TD><TD>Reverse breakthrough voltage [V]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>Current</A></TD><TD>IDRM</TD><TD>0.1</TD><TD>Saturation current [A]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</A></TD><TD>VTM</TD><TD>1.7</TD><TD>Conducting voltage [V]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>Current</A></TD><TD>IH</TD><TD>6e-3</TD><TD>Holding current [A]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>Current</A></TD><TD>ITM</TD><TD>25</TD><TD>Conducting current [A]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</A></TD><TD>VGT</TD><TD>0.7</TD><TD>Gate trigger voltage [V]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>Current</A></TD><TD>IGT</TD><TD>5e-3</TD><TD>Gate trigger current [A]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>TON</TD><TD>1e-6</TD><TD>Switch on time [s]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>TOFF</TD><TD>15e-6</TD><TD>Switch off time [s]</TD></TR>
<TR><TD><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Voltage</A></TD><TD>Vt</TD><TD>0.04</TD><TD>Voltage equivalent of temperature (kT/qn) [V]</TD></TR>
<TR><TD>Real</TD><TD>Nbv</TD><TD>0.74</TD><TD>Reverse Breakthrough emission coefficient</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin"
>PositivePin</A></TD><TD>Anode</TD><TD>&nbsp;</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.NegativePin"
>NegativePin</A></TD><TD>Cathode</TD><TD>&nbsp;</TD></TR>
<TR><TD><A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin"
>PositivePin</A></TD><TD>Gate</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> Thyristor <font color="darkgreen">&quot;Simple Thyristor Model&quot;</font>
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</A> VDRM(<font color="blue">final </font>min=0) = 100 <font color="darkgreen">
    &quot;Forward breakthrough voltage&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</A> VRRM(<font color="blue">final </font>min=0) = 100 <font color="darkgreen">
    &quot;Reverse breakthrough voltage&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>Modelica.SIunits.Current</A> IDRM=0.1 <font color="darkgreen">&quot;Saturation current&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</A> VTM= 1.7 <font color="darkgreen">&quot;Conducting voltage&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>Modelica.SIunits.Current</A> IH=6e-3 <font color="darkgreen">&quot;Holding current&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>Modelica.SIunits.Current</A> ITM= 25 <font color="darkgreen">&quot;Conducting current&quot;</font>;

  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</A> VGT= 0.7 <font color="darkgreen">&quot;Gate trigger voltage&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Current"
>Modelica.SIunits.Current</A> IGT= 5e-3 <font color="darkgreen">&quot;Gate trigger current&quot;</font>;

  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</A> TON = 1e-6 <font color="darkgreen">&quot;Switch on time&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</A> TOFF = 15e-6 <font color="darkgreen">&quot;Switch off time&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</A> Vt=0.04 <font color="darkgreen">
    &quot;Voltage equivalent of temperature (kT/qn)&quot;</font>;
  <font color="blue">parameter </font>Real Nbv=0.74 <font color="darkgreen">&quot;Reverse Breakthrough emission coefficient&quot;</font>;

  Real iGK <font color="darkgreen">&quot;gate current&quot;</font>;
  Real vGK <font color="darkgreen">&quot;voltage between gate and cathode&quot;</font>;
  Real vAK <font color="darkgreen">&quot;voltage between anode and cathode&quot;</font>;
  Real vControl(start=0);
  Real vContot;
  Real vConmain;

<textblock type="annotcomp" expanded="false"><font color="blue">public </font>
  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin"
>Modelica.Electrical.Analog.Interfaces.PositivePin</A> Anode;
  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.NegativePin"
>Modelica.Electrical.Analog.Interfaces.NegativePin</A> Cathode;
  <A HREF="Modelica_Electrical_Analog_Interfaces.html#Modelica.Electrical.Analog.Interfaces.PositivePin"
>Modelica.Electrical.Analog.Interfaces.PositivePin</A> Gate;</textblock>

<font color="blue">protected </font>
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</A> Von=5;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Voltage"
>Modelica.SIunits.Voltage</A> Voff= 1.5;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Modelica.SIunits.Resistance</A> Ron=(VTM-0.7)/ITM <font color="darkgreen">
    &quot;Forward conducting mode resistance&quot;</font>;
  <font color="blue">parameter </font><A HREF="Modelica_SIunits.html#Modelica.SIunits.Resistance"
>Modelica.SIunits.Resistance</A> Roff=(VDRM^2)/VTM/IH <font color="darkgreen">
    &quot;Blocking mode resistance&quot;</font>;

<font color="blue">equation </font>
  <font color="darkgreen">//Kirchhoff&#39;s equations</font>
  Anode.i+Gate.i+Cathode.i=0;
  vGK=Gate.v-Cathode.v;
  vAK=Anode.v-Cathode.v;

  <font color="darkgreen">// Gate and Control voltage</font>
  iGK = Gate.i;
  vGK =<font color="red"> smooth</font>(0,(<font color="blue">if </font>vGK &lt; 0.65<font color="blue"> then </font>VGT/IGT*iGK<font color="blue"> else </font>
        0.65^2/VGT+iGK*(VGT-0.65)/IGT));
  vContot = vConmain +<font color="red"> smooth</font>(0, <font color="blue">if </font>iGK &lt; 0.95 * IGT<font color="blue"> then </font>0<font color="blue"> else </font><font color="blue">if </font>iGK &lt; 0.95*IGT + 1e-3<font color="blue"> then </font>10000*(iGK-0.95*IGT)*vAK<font color="blue"> else </font>10* vAK);
  <font color="red">der</font>(vControl)= (vContot - vControl) / (<font color="blue">if </font>(vContot - vControl) &gt; 0<font color="blue"> then </font>1.87*TON<font color="blue"> else </font>0.638*TOFF);

  <font color="darkgreen">// Anode-Cathode characteristics</font>
  Anode.i=<font color="red"> smooth</font>(1, <font color="blue">if </font>vAK &lt; -VRRM<font color="blue"> then </font>-VRRM/Roff*<font color="red">exp</font>(-(vAK+VRRM)/(Nbv*Vt))<font color="blue"> else </font>
         <font color="blue">if </font>vControl&lt;Voff<font color="blue"> then </font>vAK/Roff<font color="blue"> else </font>
         <font color="blue">if </font>vControl&lt;Von<font color="blue"> then </font>vAK/(<font color="red">sqrt</font>(Ron*Roff)*(Ron/Roff)^((3*((2*vControl-Von-Voff)/(2*(Von-Voff)))-4*((2*vControl-Von-Voff)/(2*(Von-Voff)))^3)/2))<font color="blue"> else </font>
          vAK/Ron);

  <font color="darkgreen">// holding effect and forward breakthrough</font>
  vConmain = (<font color="blue">if </font>Anode.i&gt;IH<font color="blue"> or </font>vAK&gt;VDRM<font color="blue"> then </font>Von<font color="blue"> else </font>0);

<textblock type="annotcomp" expanded="false"><font color="blue">end </font>Thyristor;
</PRE>
<HR>
<address>HTML-documentation generated by <a href="http://www.Dymola.com/">Dymola</a> Sun Jan 17 21:10:09 2010.
</address></BODY>
</HTML>
