
# Name of the executable
EXE = vdp_cppad@EXEEXT@ 

# Name of shared library
SHARED = vdp_cppad@SHAREDEXT@

# Object files to be included in the executable
OBJS = vdp_cppad_main.@OBJEXT@ \
	vdp.@OBJEXT@

# Object files to be included in the shared library
SHAREDOBJS = vdp.@OBJEXT@

# Additional libraries
ADDLIBS =

# Additional flags for compilation (e.g., include flags)
ADDINCFLAGS =

# Directory to the sources for the (example) problem definition
# files
SRCDIR = @srcdir@
VPATH = @srcdir@

##########################################################################
#  Usually, you don't have to change anything below.                     #
##########################################################################

# C++ Compiler command
CXX = @CXX@

# C++ Compiler options
CXXFLAGS = @CXXFLAGS@ -DJMI_AD=JMI_AD_CPPAD
CXXLINKFLAGS = 

SHARED_LDFLAGS = @SHARED_LDFLAGS@

# Directories with header files
JMIINCDIR = @includedir@
CPPADINCDIR = @CPPAD_INC@

# Directory with jmi.a
JMILIBDIR = @libdir@
exec_prefix = @exec_prefix@
prefix = @prefix@

# Libraries necessary to link with jmi
LIBS = @jmi_cppadlib@ #@ADDLIBS@

# Include paths for compilation
INCL =  -I$(JMIINCDIR) -I$(CPPADINCDIR)

all: $(EXE) $(SHARED)

.SUFFIXES: .cpp .c .o .obj

# Create the executable
$(EXE): $(OBJS)
	$(CXX) $(CXXLINKFLAGS) $(CXXFLAGS) -o $@ $(OBJS) $(LIBS)

# Create the shared library
$(SHARED): $(OBJS)
	$(CXX) $(SHARED_LDFLAGS) $(CXXLINKFLAGS) $(CXXFLAGS) -o $@ $(SHAREDOBJS) $(LIBS)

# Compile
.cpp.o:
	$(CXX) $(CXXFLAGS) $(INCL) -c -o $@ $<


clean:
	rm -rf $(EXE) $(SHARED) $(OBJS)

